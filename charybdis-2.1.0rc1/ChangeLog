jilles      2006/09/02 23:57:18 UTC	(20060902-2031)
  Log:
  Merged revisions 2029 via svnmerge from 
  http://svn.atheme.org/charybdis/trunk
  
  ........
    r2029 | jilles | 2006-09-03 01:56:06 +0200 (Sun, 03 Sep 2006) | 2 lines
    
    NEWS: mention m_webirc.c module
  ........
  

  Changes:	Modified:
  + -		branches/release-2.1/  (Property Modified)
  +1 -0		branches/release-2.1/NEWS (File Modified) 


jilles      2006/09/02 23:50:03 UTC	(20060902-2027)
  Log:
  Rerun autoconf.
  

  Changes:	Modified:
  +9 -9		branches/release-2.1/configure (File Modified) 


jilles      2006/09/02 23:49:29 UTC	(20060902-2025)
  Log:
  Change version to 2.1.0rc1.
  

  Changes:	Modified:
  +1 -1		branches/release-2.1/configure.ac (File Modified) 


jilles      2006/09/02 23:47:27 UTC	(20060902-2023)
  Log:
  Merged revisions 2021 via svnmerge from 
  http://svn.atheme.org/charybdis/trunk
  
  ........
    r2021 | jilles | 2006-09-03 01:24:17 +0200 (Sun, 03 Sep 2006) | 4 lines
    
    Get rid of delete_resolver_queries_f(), dnsbl_hits and
    related flaky looking things, and instead keep a list
    of BlacklistClients in PreClient.
  ........
  

  Changes:	Modified:
  + -		branches/release-2.1/  (Property Modified)
  +4 -1		branches/release-2.1/include/blacklist.h (File Modified) 
  +1 -1		branches/release-2.1/include/client.h (File Modified) 
  +0 -1		branches/release-2.1/include/res.h (File Modified) 
  +17 -32	branches/release-2.1/src/blacklist.c (File Modified) 
  +0 -24	branches/release-2.1/src/res.c (File Modified) 
  +1 -1		branches/release-2.1/src/s_user.c (File Modified) 


jilles      2006/09/02 19:25:05 UTC	(20060902-2019)
  Log:
  Merged revisions 2015,2017 via svnmerge from 
  http://svn.atheme.org/charybdis/trunk
  
  ........
    r2015 | jilles | 2006-09-02 20:11:23 +0200 (Sat, 02 Sep 2006) | 4 lines
    
    Check if the name in the question section of the
    DNS reply matches what we queried, to guard against
    late replies to a previous query with the same id.
  ........
    r2017 | jilles | 2006-09-02 20:24:34 +0200 (Sat, 02 Sep 2006) | 2 lines
    
    res.c: add a comment summarizing our changes
  ........
  

  Changes:	Modified:
  + -		branches/release-2.1/  (Property Modified)
  +53 -18	branches/release-2.1/src/res.c (File Modified) 


jilles      2006/09/01 19:43:30 UTC	(20060901-1985)
  Log:
  Merged revisions 1981 via svnmerge from 
  http://svn.atheme.org/charybdis/trunk
  
  ........
    r1981 | jilles | 2006-09-01 03:21:02 +0200 (Fri, 01 Sep 2006) | 2 lines
    
    Alphabetize extensions and tweak the descriptions a little.
  ........
  

  Changes:	Modified:
  + -		branches/release-2.1/  (Property Modified)
  +5 -5		branches/release-2.1/doc/example.conf (File Modified) 
  +13 -13	branches/release-2.1/doc/reference.conf (File Modified) 


jilles      2006/09/01 19:42:07 UTC	(20060901-1983)
  Log:
  Merged revisions 1975 via svnmerge from 
  http://svn.atheme.org/charybdis/trunk
  
  ........
    r1975 | jilles | 2006-09-01 01:56:25 +0200 (Fri, 01 Sep 2006) | 4 lines
    
    Fix bug in WEBIRC to deal with hosts being longer than HOSTLEN.
    We should use the IP and not truncate the hostname.
    From ratbox 2.2 (androsyn)
  ........
  

  Changes:	Modified:
  + -		branches/release-2.1/  (Property Modified)
  +7 -1		branches/release-2.1/extensions/m_webirc.c (File Modified) 


jilles      2006/09/01 00:01:23 UTC	(20060901-1977)
  Log:
  Initialized merge tracking via "svnmerge" with revisions "1-1918" from 
  http://svn.atheme.org/charybdis/trunk
  

  Changes:	Modified:
  + -		branches/release-2.1/  (Property Modified)


nenolod     2006/08/31 10:32:46 UTC	(20060831-1919)
  Log:
  - branch 2.1 release family
  

  Changes:	Modified:
  + -		branches/release-2.1/ (File Added) 


jilles      2006/08/30 16:20:52 UTC	(20060830-1917)
  Log:
  Describe new handling of host mangling in channel bans in SGML.
  

  Changes:	Modified:
  +7 -1		trunk/doc/sgml/oper-guide/cmodes.sgml (File Modified) 


nenolod     2006/08/29 20:24:08 UTC	(20060829-1915)
  Log:
  - ok, 2.1 operline brought to you by marvin the melancholy robot
  

  Changes:	Modified:
  +1 -1		trunk/src/messages.tab (File Modified) 


nenolod     2006/08/29 19:48:43 UTC	(20060829-1913)
  Log:
  - change RPL_YOUREOPER to "Be sure to duck the rotten tomatoes."
  If anybody comes up with anything better, then please let us know
  and we will change this before 2.1 is branched.
  

  Changes:	Modified:
  +1 -1		trunk/src/messages.tab (File Modified) 


jilles      2006/08/29 19:34:39 UTC	(20060829-1911)
  Log:
  Add EUID to capab.txt.
  

  Changes:	Modified:
  +1 -0		trunk/doc/technical/capab.txt (File Modified) 


jilles      2006/08/29 19:32:44 UTC	(20060829-1909)
  Log:
  Update NEWS file.
  

  Changes:	Modified:
  +3 -0		trunk/NEWS (File Modified) 


jilles      2006/08/29 19:18:15 UTC	(20060829-1907)
  Log:
  Allow service{} servers to manipulate the nick delay table
  (for "nickserv enforcement").
  Syntax: :<server> ENCAP * NICKDELAY <duration> <nick>
  If duration is 0, the nickdelay entry is removed, otherwise
  it is added with the duration in seconds (maximum 24 hours).
  It is suggested that this is used if the EUID capab is present.
  

  Changes:	Modified:
  +42 -1	trunk/modules/m_services.c (File Modified) 


jilles      2006/08/29 14:51:31 UTC	(20060829-1905)
  Log:
  HURT: strip off *@ from the start of the mask
  reject anything else containing '@' or '!'
  

  Changes:	Modified:
  +11 -0	trunk/extensions/hurt.c (File Modified) 


jilles      2006/08/29 14:46:33 UTC	(20060829-1903)
  Log:
  ircd.c: need supported.h here
  

  Changes:	Modified:
  +1 -0		trunk/src/ircd.c (File Modified) 


jilles      2006/08/29 14:45:53 UTC	(20060829-1901)
  Log:
  HURT: less ambiguity here
  ips/hosts to be hurt must contain a '.' or ':' otherwise
  they are interpreted as nicks
  

  Changes:	Modified:
  +14 -9	trunk/extensions/hurt.c (File Modified) 


nenolod     2006/08/29 14:40:11 UTC	(20060829-1899)
  Log:
  - we're now ircd-charybdis.org.
  - properly alphabetize credits
  

  Changes:	Modified:
  +4 -5		trunk/CREDITS (File Modified) (Property Modified)


nenolod     2006/08/29 14:35:53 UTC	(20060829-1897)
  Log:
  - add additional modules to the configs
  

  Changes:	Modified:
  +6 -0		trunk/doc/example.conf (File Modified) 
  +12 -0	trunk/doc/reference.conf (File Modified) 


nenolod     2006/08/29 14:26:40 UTC	(20060829-1895)
  Log:
  - remove hurt.h, it is pointless and confusing
  

  Changes:	Modified:
  +27 -62	trunk/extensions/hurt.c (File Modified) 
  + -		trunk/extensions/hurt.h (File Deleted) 


nenolod     2006/08/29 14:24:37 UTC	(20060829-1893)
  Log:
  - add code to suggest a local HURT by nickname.
  - clean up this code (use libcharybdis runtime for memory management, not system libc)
  

  Changes:	Modified:
  +40 -10	trunk/extensions/hurt.c (File Modified) 
  +1 -0		trunk/extensions/hurt.h (File Modified) 


nenolod     2006/08/29 14:13:06 UTC	(20060829-1891)
  Log:
  - update NEWS file
  

  Changes:	Modified:
  +2 -1		trunk/NEWS (File Modified) 


jilles      2006/08/29 13:49:29 UTC	(20060829-1889)
  Log:
  MASKTRACE/TESTMASK: check orighost as well
  

  Changes:	Modified:
  +4 -2		trunk/modules/m_etrace.c (File Modified) 
  +3 -1		trunk/modules/m_testmask.c (File Modified) 


jilles      2006/08/29 13:42:56 UTC	(20060829-1887)
  Log:
  Make RPL_ISUPPORT (005) numeric modularizable.
  Currently it will reassemble the numeric every time
  it needs to be sent, using a few dozen callbacks;
  if this is too slow some caching scheme should be
  implemented.
  

  Changes:	Modified:
  +0 -1		trunk/include/s_user.h (File Modified) 
  +36 -114	trunk/include/supported.h (File Modified) 
  +1 -1		trunk/modules/m_version.c (File Modified) 
  +1 -0		trunk/src/Makefile.in (File Modified) 
  +1 -0		trunk/src/ircd.c (File Modified) 
  +300 -25	trunk/src/s_user.c (File Modified) 
  + -		trunk/src/supported.c (File Added) 


jilles      2006/08/28 10:09:50 UTC	(20060828-1885)
  Log:
  EUID orighost could differ from host only in case,
  do not mark as dynamic spoof then
  

  Changes:	Modified:
  +2 -1		trunk/modules/core/m_nick.c (File Modified) 


jilles      2006/08/28 09:52:57 UTC	(20060828-1883)
  Log:
  kline help file: clarify a bit and remove some obsolete stuff
  partly suggested by Olin
  

  Changes:	Modified:
  +8 -8		trunk/help/opers/kline (File Modified) 


jilles      2006/08/28 09:51:56 UTC	(20060828-1881)
  Log:
  Update NEWS file.
  

  Changes:	Modified:
  +20 -0	trunk/NEWS (File Modified) 


jilles      2006/08/27 21:18:43 UTC	(20060827-1879)
  Log:
  Show real host/IP to nonopers whoising themselves.
  The IP is not shown for auth{} spoofs, otherwise it is,
  as it looked rather weird to me to show an auth{} spoofed
  IP like this. (/userhost on self still shows the IP.)
  

  Changes:	Modified:
  +13 -2	trunk/modules/m_whois.c (File Modified) 


jilles      2006/08/27 18:30:04 UTC	(20060827-1877)
  Log:
  Document nick_delay stuff and move it around a bit.
  

  Changes:	Modified:
  +1 -2		trunk/doc/example.conf (File Modified) 
  +8 -2		trunk/doc/reference.conf (File Modified) 


nenolod     2006/08/27 18:22:55 UTC	(20060827-1875)
  Log:
  - disable nickdelay by default. Needs to be documented in reference.conf.
  

  Changes:	Modified:
  +2 -0		trunk/doc/example.conf (File Modified) 
  +2 -0		trunk/doc/reference.conf (File Modified) 


jilles      2006/08/27 18:05:50 UTC	(20060827-1873)
  Log:
  Fix RPL_WHOISLOGGEDIN (330) not being sent in TS6 form.
  

  Changes:	Modified:
  +2 -1		trunk/modules/m_services.c (File Modified) 


jilles      2006/08/27 15:36:00 UTC	(20060827-1871)
  Log:
  ip_cloaking: somewhat hackish but we need to send the
  396 (RPL_HOSTHIDDEN) on connect if +h is in default
  umodes
  

  Changes:	Modified:
  +3 -0		trunk/extensions/ip_cloaking.c (File Modified) 


jilles      2006/08/27 14:24:25 UTC	(20060827-1869)
  Log:
  If EUID is used, show realhost in far connect notice
  (but not in far disconnect notice).
  

  Changes:	Modified:
  +1 -1		trunk/extensions/sno_farconnect.c (File Modified) 


jilles      2006/08/27 14:21:45 UTC	(20060827-1867)
  Log:
  ip_cloaking:
  - use non-ENCAP CHGHOST if possible
  - really introduce new users with their mangled and real
    host if +h is in default umodes
  

  Changes:	Modified:
  +15 -3	trunk/extensions/ip_cloaking.c (File Modified) 


jilles      2006/08/27 14:02:57 UTC	(20060827-1865)
  Log:
  Add non-ENCAP CHGHOST.
  

  Changes:	Modified:
  +49 -11	trunk/modules/m_chghost.c (File Modified) 


jilles      2006/08/27 13:40:37 UTC	(20060827-1863)
  Log:
  Initial addition of EUID (puts realhost/account in same
  command as user introduction).
  See doc/technical/euid.txt for more information.
  At this time, EUID requires TS6, and new CHGHOST is not done yet.
  

  Changes:	Modified:
  + -		trunk/doc/technical/euid.txt (File Added) 
  +2 -1		trunk/include/s_serv.h (File Modified) 
  +1 -1		trunk/include/s_user.h (File Modified) 
  +127 -4	trunk/modules/core/m_nick.c (File Modified) 
  +1 -34	trunk/modules/m_chghost.c (File Modified) 
  +0 -28	trunk/modules/m_services.c (File Modified) 
  +30 -1	trunk/src/s_serv.c (File Modified) 
  +30 -3	trunk/src/s_user.c (File Modified) 


jilles      2006/08/26 23:21:42 UTC	(20060826-1861)
  Log:
  Store the mangled host in localClient and use it for
  ban matching (also match real host for mangled users,
  also match mangled host for uncloaked users).
  Improve interaction of +h with auth{} and services
  spoofs.
  Note that all of this only applies to clients who
  connect after the mangling module is loaded
  (other clients cannot even set +h).
  The sorcerynet cloaking module has not been updated
  for these changes.
  

  Changes:	Modified:
  +31 -13	trunk/extensions/ip_cloaking.c (File Modified) 
  +3 -0		trunk/include/client.h (File Modified) 
  +64 -5	trunk/src/channel.c (File Modified) 
  +1 -0		trunk/src/client.c (File Modified) 
  +2 -2		trunk/src/s_user.c (File Modified) 


jilles      2006/08/25 20:20:42 UTC	(20060825-1859)
  Log:
  Document /stats U letters in sgml.
  

  Changes:	Modified:
  +27 -21	trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/08/25 14:33:51 UTC	(20060825-1857)
  Log:
  Better description of hub_mask and leaf_mask.
  

  Changes:	Modified:
  +13 -2	trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/08/25 14:24:14 UTC	(20060825-1855)
  Log:
  Add operspy_dont_care_user_info to sgml docs.
  

  Changes:	Modified:
  +6 -0		trunk/doc/sgml/oper-guide/oprivs.sgml (File Modified) 


jilles      2006/08/24 18:30:52 UTC	(20060824-1853)
  Log:
  Add general::operspy_dont_care_user_info.
  This makes /who mask equivalent to /who !mask for opers
  with the operspy flag, and removes the operspy log/notice
  on /who mask, /masktrace and /scan.
  The necessary privilege (operspy flag) is unchanged.
  Behaviour for the other operspy commands (channel
  related ones) is also unchanged.
  

  Changes:	Modified:
  +1 -0		trunk/doc/example.conf (File Modified) 
  +6 -0		trunk/doc/reference.conf (File Modified) 
  +1 -0		trunk/include/s_conf.h (File Modified) 
  +10 -8	trunk/modules/m_etrace.c (File Modified) 
  +6 -0		trunk/modules/m_info.c (File Modified) 
  +8 -5		trunk/modules/m_scan.c (File Modified) 
  +1 -1		trunk/modules/m_version.c (File Modified) 
  +6 -1		trunk/modules/m_who.c (File Modified) 
  +1 -0		trunk/src/newconf.c (File Modified) 
  +1 -0		trunk/src/s_conf.c (File Modified) 


jilles      2006/08/24 17:16:53 UTC	(20060824-1851)
  Log:
  Show 'S' in /version if sno_farconnect.so has ever been loaded.
  This letter will also be used for showing operspy with
  limited accountability (show non channel related info
  without '!' or notice).
  

  Changes:	Modified:
  +2 -0		trunk/doc/server-version-info (File Modified) 
  +3 -0		trunk/extensions/sno_farconnect.c (File Modified) 
  +2 -0		trunk/include/ircd.h (File Modified) 
  +6 -0		trunk/modules/m_info.c (File Modified) 
  +2 -0		trunk/modules/m_version.c (File Modified) 
  +1 -0		trunk/src/ircd_state.c (File Modified) 


jilles      2006/08/23 12:40:21 UTC	(20060823-1849)
  Log:
  Add m_webirc module, allows showing real host of CGI:IRC users.
  Differences to the version available on my web page for a while:
  instructions on how to set it up.
  

  Changes:	Modified:
  +137 -0	trunk/extensions/Makefile.in (File Modified) 
  + -		trunk/extensions/m_webirc.c (File Added) 


nenolod     2006/08/23 10:21:57 UTC	(20060823-1847)
  Log:
  - make I/O ports code compile on solaris 10 (tested on SunOS 5.10 sun4u sparc64)
  

  Changes:	Modified:
  +5 -50	trunk/libcharybdis/ports.c (File Modified) 


nenolod     2006/08/22 23:57:10 UTC	(20060822-1845)
  Log:
  - move beu from core to contributors
  - adjust captialisation on gxti's nickname (he uses gxti now instead of GXTi).
  

  Changes:	Modified:
  +2 -2		trunk/CREDITS (File Modified) 


jilles      2006/08/22 17:57:25 UTC	(20060822-1843)
  Log:
  Mention that class blocks must be defined before the
  auth or connect blocks referencing them.
  

  Changes:	Modified:
  +4 -2		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/08/22 17:30:03 UTC	(20060822-1841)
  Log:
  extb_canjoin:
  - change from "can join" to "is banned", this reverses sense
    and removes "weird" checks like for +i, +l, +j
  - don't allow $j to same channel
  - +s/+p restriction removed, anyone can /mode b anyway
  - +k check removed
  

  Changes:	Modified:
  +12 -8	trunk/extensions/extb_canjoin.c (File Modified) 


jilles      2006/08/22 15:25:37 UTC	(20060822-1839)
  Log:
  Add a few important lines from reference.conf to example.conf.
  

  Changes:	Modified:
  +8 -1		trunk/doc/example.conf (File Modified) 


nenolod     2006/08/22 14:05:58 UTC	(20060822-1837)
  Log:
  - we don't support rtsigio anymore
  - we definately don't support VMS nor Cygwin either.
  

  Changes:	Modified:
  +2 -2		trunk/INSTALL (File Modified) 
  +0 -2		trunk/README.FIRST (File Modified) 


nenolod     2006/08/22 12:59:38 UTC	(20060822-1835)
  Log:
  - if the channel is +k, pass the source channel's key to can_join() for the target channel.
  

  Changes:	Modified:
  +1 -1		trunk/extensions/extb_canjoin.c (File Modified) 


jilles      2006/08/22 12:55:22 UTC	(20060822-1833)
  Log:
  extb_canjoin:
  - return EXTBAN_NOMATCH for a valid ban that does not match
  - consider a $j ban invalid if we were already processing a
    can_join for a $j ban
  

  Changes:	Modified:
  +7 -2		trunk/extensions/extb_canjoin.c (File Modified) 


jilles      2006/08/22 12:44:04 UTC	(20060822-1831)
  Log:
  extb_extgecos: realhost -> orighost
  

  Changes:	Modified:
  +1 -1		trunk/extensions/extb_extgecos.c (File Modified) 


nenolod     2006/08/22 07:05:17 UTC	(20060822-1829)
  Log:
  - add $j extban type, allows entry or non-entry to a channel based on whether or not you can join another channel.
  

  Changes:	Modified:
  +59 -0	trunk/extensions/Makefile.in (File Modified) 
  + -		trunk/extensions/extb_canjoin.c (File Added) 


nenolod     2006/08/22 05:06:34 UTC	(20060822-1827)
  Log:
  - oh right, charybdis calls that 'orighost'.
  

  Changes:	Modified:
  +2 -2		trunk/modules/m_who.c (File Modified) 


nenolod     2006/08/22 05:05:20 UTC	(20060822-1825)
  Log:
  - allow *opers* to do a /who based on realhost. Perhaps this should require operspy? TBD.
  

  Changes:	Modified:
  +2 -0		trunk/modules/m_who.c (File Modified) 


nenolod     2006/08/22 00:16:38 UTC	(20060822-1823)
  Log:
  - also check $x against realhost
  

  Changes:	Modified:
  +12 -1	trunk/extensions/extb_extgecos.c (File Modified) 


jilles      2006/08/20 17:16:37 UTC	(20060820-1811)
  Log:
  Sorcerynet people want a debugging notice moved from +s to +d.
  

  Changes:	Modified:
  +1 -1		trunk/src/blacklist.c (File Modified) 


jilles      2006/08/20 16:59:27 UTC	(20060820-1805)
  Log:
  Use source_p instead of client_p for free_pre_client().
  client_p could be NULL or another client.
  

  Changes:	Modified:
  +1 -1		trunk/src/client.c (File Modified) 


nenolod     2006/08/20 16:58:04 UTC	(20060820-1803)
  Log:
  - revert this, I know how to fix it now
  

  Changes:	Modified:
  +1 -1		trunk/modules/core/m_nick.c (File Modified) 


nenolod     2006/08/20 16:55:31 UTC	(20060820-1801)
  Log:
  - pass an actual valid client_p to exit_client() when dealing with Overriden condition.
  This fix is probably suboptimal, but it does indeed fix the problem.
  

  Changes:	Modified:
  +1 -1		trunk/modules/core/m_nick.c (File Modified) 


nenolod     2006/08/20 10:27:33 UTC	(20060820-1799)
  Log:
  - add extb_extgecos extban option ($x:nick!user@host#gecos), from sorcery modules
  

  Changes:	Modified:
  +49 -0	trunk/extensions/Makefile.in (File Modified) 
  + -		trunk/extensions/extb_extgecos.c (File Added) 


jilles      2006/08/10 00:00:44 UTC	(20060810-1797)
  Log:
  Remove undocumented and unused general::fallback_to_ip6_int config option.
  

  Changes:	Modified:
  +0 -3		trunk/include/s_conf.h (File Modified) 
  +0 -3		trunk/src/newconf.c (File Modified) 


jilles      2006/08/04 20:12:47 UTC	(20060804-1795)
  Log:
  SGML docs:
  - document new TESTMASK
  - mention that TESTMASK matching is the same as MASKTRACE matching
  - mention that gecos in TESTMASK/MASKTRACE is optional (has always
    been that way)
  

  Changes:	Modified:
  +23 -6	trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 


jilles      2006/08/04 19:56:03 UTC	(20060804-1793)
  Log:
  New testmask from ratbox 2.2.
  Allows matches on nick, ip and gecos in addition to user
  and host, and is fully analogous to masktrace.
  The numeric has changed from 724 to 727 and fields in it
  have changed.
  

  Changes:	Modified:
  +4 -3		trunk/help/opers/testmask (File Modified) 
  +1 -0		trunk/include/numeric.h (File Modified) 
  +82 -9	trunk/modules/m_testmask.c (File Modified) 
  +2 -2		trunk/src/messages.tab (File Modified) 


jilles      2006/08/04 19:33:27 UTC	(20060804-1791)
  Log:
  contrib -> extensions
  

  Changes:	Modified:
  +1 -1		trunk/doc/sgml/oper-guide/umodes.sgml (File Modified) 


jilles      2006/08/03 22:12:00 UTC	(20060803-1789)
  Log:
  CHGHOST: Check validity of new hostname.
  If the command came from a local client (disabled by
  default), send an error message and drop the command.
  If the command came from a remote client or server,
  send a notice to opers and the target user (if local).
  

  Changes:	Modified:
  +42 -1	trunk/modules/m_chghost.c (File Modified) 


jilles      2006/07/31 15:54:57 UTC	(20060731-1787)
  Log:
  Update NEWS file.
  

  Changes:	Modified:
  +23 -1	trunk/NEWS (File Modified) 


jilles      2006/07/31 15:24:06 UTC	(20060731-1785)
  Log:
  When an outgoing server connection succeeds, set
  localClient->ip by simply copying the whole sockaddr
  struct instead of copying certain parts only.
  

  Changes:	Modified:
  +1 -19	trunk/src/s_serv.c (File Modified) 


jilles      2006/07/31 15:17:19 UTC	(20060731-1783)
  Log:
  Give a special error message and ignore the connect block
  if trying to add a connect block for the server's own name.
  

  Changes:	Modified:
  +7 -0		trunk/src/newconf.c (File Modified) 


jilles      2006/07/30 18:07:38 UTC	(20060730-1781)
  Log:
  Provide stubs for BlockHeapUsage(), struct MemBlock and MemBlock
  when --disable-balloc is used, so that it compiles.
  Obviously the BlockHeapUsage() stub returns just zeroes so
  /stats z will be less informative.
  

  Changes:	Modified:
  +5 -0		trunk/libcharybdis/balloc.h (File Modified) 


jilles      2006/07/30 16:36:39 UTC	(20060730-1779)
  Log:
  Free and zero dns_query in DNS callback for outgoing connect.
  This avoids double free of reslist.
  

  Changes:	Modified:
  +4 -0		trunk/libcharybdis/commio.c (File Modified) 


jilles      2006/07/30 16:10:50 UTC	(20060730-1777)
  Log:
  From ratbox, log failed outgoing connections to serverlog.
  Added: IP address.
  

  Changes:	Modified:
  +13 -1	trunk/src/s_serv.c (File Modified) 


jilles      2006/07/30 15:44:50 UTC	(20060730-1775)
  Log:
  Change serverlog message when connecting to be more clear and show the port number.
  

  Changes:	Modified:
  +1 -1		trunk/src/s_serv.c (File Modified) 


jilles      2006/07/30 15:03:52 UTC	(20060730-1773)
  Log:
  Remove gethost_byname(), this is meaningless
  since the removal of AAAA -> A fallback (r1763).
  

  Changes:	Modified:
  +0 -1		trunk/include/res.h (File Modified) 
  +0 -12	trunk/src/res.c (File Modified) 


jilles      2006/07/30 14:47:53 UTC	(20060730-1771)
  Log:
  Remove ip6.int support and use only ip6.arpa.
  The global ip6.int zone has disappeared on June 1
  and a lot of other software has been removing ip6.int
  support also.
  This removes the second and last case where IPv6
  support in charybdis causes extra lookups and slows
  DNS down.
  

  Changes:	Modified:
  +5 -27	trunk/src/res.c (File Modified) 


jilles      2006/07/30 14:30:48 UTC	(20060730-1769)
  Log:
  Mention new default (r1767) for connect::aftype in sgml docs.
  

  Changes:	Modified:
  +1 -1		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/07/30 13:59:15 UTC	(20060730-1767)
  Log:
  Use IPv6 if connect::host looks like an IPv6 address
  (contains a colon). No need to aftype=ipv6 anymore.
  

  Changes:	Modified:
  +2 -0		trunk/src/newconf.c (File Modified) 


jilles      2006/07/30 13:42:26 UTC	(20060730-1765)
  Log:
  More information about connect::host.
  

  Changes:	Modified:
  +7 -2		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/07/30 12:59:39 UTC	(20060730-1763)
  Log:
  Remove fallback to A if AAAA cannot be found.
  In case of a forward check of a reverse lookup, we
  already know if it's ipv4 or ipv6, so it is not
  useful and in case of a forward lookup of a hostname
  in connect::host, connect::aftype already specifies
  if it's ipv4 or ipv6.
  

  Changes:	Modified:
  +4 -27	trunk/src/res.c (File Modified) 


jilles      2006/07/27 19:27:49 UTC	(20060727-1761)
  Log:
  msg_channel():
  - check if +c made the message text empty and refuse
    to send it if so
  - don't copy message text if it is not necessary
    (channel is -c)
  

  Changes:	Modified:
  +14 -4	trunk/modules/core/m_message.c (File Modified) 


jilles      2006/07/25 23:46:50 UTC	(20060725-1759)
  Log:
  remove_conf_item(): do not free cf_name, this is generally a string constant
  

  Changes:	Modified:
  +0 -1		trunk/src/newconf.c (File Modified) 


jilles      2006/07/25 23:34:45 UTC	(20060725-1757)
  Log:
  Remove the old unused FDL_ constants.
  

  Changes:	Modified:
  +0 -9		trunk/libcharybdis/commio.h (File Modified) 


jilles      2006/07/25 23:17:59 UTC	(20060725-1755)
  Log:
  Remove an unused struct irc_sockaddr_storage from fde_t
  (allocated for every possible file descriptor).
  

  Changes:	Modified:
  +0 -2		trunk/libcharybdis/commio.h (File Modified) 


jilles      2006/07/25 22:48:38 UTC	(20060725-1753)
  Log:
  If the DNS lookup for an outgoing connection is still
  pending when it is closed, clean it up.
  

  Changes:	Modified:
  +1 -0		trunk/libcharybdis/commio.c (File Modified) 


jilles      2006/07/25 22:40:33 UTC	(20060725-1751)
  Log:
  If proc_answer() fails (for example if a lookup for an
  A record returns a CNAME), fail the query immediately.
  Previously the packet was just ignored, leaving the
  query to time out.
  

  Changes:	Modified:
  +4 -8		trunk/src/res.c (File Modified) 


jilles      2006/07/25 22:16:20 UTC	(20060725-1749)
  Log:
  Correct sockhost field in an outgoing server connection.
  First copy the host field from the server_conf, then
  take the IP from to where the connection was attempted
  when the connection callback is called.
  (Before r1747 this used the IP from the server_conf.)
  

  Changes:	Modified:
  +8 -2		trunk/src/s_serv.c (File Modified) 


jilles      2006/07/25 21:22:45 UTC	(20060725-1747)
  Log:
  Remove ipnum (keep aftype) and dns_query from server_conf.
  We don't keep track of binary form address in connect{}
  blocks anymore, DNS lookups of names in host= gone.
  As before the DNS lookup is done on connect.
  This should unbreak hostnames in host= somewhat.
  

  Changes:	Modified:
  +1 -2		trunk/include/s_newconf.h (File Modified) 
  +2 -2		trunk/src/newconf.c (File Modified) 
  +1 -42	trunk/src/s_newconf.c (File Modified) 
  +12 -31	trunk/src/s_serv.c (File Modified) 


jilles      2006/07/25 16:25:56 UTC	(20060725-1745)
  Log:
  Rerun autoconf.
  

  Changes:	Modified:
  +1 -1		trunk/configure (File Modified) 


jilles      2006/07/25 16:25:12 UTC	(20060725-1743)
  Log:
  Fix --disable-balloc help text (said --disable-small-net).
  

  Changes:	Modified:
  +1 -1		trunk/configure.ac (File Modified) 


jilles      2006/07/23 18:58:52 UTC	(20060723-1741)
  Log:
  Add general::servicestring, shown on RPL_WHOISOPERATOR for
  services (+S). Unlike operstring and adminstring, this
  is not changeable with /quote set but is updated on rehash.
  

  Changes:	Modified:
  +1 -0		trunk/doc/example.conf (File Modified) 
  +10 -2	trunk/doc/reference.conf (File Modified) 
  +1 -0		trunk/include/s_conf.h (File Modified) 
  +6 -0		trunk/modules/m_info.c (File Modified) 
  +3 -2		trunk/modules/m_whois.c (File Modified) 
  +1 -0		trunk/src/newconf.c (File Modified) 
  +1 -0		trunk/src/s_conf.c (File Modified) 


jilles      2006/07/22 16:27:02 UTC	(20060722-1739)
  Log:
  Fix handling of comma in whois: ignore the comma and
  everything after it but do output the entire parameter
  in RPL_ENDOFWHOIS.
  

  Changes:	Modified:
  +2 -2		trunk/modules/m_whois.c (File Modified) 


beu         2006/07/21 22:36:46 UTC	(20060721-1737)
  Log:
  New /stats letter 's' to list HURTs:
  - opers get the full listing.
  - users get any HURTs that match their sockhost/orighost if
    "stats_k_oper_only" is set to 1.
  

  Changes:	Modified:
  +50 -0	trunk/extensions/hurt.c (File Modified) 


nenolod     2006/07/19 02:35:40 UTC	(20060719-1735)
  Log:
  - make the newconf system available to modules.
  

  Changes:	Modified:
  +4 -1		trunk/include/newconf.h (File Modified) 
  +4 -8		trunk/src/newconf.c (File Modified) 


beu         2006/07/18 22:39:16 UTC	(20060718-1733)
  Log:
  Undo silly commit (tor.dnsbl.sectoor.de requirs record checking).

  Changes:	Modified:
  +0 -3		trunk/doc/example.conf (File Modified) 
  +0 -3		trunk/doc/reference.conf (File Modified) 


beu         2006/07/18 22:34:36 UTC	(20060718-1731)
  Log:
  Add more effective Tor DNSBL (more up-to-date, more NATed nodes, etc).
  

  Changes:	Modified:
  +3 -0		trunk/doc/example.conf (File Modified) 
  +3 -0		trunk/doc/reference.conf (File Modified) 


jilles      2006/07/17 16:48:13 UTC	(20060717-1729)
  Log:
  Fix too early truncation of JOIN channel list.
  

  Changes:	Modified:
  +2 -3		trunk/modules/core/m_join.c (File Modified) 


jilles      2006/07/07 21:59:52 UTC	(20060707-1727)
  Log:
  - From ratbox 2.2 (anfl), send server notices about read
    errors from handshakes and servers to +s instead of +d.
  - Send various server notices about failed server
    connections which did not reach registered state network
    wide if the connection was initiated by a remote oper.
    This avoids annoying the whole net if there is a
    broken autoconnect, but allows all opers to see why a
    remote connect failed. Failed connections which did reach
    server state already generate server notices everywhere.
  
  Note: this is an exception to our general policy to not send
  server notices about unregistered connections remotely.
  

  Changes:	Modified:
  +1 -0		trunk/include/client.h (File Modified) 
  +20 -6	trunk/src/client.c (File Modified) 
  +6 -6		trunk/src/s_serv.c (File Modified) 


nenolod     2006/07/07 14:41:39 UTC	(20060707-1725)
  Log:
  - fix typoes
  

  Changes:	Modified:
  +1 -1		trunk/doc/example.conf (File Modified) 
  +1 -1		trunk/doc/reference.conf (File Modified) 


jilles      2006/07/06 15:23:58 UTC	(20060706-1723)
  Log:
  Don't allow #channel +b $c:&channel (inconsistent target).
  

  Changes:	Modified:
  +3 -0		trunk/extensions/extb_channel.c (File Modified) 


jilles      2006/07/05 14:37:18 UTC	(20060705-1721)
  Log:
  Remove dns_query pointer from LocalClient, we store this in AuthQuery.
  

  Changes:	Modified:
  +0 -2		trunk/include/client.h (File Modified) 


jilles      2006/07/05 13:28:40 UTC	(20060705-1719)
  Log:
  Invalidate can_send ban cache when a TS6 SJOIN clears the ban list.
  

  Changes:	Modified:
  +2 -0		trunk/modules/core/m_sjoin.c (File Modified) 


jilles      2006/07/04 14:41:11 UTC	(20060704-1717)
  Log:
  Store IP addresses in whowas. These are shown to opers.
  Obtained from Eurus patches.
  orighost tracking removed (not worth the memory IMHO),
  numeric changed to RPL_WHOISACTUALLY, fixed to deal
  with unknown IPs and to not violate auth{} spoof policy.
  

  Changes:	Modified:
  +2 -0		trunk/doc/reference.conf (File Modified) 
  +1 -0		trunk/include/numeric.h (File Modified) 
  +1 -0		trunk/include/whowas.h (File Modified) 
  +10 -1	trunk/modules/m_whowas.c (File Modified) 
  +1 -1		trunk/src/messages.tab (File Modified) 
  +4 -0		trunk/src/whowas.c (File Modified) 


jilles      2006/07/03 15:18:47 UTC	(20060703-1715)
  Log:
  Describe hostmask parameter of masktrace better in sgml docs.
  

  Changes:	Modified:
  +5 -0		trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 


jilles      2006/07/03 14:03:05 UTC	(20060703-1713)
  Log:
  masktrace help file: mention CIDR IP masks
  From ratbox 2.2
  

  Changes:	Modified:
  +2 -0		trunk/help/opers/masktrace (File Modified) 


jilles      2006/07/03 13:56:38 UTC	(20060703-1711)
  Log:
  MASKTRACE: allow normal match() on IP address also
  From ratbox 2.2
  

  Changes:	Modified:
  +2 -3		trunk/modules/m_etrace.c (File Modified) 


jilles      2006/06/29 22:36:45 UTC	(20060629-1709)
  Log:
  Allow +S clients (services) to send to channels and @/+ channels always.
  

  Changes:	Modified:
  +1 -1		trunk/modules/core/m_message.c (File Modified) 
  +1 -1		trunk/src/channel.c (File Modified) 


jilles      2006/06/29 22:25:46 UTC	(20060629-1707)
  Log:
  Allow servers to send to @#chan and +#chan.
  

  Changes:	Modified:
  +1 -1		trunk/modules/core/m_message.c (File Modified) 


jilles      2006/06/29 21:51:59 UTC	(20060629-1705)
  Log:
  Don't count opers on service{} servers in /lusers.
  

  Changes:	Modified:
  +2 -2		trunk/src/s_user.c (File Modified) 


jilles      2006/06/29 21:19:38 UTC	(20060629-1703)
  Log:
  Show opers the real host behind a dynamic spoof in WHOIS.
  If the user is auth{} spoofed, this shows the auth{} spoof
  otherwise it shows the DNS hostname and IP address.
  The numeric used is 378 (RPL_WHOISHOST) taken from Unreal.
  

  Changes:	Modified:
  +1 -0		trunk/include/numeric.h (File Modified) 
  +12 -2	trunk/modules/m_whois.c (File Modified) 
  +1 -1		trunk/src/messages.tab (File Modified) 


jilles      2006/06/27 16:25:52 UTC	(20060627-1701)
  Log:
  Remove #define HIDE_SPOOF_IPS from config.h, should
  have been done earlier.
  

  Changes:	Modified:
  +0 -7		trunk/include/config.h (File Modified) 


jilles      2006/06/27 15:29:10 UTC	(20060627-1699)
  Log:
  Bring back ERR_CANTKILLSERVER.
  

  Changes:	Modified:
  +5 -7		trunk/modules/core/m_kill.c (File Modified) 


jilles      2006/06/27 15:18:57 UTC	(20060627-1697)
  Log:
  ip_cloaking module:
  - also send RPL_HOSTHIDDEN on -h
  - don't allow +h for auth{} spoofed clients
  

  Changes:	Modified:
  +8 -2		trunk/extensions/ip_cloaking.c (File Modified) 


jilles      2006/06/27 15:11:23 UTC	(20060627-1695)
  Log:
  /etc/resolv.conf parsing:
  - don't crash (sometimes) if there is a line without an argument
    (e.g. 'search' by itself)
  - fix handling of lines with leading whitespace
  

  Changes:	Modified:
  +9 -8		trunk/src/reslib.c (File Modified) 


jilles      2006/06/20 14:26:16 UTC	(20060620-1683)
  Log:
  Put back code that terminates DNS queries, which was
  removed during the resolver changes.
  

  Changes:	Modified:
  +4 -0		trunk/src/s_auth.c (File Modified) 


nenolod     2006/06/20 09:20:58 UTC	(20060620-1681)
  Log:
  - oh hey, that was in the wrong place
  

  Changes:	Modified:
  +13 -13	trunk/src/s_auth.c (File Modified) 


nenolod     2006/06/20 08:33:20 UTC	(20060620-1679)
  Log:
  - handle a situation where a user can go away before DNS completes
  

  Changes:	Modified:
  +13 -0	trunk/src/s_auth.c (File Modified) 


jilles      2006/06/16 14:43:33 UTC	(20060616-1677)
  Log:
  More dnsbl stuff
  

  Changes:	Modified:
  +1 -0		trunk/include/blacklist.h (File Modified) 
  +1 -0		trunk/include/res.h (File Modified) 
  +33 -2	trunk/src/blacklist.c (File Modified) 
  +2 -0		trunk/src/client.c (File Modified) 
  +24 -0	trunk/src/res.c (File Modified) 


jilles      2006/06/15 22:32:23 UTC	(20060615-1675)
  Log:
  Don't touch the returned sockaddr (mangle_mapped_sockaddr())
  if comm_accept() failed.
  
  Found with valgrind.
  

  Changes:	Modified:
  +4 -4		trunk/src/listener.c (File Modified) 


nenolod     2006/06/15 18:13:04 UTC	(20060615-1673)
  Log:
  - handle unavailable Client/preClient structs
  

  Changes:	Modified:
  +9 -0		trunk/src/blacklist.c (File Modified) 


jilles      2006/06/14 17:52:20 UTC	(20060614-1671)
  Log:
  Add +lf to SGML docs.
  

  Changes:	Modified:
  +3 -2		trunk/doc/sgml/oper-guide/cmodes.sgml (File Modified) 


jilles      2006/06/14 17:48:41 UTC	(20060614-1669)
  Log:
  Also do forwarding if the channel limit (+l) is exceeded.
  

  Changes:	Modified:
  +1 -1		trunk/help/opers/cmode (File Modified) 
  +2 -2		trunk/modules/core/m_join.c (File Modified) 


beu         2006/06/07 11:53:21 UTC	(20060607-1663)
  Log:
  Post-release lovin':
  - Update version to 2.1.0.
  - Regenerate configure.
  

  Changes:	Modified:
  +9 -9		trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


beu         2006/06/07 11:42:54 UTC	(20060607-1659)
  Log:
  Comment out example blacklist{} block.
  

  Changes:	Modified:
  +7 -7		trunk/doc/example.conf (File Modified) 
  +7 -7		trunk/doc/reference.conf (File Modified) 


beu         2006/06/07 10:59:48 UTC	(20060607-1653)
  Log:
  Add note regarding use of AHBL BLs.
  

  Changes:	Modified:
  +4 -0		trunk/doc/example.conf (File Modified) 
  +4 -0		trunk/doc/reference.conf (File Modified) 


jilles      2006/06/05 15:43:45 UTC	(20060605-1646)
  Log:
  Fix typos.
  

  Changes:	Modified:
  +2 -2		trunk/CREDITS (File Modified) 


jilles      2006/06/05 15:28:22 UTC	(20060605-1644)
  Log:
  Add beu to CREDITS.
  

  Changes:	Modified:
  +1 -0		trunk/CREDITS (File Modified) 


jilles      2006/06/05 00:02:19 UTC	(20060605-1640)
  Log:
  Put more recent ratbox CREDITS here.
  

  Changes:	Modified:
  +3 -2		trunk/doc/Ratbox-team (File Modified) 


jilles      2006/06/04 19:19:02 UTC	(20060604-1636)
  Log:
  Clarify a bit.
  

  Changes:	Modified:
  +5 -4		trunk/NEWS (File Modified) 


jilles      2006/06/04 13:26:04 UTC	(20060604-1634)
  Log:
  Mention that install or make install also avoids modunload crashes.
  

  Changes:	Modified:
  +2 -1		trunk/BUGS (File Modified) 


nenolod     2006/06/04 07:01:42 UTC	(20060604-1632)
  Log:
  - update NEWS a bit
  

  Changes:	Modified:
  +3 -8		trunk/NEWS (File Modified) 


nenolod     2006/06/04 03:06:33 UTC	(20060604-1630)
  Log:
  - further updates
  

  Changes:	Modified:
  +3 -2		trunk/BUGS (File Modified) 


nenolod     2006/06/04 03:05:20 UTC	(20060604-1628)
  Log:
  - add orighost check to hurt.c
  - update BUGS info
  

  Changes:	Modified:
  +1 -6		trunk/BUGS (File Modified) 
  +1 -1		trunk/extensions/hurt.c (File Modified) 


jilles      2006/06/04 03:03:46 UTC	(20060604-1626)
  Log:
  Make kline_exempt exempt from HURT also.
  

  Changes:	Modified:
  +2 -1		trunk/extensions/hurt.c (File Modified) 


jilles      2006/06/04 03:02:27 UTC	(20060604-1624)
  Log:
  Fix mask HEAL propagation.
  

  Changes:	Modified:
  +6 -3		trunk/extensions/hurt.c (File Modified) 


beu         2006/06/04 03:01:05 UTC	(20060604-1622)
  Log:
  - Remove old cruft.
  - Update.
  

  Changes:	Modified:
  +18 -31	trunk/extensions/README (File Modified) 


jilles      2006/06/04 02:46:31 UTC	(20060604-1620)
  Log:
  More target change hax.
  Ick.
  

  Changes:	Modified:
  +5 -0		trunk/extensions/hurt.c (File Modified) 


jilles      2006/06/04 02:44:47 UTC	(20060604-1618)
  Log:
  Improvements to HURT propagation.
  

  Changes:	Modified:
  +8 -6		trunk/extensions/hurt.c (File Modified) 


nenolod     2006/06/04 02:33:31 UTC	(20060604-1616)
  Log:
  - further simplification
  

  Changes:	Modified:
  +25 -76	trunk/extensions/hurt.c (File Modified) 
  +0 -9		trunk/extensions/hurt.h (File Modified) 


nenolod     2006/06/04 02:22:52 UTC	(20060604-1614)
  Log:
  - client_exit hook
  

  Changes:	Modified:
  +13 -0	trunk/extensions/hurt.c (File Modified) 


nenolod     2006/06/04 02:17:01 UTC	(20060604-1612)
  Log:
  - cut off at 15 messages instead of 30
  

  Changes:	Modified:
  +1 -1		trunk/extensions/hurt.h (File Modified) 


jilles      2006/06/04 02:16:18 UTC	(20060604-1610)
  Log:
  Squash a warning here.
  

  Changes:	Modified:
  +1 -3		trunk/src/ircd.c (File Modified) 


jilles      2006/06/04 02:11:40 UTC	(20060604-1608)
  Log:
  Don't show servers in /stats l to nonopers if flatten links is enabled.
  

  Changes:	Modified:
  +3 -1		trunk/modules/m_stats.c (File Modified) 


nenolod     2006/06/04 02:05:50 UTC	(20060604-1606)
  Log:
  - hurt expiry
  

  Changes:	Modified:
  +20 -7	trunk/extensions/hurt.c (File Modified) 


nenolod     2006/06/04 01:59:06 UTC	(20060604-1603)
  Log:
  - remove inline stuff (yuck)
  - sockaddr should have been sockhost
  

  Changes:	Modified:
  +22 -31	trunk/extensions/hurt.c (File Modified) 


nenolod     2006/06/04 01:56:14 UTC	(20060604-1601)
  Log:
  - make hurt checking actually work
  

  Changes:	Modified:
  +2 -7		trunk/extensions/hurt.c (File Modified) 


jilles      2006/06/04 01:55:34 UTC	(20060604-1599)
  Log:
  Slight tweak to alias{}.
  

  Changes:	Modified:
  +4 -0		trunk/src/parse.c (File Modified) 


nenolod     2006/06/04 01:54:42 UTC	(20060604-1597)
  Log:
  - further simplification
  

  Changes:	Modified:
  +59 -71	trunk/extensions/hurt.c (File Modified) 
  +0 -1		trunk/extensions/hurt.h (File Modified) 


nenolod     2006/06/04 01:40:14 UTC	(20060604-1595)
  Log:
  - further cleanup (but, it does not compile right now because i've removed the patricia code (well, most of it)
  

  Changes:	Modified:
  +10 -20	trunk/extensions/hurt.c (File Modified) 
  +0 -4		trunk/extensions/hurt.h (File Modified) 


nenolod     2006/06/04 01:25:26 UTC	(20060604-1593)
  Log:
  - remove some unnecessary code here (hurt_initial_check_event()).
  

  Changes:	Modified:
  +0 -23	trunk/extensions/hurt.c (File Modified) 


nenolod     2006/06/04 01:21:30 UTC	(20060604-1591)
  Log:
  - if PRIVMSG has been crippled (localClient.target_last > CurrentTime), and the PM target is an operator, then allow it through
  

  Changes:	Modified:
  +8 -0		trunk/modules/core/m_message.c (File Modified) 


nenolod     2006/06/04 01:09:52 UTC	(20060604-1589)
  Log:
  - more sane tgchange hax
  

  Changes:	Modified:
  +2 -1		trunk/extensions/hurt.c (File Modified) 


jilles      2006/06/03 23:28:39 UTC	(20060603-1587)
  Log:
  Make HEAL <nick> work.
  

  Changes:	Modified:
  +40 -43	trunk/extensions/hurt.c (File Modified) 


jilles      2006/06/03 23:04:33 UTC	(20060603-1585)
  Log:
  Destroy hurt_clients list on unload.
  

  Changes:	Modified:
  +7 -0		trunk/extensions/hurt.c (File Modified) 


jilles      2006/06/03 22:55:21 UTC	(20060603-1583)
  Log:
  Coding style: no space between a function name and parenthesis.
  

  Changes:	Modified:
  +43 -43	trunk/extensions/hurt.c (File Modified) 


jilles      2006/06/03 22:48:40 UTC	(20060603-1581)
  Log:
  Now works and throws out hurt clients after 30 protocol messages
  unless they identify.
  

  Changes:	Modified:
  +28 -36	trunk/extensions/hurt.c (File Modified) 
  +1 -7		trunk/extensions/hurt.h (File Modified) 


jilles      2006/06/03 22:19:39 UTC	(20060603-1579)
  Log:
  Working addition/lookup.
  

  Changes:	Modified:
  +8 -0		trunk/extensions/hurt.c (File Modified) 


jilles      2006/06/03 22:00:31 UTC	(20060603-1577)
  Log:
  Get rid of hyb6 style propagation (:server COMMAND source).
  

  Changes:	Modified:
  +18 -22	trunk/extensions/hurt.c (File Modified) 


jilles      2006/06/03 21:53:47 UTC	(20060603-1575)
  Log:
  add not-working hurt_add and hurt_find
  

  Changes:	Modified:
  +13 -5	trunk/extensions/hurt.c (File Modified) 


jilles      2006/06/03 21:34:56 UTC	(20060603-1573)
  Log:
  Comment out a lot of stuff so I can load and unload this without crashing.
  

  Changes:	Modified:
  +17 -6	trunk/extensions/hurt.c (File Modified) 


jilles      2006/06/03 21:24:02 UTC	(20060603-1571)
  Log:
  Fix svn:keywords and add a short comment at the top.
  

  Changes:	Modified:
  +8 -0		trunk/extensions/hurt.c (File Modified) (Property Modified)


jilles      2006/06/03 21:21:44 UTC	(20060603-1569)
  Log:
  - Make hurt module compile
  - Link it to the build
  - Initial tweaks, use struct Message's min params, ERR_NOPRIVS shows
    correct flag name, no CAP_TS6 use etc
  

  Changes:	Modified:
  +1 -0		trunk/extensions/Makefile.in (File Modified) 
  +30 -32	trunk/extensions/hurt.c (File Modified) 


jilles      2006/06/03 21:06:46 UTC	(20060603-1567)
  Log:
  Put beu's hurt module in trunk.
  

  Changes:	Modified:
  + -		trunk/extensions/hurt.c (File Added) 
  + -		trunk/extensions/hurt.h (File Added) 


nenolod     2006/06/02 00:43:35 UTC	(20060602-1563)
  Log:
  - _iprint(): use stderr instead of stdout
  

  Changes:	Modified:
  +1 -1		trunk/src/s_log.c (File Modified) 


jilles      2006/06/01 23:50:54 UTC	(20060601-1561)
  Log:
  - Open fd 0, 1, 2 to /dev/null so we don't get kqueue there
    and subsequently destroy our kqueue when we close 0, 1, 2
    (broke /restart).
  - After closing fd 0, 1, 2 reopen them to /dev/null again
    so we don't send messages from malloc etc to a random
    user's connection.
  - Remove an obsolete comment.
  

  Changes:	Modified:
  +13 -2	trunk/src/ircd.c (File Modified) 


jilles      2006/06/01 22:17:16 UTC	(20060601-1559)
  Log:
  Update NEWS file.
  

  Changes:	Modified:
  +29 -1	trunk/NEWS (File Modified) 


jilles      2006/06/01 20:18:31 UTC	(20060601-1551)
  Log:
  Rerun autoconf.
  

  Changes:	Modified:
  +1 -1		trunk/configure (File Modified) 


jilles      2006/06/01 20:17:21 UTC	(20060601-1549)
  Log:
  Fix openssl version check to also accept versions newer than 0.9.6.
  

  Changes:	Modified:
  +1 -1		trunk/configure.ac (File Modified) 


jilles      2006/06/01 18:18:28 UTC	(20060601-1543)
  Log:
  Oops, need packet.h here.
  

  Changes:	Modified:
  +1 -0		trunk/modules/m_cmessage.c (File Modified) 


jilles      2006/06/01 18:17:00 UTC	(20060601-1541)
  Log:
  End the flood grace period in CPRIVMSG/CNOTICE.
  

  Changes:	Modified:
  +3 -0		trunk/modules/m_cmessage.c (File Modified) 


nenolod     2006/06/01 17:51:07 UTC	(20060601-1539)
  Log:
  - update class::connectfreq documentation
  

  Changes:	Modified:
  +1 -1		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


nenolod     2006/06/01 17:41:10 UTC	(20060601-1537)
  Log:
  - get rid of the "minimum connection frequency delay" concept, as it is quite silly and does no good anyway
  

  Changes:	Modified:
  +3 -6		trunk/src/s_serv.c (File Modified) 


jilles      2006/06/01 15:27:18 UTC	(20060601-1535)
  Log:
  New RPL_YOUREOPER, from ircd.digi.pl3d.5.2.1.jp3 (1995-1996).
  

  Changes:	Modified:
  +1 -1		trunk/src/messages.tab (File Modified) 


jilles      2006/06/01 13:06:23 UTC	(20060601-1533)
  Log:
  Don't mention that /stats p shows idle times, as it doesn't.
  

  Changes:	Modified:
  +1 -1		trunk/help/opers/stats (File Modified) 
  +1 -1		trunk/help/users/stats (File Modified) 


jilles      2006/06/01 12:59:03 UTC	(20060601-1531)
  Log:
  /stats A shows DNS servers, it doesn't matter whether ircd
  uses ADNS or something else.
  

  Changes:	Modified:
  +1 -1		trunk/help/opers/stats (File Modified) 


jilles      2006/05/30 21:34:57 UTC	(20060530-1529)
  Log:
  get_client_name() fix
  

  Changes:	Modified:
  +4 -0		trunk/src/client.c (File Modified) 


jilles      2006/05/28 13:58:14 UTC	(20060528-1527)
  Log:
  Add some comments.
  

  Changes:	Modified:
  +6 -0		trunk/src/ircd.c (File Modified) 


beu         2006/05/28 09:22:09 UTC	(20060528-1521)
  Log:
  Fix argument order for AC_SEARCH_LIBS (yeah, I fail...)

  Changes:	Modified:
  +16 -17	trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


beu         2006/05/28 09:10:43 UTC	(20060528-1517)
  Log:
  Fix build for SunOS/Solaris [libnsl is required for inet_ntoa()].

  Changes:	Modified:
  +135 -0	trunk/configure (File Modified) 
  +6 -0		trunk/configure.ac (File Modified) 


jilles      2006/05/28 03:28:53 UTC	(20060528-1515)
  Log:
  Exit 0 on successful -conftest.
  

  Changes:	Modified:
  +1 -1		trunk/src/ircd.c (File Modified) 


jilles      2006/05/28 03:19:47 UTC	(20060528-1513)
  Log:
  Make the "keep the parent process around" thing work, by opening
  a pipe to the child process. This pipe is on fd 0 in the child
  process. After successful initialization, the child will write
  a byte to this pipe, on fatal errors it will close it without
  writing anything.
  
  Somewhat hackish still but should work.
  

  Changes:	Modified:
  +27 -30	trunk/src/ircd.c (File Modified) 


nenolod     2006/05/28 02:37:26 UTC	(20060528-1511)
  Log:
  - convert some error messages to ierror() over fprintf/ilog combination
  

  Changes:	Modified:
  +3 -6		trunk/src/ircd.c (File Modified) 


nenolod     2006/05/28 02:35:58 UTC	(20060528-1509)
  Log:
  - inotice() for loadmodule when in foreground mode
  

  Changes:	Modified:
  +3 -0		trunk/src/modules.c (File Modified) 


nenolod     2006/05/28 02:34:43 UTC	(20060528-1507)
  Log:
  - remove inotice() on loading modules from the config
  

  Changes:	Modified:
  +0 -3		trunk/src/modules.c (File Modified) 


nenolod     2006/05/28 00:11:14 UTC	(20060528-1505)
  Log:
  - usleep for 50000usec in the parent process to allow for startup messages
    to be cleanly printed before detaching to shell, this should be more than 
    enough time really
  

  Changes:	Modified:
  +3 -0		trunk/src/ircd.c (File Modified) 


nenolod     2006/05/28 00:07:11 UTC	(20060528-1503)
  Log:
  - display more errors during normal startup as to try to help people find common problems
  

  Changes:	Modified:
  +27 -10	trunk/src/ircd.c (File Modified) 


nenolod     2006/05/27 23:36:23 UTC	(20060527-1501)
  Log:
  - version bump in preparation of 2.0.0 release
  

  Changes:	Modified:
  +9 -9		trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


jilles      2006/05/27 20:39:47 UTC	(20060527-1495)
  Log:
  Change example.conf operator block from "admin" to "god",
  so as to show we encourage per-person operator blocks.
  

  Changes:	Modified:
  +4 -2		trunk/doc/example.conf (File Modified) 


jilles      2006/05/27 20:33:58 UTC	(20060527-1493)
  Log:
  Document alias{} block.
  

  Changes:	Modified:
  +28 -0	trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/05/27 20:28:00 UTC	(20060527-1491)
  Log:
  Document DNS blacklist stuff in sgml.
  

  Changes:	Modified:
  +6 -0		trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 
  +39 -1	trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/05/27 20:13:30 UTC	(20060527-1489)
  Log:
  Misc /stats clarifications.
  

  Changes:	Modified:
  +9 -4		trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 


jilles      2006/05/27 19:54:37 UTC	(20060527-1487)
  Log:
  Move snomasks into umodes chapter.
  Move oprivs chapter down.
  

  Changes:	Modified:
  +1 -160	trunk/doc/sgml/oper-guide/charybdis-oper-guide.sgml (File Modified) 
  + -		trunk/doc/sgml/oper-guide/snomasks.sgml (File Deleted) 
  +137 -0	trunk/doc/sgml/oper-guide/umodes.sgml (File Modified) 


jilles      2006/05/27 19:09:19 UTC	(20060527-1485)
  Log:
  Mention operator{} user@host change.
  

  Changes:	Modified:
  +9 -3		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/05/27 18:58:12 UTC	(20060527-1483)
  Log:
  operator{} block user@host matches against orighost now, not host.
  This means that services/+h spoofs do not work in operator{} blocks;
  auth{} spoofs still work.
  

  Changes:	Modified:
  +4 -0		trunk/doc/example.conf (File Modified) 
  +1 -1		trunk/doc/reference.conf (File Modified) 
  +2 -2		trunk/modules/m_challenge.c (File Modified) 
  +1 -1		trunk/modules/m_oper.c (File Modified) 


nenolod     2006/05/27 17:24:05 UTC	(20060527-1481)
  Log:
  - inotice/iwarn/ierror() stuff I was working on
  

  Changes:	Modified:
  +3 -0		trunk/include/s_log.h (File Modified) 
  +15 -11	trunk/src/ircd.c (File Modified) 
  +3 -1		trunk/src/modules.c (File Modified) 
  +1 -1		trunk/src/newconf.c (File Modified) 
  +54 -0	trunk/src/s_log.c (File Modified) 


jilles      2006/05/26 22:54:29 UTC	(20060526-1473)
  Log:
  Oops, don't add blacklists to the list twice on rehash.
  

  Changes:	Modified:
  +3 -2		trunk/src/blacklist.c (File Modified) 


jilles      2006/05/26 22:27:21 UTC	(20060526-1471)
  Log:
  Remove notices to the client about progress of dnsbl lookups.
  

  Changes:	Modified:
  +0 -4		trunk/src/blacklist.c (File Modified) 


jilles      2006/05/26 22:18:23 UTC	(20060526-1469)
  Log:
  Add auth{} flag dnsbl_exempt.
  

  Changes:	Modified:
  +2 -1		trunk/doc/example.conf (File Modified) 
  +2 -1		trunk/doc/reference.conf (File Modified) 
  +2 -0		trunk/include/s_conf.h (File Modified) 
  +1 -0		trunk/src/newconf.c (File Modified) 
  +8 -1		trunk/src/s_user.c (File Modified) 


jilles      2006/05/26 22:07:49 UTC	(20060526-1467)
  Log:
  Switch alias{} and blacklist{} around, for consistency with example.conf.
  

  Changes:	Modified:
  +18 -18	trunk/doc/reference.conf (File Modified) 


jilles      2006/05/26 21:58:29 UTC	(20060526-1465)
  Log:
  Send a warning to the user if they are dnsbl listed but exempted.
  

  Changes:	Modified:
  +17 -12	trunk/src/s_user.c (File Modified) 


jilles      2006/05/26 21:25:28 UTC	(20060526-1463)
  Log:
  Move throwing out dnsbl listed clients to registration,
  and make kline_exempt exempt from it.
  

  Changes:	Modified:
  +1 -0		trunk/include/blacklist.h (File Modified) 
  +4 -0		trunk/include/client.h (File Modified) 
  +15 -16	trunk/src/blacklist.c (File Modified) 
  +6 -0		trunk/src/client.c (File Modified) 
  +17 -0	trunk/src/s_user.c (File Modified) 


jilles      2006/05/26 21:20:56 UTC	(20060526-1461)
  Log:
  Show refcount in /stats n.
  

  Changes:	Modified:
  +3 -2		trunk/modules/m_stats.c (File Modified) 


jilles      2006/05/26 20:50:41 UTC	(20060526-1459)
  Log:
  Don't look up dnsbls twice if they send USER twice.
  

  Changes:	Modified:
  +5 -3		trunk/modules/m_user.c (File Modified) 


jilles      2006/05/26 20:42:48 UTC	(20060526-1457)
  Log:
  Add /stats n to help files.
  

  Changes:	Modified:
  +1 -0		trunk/help/opers/stats (File Modified) 
  +1 -0		trunk/help/users/stats (File Modified) 


jilles      2006/05/26 20:36:54 UTC	(20060526-1455)
  Log:
  Only check dnsbls for A records, not AAAA.
  

  Changes:	Modified:
  +1 -1		trunk/src/blacklist.c (File Modified) 


jilles      2006/05/26 20:09:55 UTC	(20060526-1453)
  Log:
  Don't remove non-illegal blacklists on completion of check.
  Add debugging notices (not working).
  

  Changes:	Modified:
  +5 -1		trunk/src/blacklist.c (File Modified) 


jilles      2006/05/26 19:58:05 UTC	(20060526-1451)
  Log:
  Don't call register_local_user() if they haven't sent a nick yet.
  

  Changes:	Modified:
  +1 -1		trunk/src/blacklist.c (File Modified) 


jilles      2006/05/26 19:45:28 UTC	(20060526-1449)
  Log:
  Add /stats n, shows dnsbls with counts (counts reset on rehash).
  

  Changes:	Modified:
  +21 -0	trunk/modules/m_stats.c (File Modified) 


jilles      2006/05/26 18:57:36 UTC	(20060526-1447)
  Log:
  More dnsbl rehash fixes, it was adding bogus entries.
  

  Changes:	Modified:
  +2 -7		trunk/src/newconf.c (File Modified) 


jilles      2006/05/26 17:38:52 UTC	(20060526-1445)
  Log:
  Need blacklist.h here.
  

  Changes:	Modified:
  +1 -0		trunk/src/s_conf.c (File Modified) 


nenolod     2006/05/26 17:33:33 UTC	(20060526-1443)
  Log:
  - nuke iauth
  

  Changes:	Modified:
  +1 -2		trunk/configure (File Modified) 
  +0 -48	trunk/configure.ac (File Modified) 
  + -		trunk/doc/example-iauth.conf (File Deleted) 
  + -		trunk/iauth/ (File Deleted) 


jilles      2006/05/26 17:20:01 UTC	(20060526-1441)
  Log:
  Improve handling of rehashing with blacklists.
  Also some coding style tweaks.
  

  Changes:	Modified:
  +3 -2		trunk/include/blacklist.h (File Modified) 
  +35 -16	trunk/src/blacklist.c (File Modified) 
  +2 -0		trunk/src/s_conf.c (File Modified) 


jilles      2006/05/25 15:20:48 UTC	(20060525-1439)
  Log:
  Clear can_send cache if a user logs in or out from services.
  

  Changes:	Modified:
  +2 -0		trunk/modules/m_services.c (File Modified) 


jilles      2006/05/23 16:41:33 UTC	(20060523-1425)
  Log:
  Add unsupported/ directory and move m_force.c and m_clearchan.c into it.
  This directory is not entered by default.
  More stuff needs to be moved into here.
  

  Changes:	Modified:
  +2 -1		trunk/configure (File Modified) 
  +1 -0		trunk/configure.ac (File Modified) 
  +69 -458	trunk/extensions/Makefile.in (File Modified) 
  + -		trunk/extensions/m_clearchan.c (File Deleted) 
  + -		trunk/extensions/m_force.c (File Deleted) 
  + -		trunk/unsupported/ (File Added) 
  + -		trunk/unsupported/Makefile.in (File Added) 
  + -		trunk/unsupported/m_clearchan.c (File Added) 
  + -		trunk/unsupported/m_force.c (File Added) 


jilles      2006/05/23 16:32:11 UTC	(20060523-1423)
  Log:
  Logging/wallops for forcejoin/forcepart, numeric fix.
  This needs to be moved to the toys section.
  

  Changes:	Modified:
  +22 -2	trunk/extensions/m_force.c (File Modified) 


jilles      2006/05/23 16:06:01 UTC	(20060523-1421)
  Log:
  Fix comments at the top (including copyright).
  

  Changes:	Modified:
  +3 -2		trunk/extensions/m_omode.c (File Modified) 


jilles      2006/05/23 16:01:22 UTC	(20060523-1419)
  Log:
  Add OMODE command to extensions/ for oper mode hacking:
  - requires admin privs
  - does not work for opped opers
  - sends wallops
  - sends a ServerMode for opping the oper themselves,
    otherwise a mode coming from the oper (not only
    does this provide full accountability, it is also
    easiest to implement while avoiding channels
    messed up with bogus bans etc).
  

  Changes:	Modified:
  +171 -0	trunk/extensions/Makefile.in (File Modified) 
  + -		trunk/extensions/m_omode.c (File Added) 


gxti        2006/05/22 23:02:06 UTC	(20060522-1417)
  Log:
  Metadata fix
  

  Changes:	Modified:
  + -		trunk/include/blacklist.h  (Property Modified)
  + -		trunk/src/blacklist.c  (Property Modified)


nenolod     2006/05/22 19:25:09 UTC	(20060522-1415)
  Log:
  - avoid loosing the username forever when calling register_local_user after the blacklist checking lock has been released
  

  Changes:	Modified:
  +5 -1		trunk/src/blacklist.c (File Modified) 


nenolod     2006/05/22 17:13:15 UTC	(20060522-1413)
  Log:
  Initial DNS blacklist support:
  - see example.conf for how to use.
  - because opm.blitzed.org is currently offline, we recommend ircbl.ahbl.org as a replacement
  - tor.ahbl.org is also included because most networks will not want to allow tor
    (and we're considering going KoS on tor users here anyway due to abuse)
  

  Changes:	Modified:
  +18 -0	trunk/doc/example.conf (File Modified) 
  +66 -0	trunk/doc/reference.conf (File Modified) 
  + -		trunk/include/blacklist.h (File Added) 
  +2 -0		trunk/include/client.h (File Modified) 
  +3 -0		trunk/modules/m_user.c (File Modified) 
  +152 -0	trunk/src/Makefile.in (File Modified) 
  + -		trunk/src/blacklist.c (File Added) 
  +34 -0	trunk/src/newconf.c (File Modified) 
  +1 -0		trunk/src/s_auth.c (File Modified) 
  +4 -0		trunk/src/s_user.c (File Modified) 


jilles      2006/05/21 17:38:31 UTC	(20060521-1411)
  Log:
  Remove last bit of lzo stuff (comment in example.conf connect{}).
  

  Changes:	Modified:
  +0 -4		trunk/doc/example.conf (File Modified) 


jilles      2006/05/21 14:46:17 UTC	(20060521-1409)
  Log:
  Show sasl successes and failures in /stats t (like other
  things in /stats t, about local clients only).
  

  Changes:	Modified:
  +2 -0		trunk/include/s_stats.h (File Modified) 
  +3 -0		trunk/modules/m_sasl.c (File Modified) 
  +3 -0		trunk/src/s_stats.c (File Modified) 


jilles      2006/05/20 20:13:56 UTC	(20060520-1405)
  Log:
  Allow messaging services by nickname without using
  target change slots (this was already possible with
  user@server notation or services shortcuts).
  

  Changes:	Modified:
  +2 -2		trunk/modules/core/m_message.c (File Modified) 


jilles      2006/05/20 19:28:16 UTC	(20060520-1393)
  Log:
  Abort a safelist if a new /list comes in while one is already in progress.
  

  Changes:	Modified:
  +16 -0	trunk/modules/m_list_safelist.c (File Modified) 


jilles      2006/05/20 19:24:11 UTC	(20060520-1391)
  Log:
  Change $![letter]:[mask] to $~[letter]:[mask]
  so both ! and ~ invert an extban.
  

  Changes:	Modified:
  +2 -0		trunk/src/chmode.c (File Modified) 


nenolod     2006/05/20 19:19:00 UTC	(20060520-1389)
  Log:
  - revert due to technical issues
  

  Changes:	Modified:
  +1 -1		trunk/src/extban.c (File Modified) 


nenolod     2006/05/20 19:17:42 UTC	(20060520-1387)
  Log:
  - allow $![letter]:[mask] to also invert an extban, like $~[letter]:[mask], since some people will likely believe that is the correct way of doing it
  

  Changes:	Modified:
  +1 -1		trunk/src/extban.c (File Modified) 


jilles      2006/05/20 18:32:45 UTC	(20060520-1385)
  Log:
  Don't pace /list on a single channel.
  

  Changes:	Modified:
  +10 -7	trunk/modules/m_list_safelist.c (File Modified) 


jilles      2006/05/20 18:15:46 UTC	(20060520-1383)
  Log:
  Add EXTBAN=$:<letters> to 005 if any extban modules are loaded.
  

  Changes:	Modified:
  +4 -2		trunk/include/supported.h (File Modified) 


jilles      2006/05/20 17:21:19 UTC	(20060520-1381)
  Log:
  Extban types are case insensitive; force them to lowercase when added.
  

  Changes:	Modified:
  +5 -5		trunk/doc/extban.txt (File Modified) 
  +4 -0		trunk/src/chmode.c (File Modified) 
  +3 -3		trunk/src/extban.c (File Modified) 


jilles      2006/05/20 14:11:07 UTC	(20060520-1379)
  Log:
  sendto_wallops_flags():
  - instead of checking IsOper on each client, walk the appropriate list
  - instead of sending non-+z wallops from persons to nonopers, send only
    +w wallops from persons
  

  Changes:	Modified:
  +1 -5		trunk/src/send.c (File Modified) 


jilles      2006/05/20 13:48:37 UTC	(20060520-1377)
  Log:
  Prefix oper wallops with "WALLOPS - " if they would
  otherwise look like operwalls or locops, when sending
  them to local users.
  

  Changes:	Modified:
  +11 -1	trunk/modules/m_wallops.c (File Modified) 


jilles      2006/05/20 13:47:22 UTC	(20060520-1375)
  Log:
  Make sure destination field in some sasl numerics
  is the user's nick, not the sasl agent or server
  name.
  

  Changes:	Modified:
  +2 -2		trunk/modules/m_sasl.c (File Modified) 


beu         2006/05/19 19:24:44 UTC	(20060519-1373)
  Log:
  Add `-I.' to INCLUDES (hurt module has it's own header file...)
  

  Changes:	Modified:
  +1 -1		trunk/extensions/Makefile.in (File Modified) 


jilles      2006/05/19 18:10:55 UTC	(20060519-1369)
  Log:
  Invalidate can_send cache on CHGHOST/SIGNON (change_nick_user_host()).
  

  Changes:	Modified:
  +1 -0		trunk/src/s_user.c (File Modified) 


beu         2006/05/19 18:10:13 UTC	(20060519-1367)
  Log:
  Fix build for when IPv6 is disabled.
  

  Changes:	Modified:
  +12 -10	trunk/src/s_auth.c (File Modified) 


jilles      2006/05/18 18:38:04 UTC	(20060518-1365)
  Log:
  Add information about adding extban types.
  

  Changes:	Modified:
  +25 -0	trunk/doc/extban.txt (File Modified) 


jilles      2006/05/18 17:59:35 UTC	(20060518-1363)
  Log:
  Better extban validation: try to match a new extban from
  a local user against its setter to see if it is valid.
  Unknown extban types from remotes are no longer hidden.
  

  Changes:	Modified:
  +4 -3		trunk/doc/extban.txt (File Modified) 
  +1 -0		trunk/include/channel.h (File Modified) 
  +2 -6		trunk/src/chmode.c (File Modified) 
  +32 -0	trunk/src/extban.c (File Modified) 


jilles      2006/05/17 20:55:55 UTC	(20060517-1359)
  Log:
  Make sure both .c.o: and .s.o: are followed by the necessary command.
  

  Changes:	Modified:
  +1 -0		trunk/src/Makefile.in (File Modified) 


jilles      2006/05/17 18:07:20 UTC	(20060517-1357)
  Log:
  Add need_sasl auth{} flag to sgml documentation.
  

  Changes:	Modified:
  +7 -1		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/05/17 17:50:10 UTC	(20060517-1353)
  Log:
  Document need_sasl auth{} flag in example confs.
  

  Changes:	Modified:
  +1 -0		trunk/doc/example.conf (File Modified) 
  +1 -0		trunk/doc/reference.conf (File Modified) 


jilles      2006/05/17 17:37:46 UTC	(20060517-1349)
  Log:
  Don't allow TB to set an empty topic.
  This would be possible if a server sent bad protocol
  and could cause a crash.
  

  Changes:	Modified:
  +4 -0		trunk/modules/m_tb.c (File Modified) 


nenolod     2006/05/17 14:49:13 UTC	(20060517-1347)
  Log:
  - oops
  

  Changes:	Modified:
  +1 -1		trunk/Makefile.in (File Modified) 


nenolod     2006/05/17 14:46:58 UTC	(20060517-1345)
  Log:
  - typo fix
  

  Changes:	Modified:
  +2 -2		trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


nenolod     2006/05/17 14:45:52 UTC	(20060517-1343)
  Log:
  - rebuild configure
  

  Changes:	Modified:
  +2 -2		trunk/configure (File Modified) 


nenolod     2006/05/17 00:52:51 UTC	(20060517-1341)
  Log:
  - makefile fix
  

  Changes:	Modified:
  +1 -1		trunk/extensions/Makefile.in (File Modified) 


nenolod     2006/05/17 00:45:40 UTC	(20060517-1339)
  Log:
  - rename contrib to extensions to bring some clarity to things
  

  Changes:	Modified:
  +1 -1		trunk/Makefile.in (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 
  +10 -10	trunk/doc/example.conf (File Modified) 
  +10 -10	trunk/doc/reference.conf (File Modified) 
  + -		trunk/extensions/ (File Added) 
  + -		trunk/extras/ (File Deleted) 


nenolod     2006/05/17 00:43:32 UTC	(20060517-1337)
  Log:
  - temporary rename
  

  Changes:	Modified:
  +1 -1		trunk/Makefile.in (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 
  + -		trunk/contrib/ (File Deleted) 
  + -		trunk/extras/ (File Added) 


jilles      2006/05/14 13:47:33 UTC	(20060514-1333)
  Log:
  Don't allow servers to QUIT (they should use SQUIT).
  

  Changes:	Modified:
  +1 -1		trunk/modules/core/m_quit.c (File Modified) 


nenolod     2006/05/14 02:09:30 UTC	(20060514-1329)
  Log:
  - keywords
  

  Changes:	Modified:
  + -		trunk/src/fnvhash.s  (Property Modified)


nenolod     2006/05/14 01:47:33 UTC	(20060514-1327)
  Log:
  - reduced version of code
  

  Changes:	Modified:
  +9 -61	trunk/src/fnvhash.s (File Modified) 


nenolod     2006/05/14 01:20:24 UTC	(20060514-1325)
  Log:
  - ok, this only works on x86, because amd64 wants pushq/%rbp for stack manipulation
  

  Changes:	Modified:
  +1 -1		trunk/src/fnvhash.s (File Modified) 


jilles      2006/05/14 01:19:25 UTC	(20060514-1323)
  Log:
  Fix orighost matching for klines, etc. Was hashing the visible
  host, oops.
  

  Changes:	Modified:
  +1 -1		trunk/src/hostmask.c (File Modified) 


nenolod     2006/05/13 23:49:14 UTC	(20060513-1321)
  Log:
  - integrate fnvhash.s into buildsystem (--enable-ricer-hashing).
  

  Changes:	Modified:
  +7 -1		trunk/configure (File Modified) 
  +5 -0		trunk/configure.ac (File Modified) 
  +5 -6		trunk/src/Makefile.in (File Modified) 
  +0 -4		trunk/src/fnvhash.s (File Modified) 
  +0 -2		trunk/src/hash.c (File Modified) 


nenolod     2006/05/13 23:35:31 UTC	(20060513-1319)
  Log:
  - regenerate configure
  

  Changes:	Modified:
  +18 -0	trunk/configure (File Modified) 


nenolod     2006/05/13 23:35:15 UTC	(20060513-1317)
  Log:
  - --enable-ricer-hashing option.
  

  Changes:	Modified:
  +9 -0		trunk/configure.ac (File Modified) 
  +3 -0		trunk/include/setup.h.in (File Modified) 


nenolod     2006/05/13 23:22:47 UTC	(20060513-1315)
  Log:
  - Add assembly versions of the hashing code. They live in src/fnvhash.s, and require an x86 or x64 CPU.
  

  Changes:	Modified:
  + -		trunk/src/fnvhash.s (File Added) 
  +3 -0		trunk/src/hash.c (File Modified) 


jilles      2006/05/12 15:57:25 UTC	(20060512-1309)
  Log:
  Fix syntax error in reference.conf.
  

  Changes:	Modified:
  +0 -1		trunk/doc/reference.conf (File Modified) 


jilles      2006/05/11 16:28:16 UTC	(20060511-1307)
  Log:
  Expand blah.blah and blah:blah to *!*@... instead of ...!*@* for bans
  (&& instead of ||...)
  Allows stuff like /mode +b 127.0.0.1 to ban that IP.
  

  Changes:	Modified:
  +1 -1		trunk/src/chmode.c (File Modified) 


jilles      2006/05/11 16:16:36 UTC	(20060511-1303)
  Log:
  Documentation for extban.
  

  Changes:	Modified:
  + -		trunk/doc/extban.txt (File Added) 


jilles      2006/05/11 15:50:33 UTC	(20060511-1301)
  Log:
  Add extban modules to example confs.
  

  Changes:	Modified:
  +5 -0		trunk/doc/example.conf (File Modified) 
  +10 -0	trunk/doc/reference.conf (File Modified) 


jilles      2006/05/11 15:43:03 UTC	(20060511-1299)
  Log:
  Initial addition of extended ban types (conditionals).
  Allows custom +bqeI checks via modules.
  Initial extra types are account (a[:mask]), oper (o),
  channel (c:name), realname (r:mask), server (s:mask).
  

  Changes:	Modified:
  +229 -0	trunk/contrib/Makefile.in (File Modified) 
  + -		trunk/contrib/extb_account.c (File Added) 
  + -		trunk/contrib/extb_channel.c (File Added) 
  + -		trunk/contrib/extb_oper.c (File Added) 
  + -		trunk/contrib/extb_realname.c (File Added) 
  + -		trunk/contrib/extb_server.c (File Added) 
  +13 -0	trunk/include/channel.h (File Modified) 
  +1 -0		trunk/src/Makefile.in (File Modified) 
  +14 -5	trunk/src/channel.c (File Modified) 
  +91 -0	trunk/src/chmode.c (File Modified) 
  + -		trunk/src/extban.c (File Added) 


jilles      2006/05/09 19:28:19 UTC	(20060509-1297)
  Log:
  Do not force +bqeI modes starting with '$' in nick!user@host format.
  * and ? characters in them are still assumed to be wildcards.
  

  Changes:	Modified:
  +6 -0		trunk/src/chmode.c (File Modified) 


nenolod     2006/05/08 13:05:25 UTC	(20060508-1295)
  Log:
  - memory leak fix, reported by Lee Hardy <lee@leeh.co.uk>
  

  Changes:	Modified:
  +4 -0		trunk/modules/m_capab.c (File Modified) 


jilles      2006/05/05 19:00:19 UTC	(20060505-1291)
  Log:
  Stop some mixing of client and server protocol.
  

  Changes:	Modified:
  +6 -0		trunk/modules/core/m_nick.c (File Modified) 
  +4 -2		trunk/modules/m_pass.c (File Modified) 
  +6 -0		trunk/modules/m_sasl.c (File Modified) 
  +6 -0		trunk/modules/m_user.c (File Modified) 


nenolod     2006/05/05 15:06:00 UTC	(20060505-1287)
  Log:
  - additional revert
  

  Changes:	Modified:
  +0 -2		trunk/include/s_newconf.h (File Modified) 
  +0 -4		trunk/include/s_serv.h (File Modified) 
  +0 -1		trunk/src/newconf.c (File Modified) 
  +1 -13	trunk/src/s_serv.c (File Modified) 


nenolod     2006/05/05 15:03:53 UTC	(20060505-1285)
  Log:
  - revert LZOLink patch for now
  

  Changes:	Modified:
  +0 -1		trunk/servlink/Makefile.in (File Modified) 
  +0 -16	trunk/servlink/README (File Modified) 
  +2 -36	trunk/servlink/control.c (File Modified) 
  +0 -3		trunk/servlink/control.h (File Modified) 
  +7 -5955	trunk/servlink/io.c (File Modified) 
  + -		trunk/servlink/lzoconf.h (File Deleted) 
  + -		trunk/servlink/lzodefs.h (File Deleted) 
  + -		trunk/servlink/minilzo.c (File Deleted) 
  + -		trunk/servlink/minilzo.h (File Deleted) 
  +0 -1		trunk/servlink/servlink.h (File Modified) 


nenolod     2006/05/05 13:37:26 UTC	(20060505-1283)
  Log:
  - more stuff here
  

  Changes:	Modified:
  +4 -2		trunk/servlink/control.c (File Modified) 
  +2 -1		trunk/servlink/io.c (File Modified) 


nenolod     2006/05/05 04:21:59 UTC	(20060505-1281)
  Log:
  - oops
  

  Changes:	Modified:
  +2 -2		trunk/servlink/io.c (File Modified) 


nenolod     2006/05/05 04:15:09 UTC	(20060505-1279)
  Log:
  - paranoia, prevent segfaults
  

  Changes:	Modified:
  +2 -2		trunk/servlink/io.c (File Modified) 


nenolod     2006/05/05 03:49:15 UTC	(20060505-1277)
  Log:
  - more optimal servlink code
  

  Changes:	Modified:
  +21 -8	trunk/servlink/io.c (File Modified) 


nenolod     2006/05/05 03:33:12 UTC	(20060505-1275)
  Log:
  - more efficient read strategy
  

  Changes:	Modified:
  +15 -3	trunk/servlink/io.c (File Modified) 


nenolod     2006/05/05 03:23:07 UTC	(20060505-1273)
  Log:
  - use lzo_uintp cast to make LZO happy
  

  Changes:	Modified:
  +3 -3		trunk/servlink/io.c (File Modified) 


nenolod     2006/05/05 03:09:46 UTC	(20060505-1271)
  Log:
  - lzolink patch. not highly tested yet, will need extensive testing before 2.0 release
  

  Changes:	Modified:
  +4 -0		trunk/doc/example.conf (File Modified) 
  +2 -1		trunk/include/s_newconf.h (File Modified) 
  +4 -0		trunk/include/s_serv.h (File Modified) 
  +1 -0		trunk/servlink/Makefile.in (File Modified) 
  +16 -0	trunk/servlink/README (File Modified) 
  +34 -2	trunk/servlink/control.c (File Modified) 
  +3 -0		trunk/servlink/control.h (File Modified) 
  +5929 -7	trunk/servlink/io.c (File Modified) 
  + -		trunk/servlink/lzoconf.h (File Added) 
  + -		trunk/servlink/lzodefs.h (File Added) 
  + -		trunk/servlink/minilzo.c (File Added) 
  + -		trunk/servlink/minilzo.h (File Added) 
  +1 -0		trunk/servlink/servlink.h (File Modified) 
  +1 -0		trunk/src/newconf.c (File Modified) 
  +14 -2	trunk/src/s_serv.c (File Modified) 


nenolod     2006/04/30 16:51:11 UTC	(20060430-1269)
  Log:
  - remove imalloc, it was a concept that probably wouldn't have worked properly
  

  Changes:	Modified:
  +0 -977	trunk/libcharybdis/Makefile.in (File Modified) 
  + -		trunk/libcharybdis/imalloc.c (File Deleted) 
  + -		trunk/libcharybdis/imalloc.h (File Deleted) 


nenolod     2006/04/29 03:04:39 UTC	(20060429-1267)
  Log:
  - disable imalloc for now
  

  Changes:	Modified:
  +33 -7	trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/29 02:47:22 UTC	(20060429-1265)
  Log:
  - remove unneeded debug code
  

  Changes:	Modified:
  +0 -6		trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/29 02:46:00 UTC	(20060429-1263)
  Log:
  - minimum allocation size is 32 bytes, not 16 due to dlink_list overhead
  

  Changes:	Modified:
  +6 -4		trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/29 02:40:23 UTC	(20060429-1261)
  Log:
  - more stuff here, imalloc remains disabled for now
  

  Changes:	Modified:
  +2 -3		trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/29 02:27:03 UTC	(20060429-1259)
  Log:
  - more progress
  

  Changes:	Modified:
  +13 -4	trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/29 02:21:48 UTC	(20060429-1257)
  Log:
  - more tweaks
  

  Changes:	Modified:
  +1 -1		trunk/libcharybdis/imalloc.c (File Modified) 
  +2 -0		trunk/src/ircd.c (File Modified) 


nenolod     2006/04/29 02:13:05 UTC	(20060429-1255)
  Log:
  - roll back libircd crap
  

  Changes:	Modified:
  +1 -1		trunk/libcharybdis/Makefile.in (File Modified) 
  +4 -0		trunk/libcharybdis/imalloc.c (File Modified) 
  +29 -0	trunk/src/.depend (File Modified) 
  +6 -21	trunk/src/Makefile.in (File Modified) 
  +3 -218	trunk/src/ircd.c (File Modified) 
  + -		trunk/src/ircd_linker.c (File Deleted) 
  + -		trunk/src/main.c (File Deleted) 


nenolod     2006/04/29 01:57:30 UTC	(20060429-1253)
  Log:
  - realloc(), free() implementation
  

  Changes:	Modified:
  +141 -0	trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/29 01:12:55 UTC	(20060429-1251)
  Log:
  - malloc(), calloc() implementation
  

  Changes:	Modified:
  +78 -3	trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/29 00:41:14 UTC	(20060429-1249)
  Log:
  - block_free(), block_find(), retune_heaps() implementation
  

  Changes:	Modified:
  +146 -1	trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/28 21:43:10 UTC	(20060428-1246)
  Log:
  - block_destroy code, block_allocate code.
  

  Changes:	Modified:
  +81 -4	trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/28 21:04:19 UTC	(20060428-1244)
  Log:
  - block_new() code
  

  Changes:	Modified:
  +57 -0	trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/28 20:34:53 UTC	(20060428-1242)
  Log:
  - disable imalloc again :P
  

  Changes:	Modified:
  +1 -1		trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/28 20:34:31 UTC	(20060428-1240)
  Log:
  - fix warning
  

  Changes:	Modified:
  +1 -1		trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/28 20:34:03 UTC	(20060428-1238)
  Log:
  - fix typo
  

  Changes:	Modified:
  +2 -2		trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/28 20:32:20 UTC	(20060428-1236)
  Log:
  - constructor code for imalloc engine (malloc_init())
  

  Changes:	Modified:
  +35 -2	trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/28 20:22:37 UTC	(20060428-1234)
  Log:
  - imalloc engine improvements
  

  Changes:	Modified:
  +60 -6	trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/28 19:51:10 UTC	(20060428-1232)
  Log:
  - replace mmap() code with direct brk()/sbrk() calls.
  

  Changes:	Modified:
  +32 -10	trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/28 19:26:44 UTC	(20060428-1230)
  Log:
  - remove outdated i_malloc() interfaces
  

  Changes:	Modified:
  +1 -44	trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/28 15:04:38 UTC	(20060428-1228)
  Log:
  - redisable imalloc (sorry!)
  

  Changes:	Modified:
  +1 -1		trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/28 15:03:12 UTC	(20060428-1226)
  Log:
  - correct GET_PAGE_SLOT() macro
  

  Changes:	Modified:
  +2 -2		trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/28 15:01:53 UTC	(20060428-1224)
  Log:
  - oops forgot to commit it with imalloc turned off
  

  Changes:	Modified:
  +1 -1		trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/28 15:01:29 UTC	(20060428-1222)
  Log:
  - cleanups
  

  Changes:	Modified:
  +11 -11	trunk/libcharybdis/imalloc.c (File Modified) 
  +8 -2		trunk/libcharybdis/imalloc.h (File Modified) 


nenolod     2006/04/28 14:56:20 UTC	(20060428-1220)
  Log:
  - lowlevel imalloc code
  

  Changes:	Modified:
  +278 -16	trunk/libcharybdis/imalloc.c (File Modified) 
  + -		trunk/libcharybdis/imalloc.h (File Added) 


nenolod     2006/04/26 14:53:05 UTC	(20060426-1218)
  Log:
  - fix bindings
  

  Changes:	Modified:
  +3 -3		trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/26 14:51:53 UTC	(20060426-1216)
  Log:
  remove #ifndef
  

  Changes:	Modified:
  +0 -1		trunk/libcharybdis/imalloc.c (File Modified) 


nenolod     2006/04/26 14:50:01 UTC	(20060426-1214)
  Log:
  - add imalloc engine, however the actual engine itself has not been written yet (just the bindings for if the imalloc option is unavailable, which are forcefully used at present)
  

  Changes:	Modified:
  +115 -0	trunk/libcharybdis/Makefile.in (File Modified) 
  + -		trunk/libcharybdis/imalloc.c (File Added) 


nenolod     2006/04/26 14:37:24 UTC	(20060426-1212)
  Log:
  - increment configure Id
  

  Changes:	Modified:
  +2208 -1	trunk/configure (File Modified) 


nenolod     2006/04/26 14:33:37 UTC	(20060426-1210)
  Log:
  - bootstrap for imalloc code
  

  Changes:	Modified:
  +54 -1	trunk/configure.ac (File Modified) 
  +27 -0	trunk/include/setup.h.in (File Modified) 


jilles      2006/04/25 14:52:37 UTC	(20060425-1208)
  Log:
  Clarify interaction of spoofs and channel bans/operator{} blocks.
  

  Changes:	Modified:
  +4 -1		trunk/doc/sgml/oper-guide/cmodes.sgml (File Modified) 
  +6 -1		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


nenolod     2006/04/24 13:42:18 UTC	(20060424-1206)
  Log:
  - move rehash checking &c into a timed event (idea stolen from ratbox3)
  

  Changes:	Modified:
  +30 -22	trunk/src/ircd.c (File Modified) 


jilles      2006/04/22 17:07:07 UTC	(20060422-1204)
  Log:
  If shared{} blocks deny something, the command
  is silently ignored.
  

  Changes:	Modified:
  +1 -0		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/04/22 10:26:56 UTC	(20060422-1202)
  Log:
  Move up IsService check so we don't store a non-service
  in preClient->sasl_agent.
  

  Changes:	Modified:
  +6 -6		trunk/modules/m_sasl.c (File Modified) 


gxti        2006/04/22 03:53:40 UTC	(20060422-1198)
  Log:
  SASL ENCAP messages originate from the server, not the agent. Check the correct cptr for service status.
  Add some more sanity checks on agent strings.
  

  Changes:	Modified:
  +13 -11	trunk/modules/m_sasl.c (File Modified) 


jilles      2006/04/21 16:28:56 UTC	(20060421-1194)
  Log:
  Unknown clients can have an ID too now so make sure to remove
  them from the hash if they exit.
  

  Changes:	Modified:
  +3 -0		trunk/src/client.c (File Modified) 


jilles      2006/04/21 16:21:02 UTC	(20060421-1192)
  Log:
  Only accept sasl from servers in a service{} block.
  Not tested but this must go in.
  

  Changes:	Modified:
  +6 -0		trunk/modules/m_sasl.c (File Modified) 
  +3 -0		trunk/modules/m_signon.c (File Modified) 


jilles      2006/04/19 15:52:08 UTC	(20060419-1190)
  Log:
  Only process SAVE messages targetting registered users,
  not servers or unregistered connections. Could cause
  a crash when bad protocol was received.
  

  Changes:	Modified:
  +5 -1		trunk/modules/core/m_nick.c (File Modified) 


nenolod     2006/04/19 03:44:55 UTC	(20060419-1186)
  Log:
  - fix QJM buffer overflow vulnerability (fucking GXTi)
  

  Changes:	Modified:
  +3 -3		trunk/src/s_user.c (File Modified) 


jilles      2006/04/18 23:28:33 UTC	(20060418-1184)
  Log:
  Mention /scan umodes under oper_spy privilege.
  

  Changes:	Modified:
  +3 -2		trunk/doc/sgml/oper-guide/oprivs.sgml (File Modified) 


jilles      2006/04/18 23:05:05 UTC	(20060418-1182)
  Log:
  Mention that overlapping cluster blocks are a bad thing.
  

  Changes:	Modified:
  +5 -0		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/04/18 22:57:47 UTC	(20060418-1180)
  Log:
  - Document cluster{} and shared{} blocks.
  - Mention that service{} does not allow wildcards.
  

  Changes:	Modified:
  +222 -1	trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/04/18 22:22:36 UTC	(20060418-1178)
  Log:
  Document exempt{} and service{} blocks, point to reference.conf for
  general{}, channel{} and serverhide{}.
  

  Changes:	Modified:
  +88 -1	trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/04/18 22:02:17 UTC	(20060418-1176)
  Log:
  Document ~ in lists of values better.
  

  Changes:	Modified:
  +7 -0		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/04/18 21:51:18 UTC	(20060418-1174)
  Log:
  More detailed CNOTICE, CPRIVMSG descriptions.
  

  Changes:	Modified:
  +9 -0		trunk/doc/sgml/oper-guide/ucommands.sgml (File Modified) 


jilles      2006/04/18 13:49:18 UTC	(20060418-1172)
  Log:
  Oops, need both Revision and Id on modules.
  

  Changes:	Modified:
  + -		trunk/modules/sno_routing.c  (Property Modified)


jilles      2006/04/17 22:26:12 UTC	(20060417-1170)
  Log:
  Tweak header comment a bit (filename, Id).
  

  Changes:	Modified:
  +1 -1		trunk/modules/sno_routing.c (File Modified) (Property Modified)


jilles      2006/04/17 00:13:57 UTC	(20060417-1166)
  Log:
  Add GLINE and UNGLINE.
  

  Changes:	Modified:
  +40 -0	trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 


jilles      2006/04/16 13:07:49 UTC	(20060416-1156)
  Log:
  New configure with proper Id.
  

  Changes:	Modified:
  +3 -1		trunk/configure (File Modified) 


jilles      2006/04/16 13:06:04 UTC	(20060416-1154)
  Log:
  Change #include directives for in6addr_any, hopefully compiles better now.
  

  Changes:	Modified:
  +3 -1		trunk/configure.ac (File Modified) 


jilles      2006/04/09 20:20:32 UTC	(20060409-1152)
  Log:
  Encourage putting actual administrative information
  in the admin{} block.
  

  Changes:	Modified:
  +3 -3		trunk/doc/example.conf (File Modified) 


gxti        2006/04/08 01:36:41 UTC	(20060408-1150)
  Log:
  New auth{} flag need_sasl to reject connecting users who have not authenticated by the time they register.
  

  Changes:	Modified:
  +9 -7		trunk/include/s_conf.h (File Modified) 
  +1 -0		trunk/src/newconf.c (File Modified) 
  +10 -0	trunk/src/s_user.c (File Modified) 


jilles      2006/04/07 22:52:35 UTC	(20060407-1146)
  Log:
  - Change to glines = no in example confs
  - Point to clustered/remote KLINE/UNKLINE in notices if glines
    are disabled.
  

  Changes:	Modified:
  +1 -1		trunk/doc/example.conf (File Modified) 
  +1 -1		trunk/doc/reference.conf (File Modified) 
  +2 -2		trunk/modules/m_gline.c (File Modified) 


nenolod     2006/04/06 13:35:20 UTC	(20060406-1144)
  Log:
  - forward-port QJM fix from 1.1
  

  Changes:	Modified:
  +2 -0		trunk/src/s_user.c (File Modified) 


nenolod     2006/04/06 13:33:39 UTC	(20060406-1142)
  Log:
  - add switch to configure to disable the block allocator
  

  Changes:	Modified:
  +18 -0	trunk/configure (File Modified) 
  +9 -0		trunk/configure.ac (File Modified) 
  +0 -6		trunk/include/config.h (File Modified) 
  +3 -0		trunk/include/setup.h.in (File Modified) 


gxti        2006/04/02 08:30:17 UTC	(20060402-1118)
  Log:
  Fix wierd error that would exit SASL users with "Overridden"

  Changes:	Modified:
  +1 -1		trunk/modules/m_signon.c (File Modified) 


jilles      2006/03/30 10:11:21 UTC	(20060330-1116)
  Log:
  Remove obsolete XXX comment about lazylinks.
  

  Changes:	Modified:
  +0 -3		trunk/contrib/m_ojoin.c (File Modified) 


jilles      2006/03/30 02:22:18 UTC	(20060330-1114)
  Log:
  OJOIN: make sure to send the wallops remotely for #channels
  

  Changes:	Modified:
  +5 -0		trunk/contrib/m_ojoin.c (File Modified) 


gxti        2006/03/30 02:14:42 UTC	(20060330-1112)
  Log:
  Accountability for OJOIN (contrib module)

  Changes:	Modified:
  +6 -0		trunk/contrib/m_ojoin.c (File Modified) 


nenolod     2006/03/29 22:55:25 UTC	(20060329-1110)
  Log:
  - move more stuff over to ircd_state
  

  Changes:	Modified:
  +1 -1		trunk/libcharybdis/linebuf.c (File Modified) 
  +1 -1		trunk/libcharybdis/tools.c (File Modified) 
  +9 -0		trunk/src/ircd_state.c (File Modified) 
  +3 -3		trunk/src/patricia.c (File Modified) 


nenolod     2006/03/29 22:49:53 UTC	(20060329-1108)
  Log:
  - move more stuff out of libircd and into ircd_state.c
  

  Changes:	Modified:
  +5 -5		trunk/src/channel.c (File Modified) 
  +4 -4		trunk/src/client.c (File Modified) 
  +12 -0	trunk/src/ircd_state.c (File Modified) 


nenolod     2006/03/29 22:46:12 UTC	(20060329-1106)
  Log:
  - this is just barrels of fun
  

  Changes:	Modified:
  + -		trunk/include/ircd_state.h (File Added) 
  +1 -1		trunk/src/Makefile.in (File Modified) 
  +2 -1		trunk/src/channel.c (File Modified) 
  +3 -52	trunk/src/ircd.c (File Modified) 
  +100 -3	trunk/src/ircd_state.c (File Modified) 


jilles      2006/03/26 22:51:26 UTC	(20060326-1100)
  Log:
  It's .include, not #include.
  

  Changes:	Modified:
  +3 -1		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/03/26 22:35:04 UTC	(20060326-1098)
  Log:
  More consistent section titles.
  

  Changes:	Modified:
  +1 -1		trunk/doc/sgml/oper-guide/cmodes.sgml (File Modified) 
  +8 -6		trunk/doc/sgml/oper-guide/snomasks.sgml (File Modified) 
  +5 -5		trunk/doc/sgml/oper-guide/umodes.sgml (File Modified) 


jilles      2006/03/23 11:15:26 UTC	(20060323-1096)
  Log:
  Mention possible exceeding of +j/+l due to propagation
  delays between servers.
  

  Changes:	Modified:
  +8 -0		trunk/doc/sgml/oper-guide/cmodes.sgml (File Modified) 


jilles      2006/03/23 11:04:43 UTC	(20060323-1094)
  Log:
  Formatting nits:
  - "text" -> <quote>text</quote>
  - <filename>
  - a few more
  

  Changes:	Modified:
  +1 -1		trunk/doc/sgml/oper-guide/cmodes.sgml (File Modified) 
  +19 -19	trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 
  +1 -1		trunk/doc/sgml/oper-guide/snomasks.sgml (File Modified) 
  +1 -1		trunk/doc/sgml/oper-guide/umodes.sgml (File Modified) 


jilles      2006/03/23 01:23:57 UTC	(20060323-1092)
  Log:
  Remove text about deprecation of glines.
  

  Changes:	Modified:
  +0 -4		trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 


jilles      2006/03/23 00:20:59 UTC	(20060323-1090)
  Log:
  - Add description of umode +D, deaf.
  - Mention CALLERID 005 token with umode +g.
  

  Changes:	Modified:
  +24 -0	trunk/doc/sgml/oper-guide/umodes.sgml (File Modified) 


jilles      2006/03/19 15:57:54 UTC	(20060319-1088)
  Log:
  Strip off a leading colon in services shortcuts (aliases).
  

  Changes:	Modified:
  +2 -0		trunk/src/parse.c (File Modified) 


jilles      2006/03/17 23:20:30 UTC	(20060317-1086)
  Log:
  Add no_oper_invis contrib module, denies opers setting
  themselves invisible (except hidden_oper's).
  

  Changes:	Modified:
  +42 -0	trunk/contrib/Makefile.in (File Modified) 
  + -		trunk/contrib/no_oper_invis.c (File Added) 


jilles      2006/03/17 21:02:06 UTC	(20060317-1084)
  Log:
  Mention /stats E, make the other /stats descriptions more consistent.
  

  Changes:	Modified:
  +13 -7	trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 


jilles      2006/03/17 18:01:32 UTC	(20060317-1082)
  Log:
  Mention that the KILL reason and oper will appear on channels.
  

  Changes:	Modified:
  +3 -0		trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 


jilles      2006/03/17 15:49:35 UTC	(20060317-1080)
  Log:
  Mention /mode #channel f to query forward channel from outside.
  

  Changes:	Modified:
  +4 -0		trunk/doc/sgml/oper-guide/cmodes.sgml (File Modified) 


jilles      2006/03/17 15:13:00 UTC	(20060317-1074)
  Log:
  Port over RATBOX_2_1 r20960 (anfl):
  client connect notices to +C should be hiding the extra
  fields for spoofed users
  

  Changes:	Modified:
  +2 -1		trunk/src/s_user.c (File Modified) 


jilles      2006/03/15 17:07:32 UTC	(20060315-1072)
  Log:
  Add a chapter with our extra user commands:
  ACCEPT, CNOTICE, CPRIVMSG, HELP, KNOCK, MONITOR.
  

  Changes:	Modified:
  +181 -0	trunk/doc/sgml/oper-guide/charybdis-oper-guide.sgml (File Modified) 
  + -		trunk/doc/sgml/oper-guide/ucommands.sgml (File Added) 


jilles      2006/03/15 14:31:14 UTC	(20060315-1070)
  Log:
  Do not put by <server>: in SQUIT reasons to servers
  other than the one being exited.
  

  Changes:	Modified:
  +1 -1		trunk/src/client.c (File Modified) 


jilles      2006/03/14 19:16:18 UTC	(20060314-1068)
  Log:
  Regenerate configure.
  

  Changes:	Modified:
  +1162 -1159	trunk/configure (File Modified) 


jilles      2006/03/14 19:15:34 UTC	(20060314-1066)
  Log:
  Move the warning flags down so they do not mess up
  checks like for -Wl,-export-dynamic.
  

  Changes:	Modified:
  +33 -30	trunk/configure.ac (File Modified) 


nenolod     2006/03/14 14:53:54 UTC	(20060314-1064)
  Log:
  - more work here
  

  Changes:	Modified:
  +2 -1		trunk/iauth/Makefile.in (File Modified) 


nenolod     2006/03/14 14:51:39 UTC	(20060314-1062)
  Log:
  - build iauth makefile
  

  Changes:	Modified:
  +3 -2		trunk/configure (File Modified) 
  +1 -0		trunk/configure.ac (File Modified) 


nenolod     2006/03/14 14:50:54 UTC	(20060314-1060)
  Log:
  - Makefile
  

  Changes:	Modified:
  + -		trunk/iauth/Makefile.in (File Added) 


nenolod     2006/03/14 14:46:12 UTC	(20060314-1058)
  Log:
  - add iauth.conf.example from irc2.11
  

  Changes:	Modified:
  + -		trunk/doc/example-iauth.conf (File Added) 


nenolod     2006/03/14 14:38:33 UTC	(20060314-1056)
  Log:
  - wow, i found some docs on this thing
  

  Changes:	Modified:
  + -		trunk/doc/technical/iauth-internals.txt (File Added) 


nenolod     2006/03/14 14:36:46 UTC	(20060314-1054)
  Log:
  - no longer applicable
  

  Changes:	Modified:
  + -		trunk/authdaemon/ (File Deleted) 


nenolod     2006/03/14 14:27:52 UTC	(20060314-1052)
  Log:
  - remove libircd.so on make clean (oops)
  

  Changes:	Modified:
  +1 -1		trunk/src/Makefile.in (File Modified) 


nenolod     2006/03/14 14:25:50 UTC	(20060314-1050)
  Log:
  - merge iauth source for experimentation
  

  Changes:	Modified:
  + -		trunk/iauth/ (File Added) 
  + -		trunk/iauth/a_conf.c (File Added) 
  + -		trunk/iauth/a_conf_def.h (File Added) 
  + -		trunk/iauth/a_conf_ext.h (File Added) 
  + -		trunk/iauth/a_defines.h (File Added) 
  + -		trunk/iauth/a_externs.h (File Added) 
  + -		trunk/iauth/a_io.c (File Added) 
  + -		trunk/iauth/a_io_ext.h (File Added) 
  + -		trunk/iauth/a_log.c (File Added) 
  + -		trunk/iauth/a_log_def.h (File Added) 
  + -		trunk/iauth/a_log_ext.h (File Added) 
  + -		trunk/iauth/a_struct_def.h (File Added) 
  + -		trunk/iauth/iauth.c (File Added) 
  + -		trunk/iauth/mod_lhex.c (File Added) 
  + -		trunk/iauth/mod_lhex_ext.h (File Added) 
  + -		trunk/iauth/mod_pipe.c (File Added) 
  + -		trunk/iauth/mod_pipe_ext.h (File Added) 
  + -		trunk/iauth/mod_rfc931.c (File Added) 
  + -		trunk/iauth/mod_rfc931_ext.h (File Added) 
  + -		trunk/iauth/mod_socks.c (File Added) 
  + -		trunk/iauth/mod_socks_ext.h (File Added) 
  + -		trunk/iauth/mod_webproxy.c (File Added) 
  + -		trunk/iauth/mod_webproxy_ext.h (File Added) 


jilles      2006/03/12 16:05:39 UTC	(20060312-1044)
  Log:
  User /quote help index was not sorted properly.
  

  Changes:	Modified:
  +2 -2		trunk/help/Makefile.in (File Modified) 
  +8 -8		trunk/help/users/index (File Modified) 


jilles      2006/03/12 15:57:27 UTC	(20060312-1038)
  Log:
  Add SCAN help file.
  

  Changes:	Modified:
  +25 -8	trunk/help/opers/index (File Modified) 
  + -		trunk/help/opers/scan (File Added) 


jilles      2006/03/12 15:27:06 UTC	(20060312-1032)
  Log:
  SGML docs:
  - Document SCAN UMODES
  - Add details about the IP address field in MASKTRACE/CHANTRACE/SCAN UMODES
  

  Changes:	Modified:
  +41 -0	trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 


jilles      2006/03/10 15:28:58 UTC	(20060310-1028)
  Log:
  Add our copyright information to /info (part of release-1.1 r1026).
  

  Changes:	Modified:
  +1 -0		trunk/src/version.c.SH (File Modified) 


jilles      2006/03/10 00:16:30 UTC	(20060310-1020)
  Log:
  Fix some compile warnings.
  

  Changes:	Modified:
  +1 -1		trunk/modules/core/m_join.c (File Modified) 
  +2 -2		trunk/modules/core/m_nick.c (File Modified) 
  +0 -1		trunk/modules/core/m_sjoin.c (File Modified) 
  +1 -1		trunk/modules/m_scan.c (File Modified) 
  +4 -4		trunk/modules/m_signon.c (File Modified) 


jilles      2006/03/09 15:54:20 UTC	(20060309-1012)
  Log:
  RSFNC: OK, actually consider unknowns also for detecting a collide.
  Otherwise we can get two clients with the same nick.
  

  Changes:	Modified:
  +1 -1		trunk/modules/m_services.c (File Modified) 


nenolod     2006/03/09 15:32:14 UTC	(20060309-1006)
  Log:
  - charybdis profiling stuff
  - move all channel mode logic into src/chmode.c from modules/core/m_mode.c
  - update .depend
  

  Changes:	Modified:
  +0 -8		trunk/configure (File Modified) 
  +1 -8		trunk/configure.ac (File Modified) 
  +18 -0	trunk/include/channel.h (File Modified) 
  +0 -1322	trunk/modules/core/m_mode.c (File Modified) 
  +335 -260	trunk/src/.depend (File Modified) 
  +1569 -0	trunk/src/Makefile.in (File Modified) 
  + -		trunk/src/chmode.c (File Added) 
  +16 -1	trunk/src/ircd.c (File Modified) 
  +11 -0	trunk/src/main.c (File Modified) 
  +11 -0	trunk/src/modules.c (File Modified) 


jilles      2006/03/09 14:33:38 UTC	(20060309-1004)
  Log:
  RSFNC: Do not send kills to servers for unknowns
  

  Changes:	Modified:
  +4 -2		trunk/modules/m_services.c (File Modified) 


jilles      2006/03/09 14:25:01 UTC	(20060309-1002)
  Log:
  Describe service{} blocks in reference.conf.
  

  Changes:	Modified:
  +12 -0	trunk/doc/reference.conf (File Modified) 


jilles      2006/03/09 01:14:34 UTC	(20060309-996)
  Log:
  Replace this list of modes with pointers to other documentation.
  

  Changes:	Modified:
  +6 -50	trunk/doc/modes.txt (File Modified) 


jilles      2006/03/08 00:10:46 UTC	(20060308-986)
  Log:
  Name the variable for the channel pointer 'chptr' instead of 'cptr',
  looks too much like an old-ircd client pointer otherwise.
  

  Changes:	Modified:
  +7 -7		trunk/contrib/m_findforwards.c (File Modified) 


jilles      2006/03/08 00:09:27 UTC	(20060308-984)
  Log:
  findforwards:
  - note truncation of the list (perhaps sending multiple
    notices is better)
  - clarify in a comment that /findforwards on a nonexistent
    channel can be useful
  - sendto_one_notice() requires that the text start with
    a colon
  

  Changes:	Modified:
  +9 -3		trunk/contrib/m_findforwards.c (File Modified) 


jilles      2006/03/07 23:33:48 UTC	(20060307-982)
  Log:
  When we close a local server's link, always include the
  name of the client causing the exit in the reason in the
  SQUIT we send them (replacing them with us). This makes
  sure server notices for stuff like "Not enough arguments
  to server command" are different on the two sides.
  

  Changes:	Modified:
  +7 -5		trunk/src/client.c (File Modified) 


gxti        2006/03/07 22:58:03 UTC	(20060307-980)
  Log:
  New contrib module m_findforwards.c
  

  Changes:	Modified:
  +112 -0	trunk/contrib/Makefile.in (File Modified) 
  + -		trunk/contrib/m_findforwards.c (File Added) 


jilles      2006/03/07 22:21:29 UTC	(20060307-968)
  Log:
  Whoops, don't show real host behind auth{} spoof in
  spoof notices if hide_spoof_ips is enabled.
  
  From ratbox (part of initial HIDE_SPOOF_IPS to conf patch)
  

  Changes:	Modified:
  +3 -2		trunk/src/s_conf.c (File Modified) 


jilles      2006/03/07 12:54:53 UTC	(20060307-962)
  Log:
  Add dalnet-style /identify that sends to nickserv or chanserv.
  

  Changes:	Modified:
  +102 -0	trunk/contrib/Makefile.in (File Modified) 
  + -		trunk/contrib/m_identify.c (File Added) 


jilles      2006/03/07 12:26:20 UTC	(20060307-958)
  Log:
  Document alias{} blocks a bit better.
  

  Changes:	Modified:
  +9 -0		trunk/doc/reference.conf (File Modified) 


nenolod     2006/03/06 04:01:20 UTC	(20060306-948)
  Log:
  - add aliases to /stats m (data usage is not counted though, sorry)
  

  Changes:	Modified:
  +1 -0		trunk/include/s_conf.h (File Modified) 
  +3 -0		trunk/src/newconf.c (File Modified) 
  +15 -0	trunk/src/parse.c (File Modified) 


nenolod     2006/03/06 03:43:02 UTC	(20060306-946)
  Log:
  - remove m_sshortcut as it's no longer relevant
  

  Changes:	Modified:
  +0 -145	trunk/modules/Makefile.in (File Modified) 
  + -		trunk/modules/m_sshortcut.c (File Deleted) 


nenolod     2006/03/06 03:41:31 UTC	(20060306-944)
  Log:
  - support for aliases, needs some more work before it can be backported to the 1.2 branch (jilles changed this to use 
    targets instead of my original idea :P)
  

  Changes:	Modified:
  +32 -0	trunk/doc/example.conf (File Modified) 
  +35 -0	trunk/doc/reference.conf (File Modified) 
  +4 -0		trunk/include/parse.h (File Modified) 
  +7 -0		trunk/include/s_conf.h (File Modified) 
  +82 -0	trunk/src/newconf.c (File Modified) 
  +78 -0	trunk/src/parse.c (File Modified) 
  +16 -0	trunk/src/s_conf.c (File Modified) 


jilles      2006/03/05 23:33:56 UTC	(20060305-942)
  Log:
  Remove some spaces after tabs. ??
  

  Changes:	Modified:
  +18 -18	trunk/src/newconf.c (File Modified) 


jilles      2006/03/05 23:15:38 UTC	(20060305-940)
  Log:
  Global /who:
  - make sure to clear all marks also if the who was aborted
    because of too many matches
  - give ERR_TOOMANYMATCHES if too many matches
  - clarify comments
  
  ratbox RATBOX_2_2 r22003 (jilles)
  

  Changes:	Modified:
  +28 -26	trunk/modules/m_who.c (File Modified) 


nenolod     2006/03/05 09:45:50 UTC	(20060305-936)
  Log:
  - devel is 2.0
  

  Changes:	Modified:
  +9 -9		trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


nenolod     2006/03/05 03:39:14 UTC	(20060305-932)
  Log:
  - add /rehash nickdelay to clear out the nickdelay tables (hack hack!)
  

  Changes:	Modified:
  +2 -1		trunk/include/s_newconf.h (File Modified) 
  +20 -0	trunk/modules/m_rehash.c (File Modified) 
  +1 -1		trunk/src/s_newconf.c (File Modified) 


gxti        2006/03/05 03:38:33 UTC	(20060305-930)
  Log:
  Pull quiet_on_ban from the config as only people who can't configure their ircd properly turn this off.
  

  Changes:	Modified:
  +0 -1		trunk/doc/example.conf (File Modified) 
  +0 -3		trunk/doc/reference.conf (File Modified) 
  +0 -1		trunk/include/s_conf.h (File Modified) 
  +0 -6		trunk/modules/m_info.c (File Modified) 
  +1 -1		trunk/src/channel.c (File Modified) 
  +0 -1		trunk/src/newconf.c (File Modified) 


gxti        2006/03/05 00:48:56 UTC	(20060305-928)
  Log:
  Missing header in m_chghost.c

  Changes:	Modified:
  +1 -0		trunk/modules/m_chghost.c (File Modified) 


gxti        2006/02/28 19:53:33 UTC	(20060228-926)
  Log:
  Relocate QJM code to a seperate function(change_nick_user_host)
  Change CHGHOST to use change_nick_user_host instead of just setting it
  

  Changes:	Modified:
  +3 -0		trunk/include/s_user.h (File Modified) 
  +1 -1		trunk/modules/m_chghost.c (File Modified) 
  +3 -78	trunk/modules/m_signon.c (File Modified) 
  +89 -0	trunk/src/s_user.c (File Modified) 


jilles      2006/02/28 13:24:51 UTC	(20060228-924)
  Log:
  Restore /stats a (dns servers, admin-only).
  

  Changes:	Modified:
  +1 -0		trunk/include/res.h (File Modified) 
  +5 -8		trunk/modules/m_stats.c (File Modified) 
  +16 -0	trunk/src/res.c (File Modified) 


nenolod     2006/02/23 18:29:24 UTC	(20060223-920)
  Log:
  - Add CHARYBDIS_PROFILE if we are profiling.
  - Remove -static from CFLAGS when profiling because this is really unnecessary.
  - Remove duplicate --enable-epoll entry.
  

  Changes:	Modified:
  +1595 -15	trunk/configure (File Modified) 
  +30 -11	trunk/configure.ac (File Modified) 
  +3 -0		trunk/include/setup.h.in (File Modified) 


nenolod     2006/02/23 18:17:21 UTC	(20060223-918)
  Log:
  - Add CHARYBDIS_C_GCC_TRY_FLAGS. Guess where this is from. Just guess.
  

  Changes:	Modified:
  +28 -0	trunk/aclocal.m4 (File Modified) 


jilles      2006/02/23 13:25:48 UTC	(20060223-916)
  Log:
  Allow requesting forward channel and quiet list in same mode command.
  

  Changes:	Modified:
  +1 -1		trunk/modules/core/m_mode.c (File Modified) 


jilles      2006/02/22 00:06:41 UTC	(20060222-912)
  Log:
  Add description of xline wildcards.
  

  Changes:	Modified:
  +14 -3	trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 


gxti        2006/02/21 23:54:57 UTC	(20060221-908)
  Log:
  Stop throwing out LOGIN from non-bursting servers as this interferes with SASL.
  

  Changes:	Modified:
  +0 -4		trunk/modules/m_services.c (File Modified) 


nenolod     2006/02/21 02:25:43 UTC	(20060221-906)
  Log:
  typo
  

  Changes:	Modified:
  +1 -1		trunk/include/hook.h (File Modified) 


nenolod     2006/02/20 22:34:50 UTC	(20060220-904)
  Log:
  call_hook, not hook_call
  

  Changes:	Modified:
  +1 -1		trunk/modules/core/m_join.c (File Modified) 


nenolod     2006/02/20 22:05:41 UTC	(20060220-902)
  Log:
  Add h_channel_join, a hook that's fired (for modules) when a channel is joined.
  Could be useful for a number of things.
  

  Changes:	Modified:
  +9 -0		trunk/modules/core/m_join.c (File Modified) 


nenolod     2006/02/20 21:35:40 UTC	(20060220-900)
  Log:
  New type: hook_data_channel_activity, used primarily for joins and parts from a channel.
  

  Changes:	Modified:
  +7 -0		trunk/include/hook.h (File Modified) 


gxti        2006/02/20 21:27:46 UTC	(20060220-896)
  Log:
  Burst LOGIN on registration if the user was already identified (i.e. from SIGNON)
  

  Changes:	Modified:
  +15 -0	trunk/modules/m_services.c (File Modified) 


jilles      2006/02/20 11:26:45 UTC	(20060220-894)
  Log:
  Clarify snomask +f, +k, +u.
  

  Changes:	Modified:
  +8 -4		trunk/doc/sgml/oper-guide/snomasks.sgml (File Modified) 


jilles      2006/02/20 11:26:22 UTC	(20060220-892)
  Log:
  Cmode +p and +s may be set simultaneously.
  

  Changes:	Modified:
  +1 -0		trunk/doc/sgml/oper-guide/cmodes.sgml (File Modified) 


nenolod     2006/02/20 05:20:38 UTC	(20060220-890)
  Log:
  actually, we should check the data version on each reload (oops)
  

  Changes:	Modified:
  +6 -6		trunk/src/main.c (File Modified) 


nenolod     2006/02/20 05:17:22 UTC	(20060220-888)
  Log:
  more work on the loader
  

  Changes:	Modified:
  +45 -21	trunk/src/main.c (File Modified) 


nenolod     2006/02/20 04:04:42 UTC	(20060220-886)
  Log:
  Add prototype ircd_state.c
  

  Changes:	Modified:
  + -		trunk/src/ircd_state.c (File Added) 


jilles      2006/02/19 00:41:15 UTC	(20060219-882)
  Log:
  Smaller improvements.
  

  Changes:	Modified:
  +18 -8	trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 


jilles      2006/02/19 00:15:39 UTC	(20060219-880)
  Log:
  Add a lot of stuff here.
  

  Changes:	Modified:
  +210 -16	trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 


jilles      2006/02/18 22:55:32 UTC	(20060218-878)
  Log:
  Add +o, +t and +v cmodes and add a lot of information to other cmodes.
  

  Changes:	Modified:
  +81 -10	trunk/doc/sgml/oper-guide/cmodes.sgml (File Modified) 


jilles      2006/02/18 21:57:54 UTC	(20060218-873)
  Log:
  Invex doesn't trump +r or (sic) +J.
  

  Changes:	Modified:
  +0 -2		trunk/doc/sgml/oper-guide/cmodes.sgml (File Modified) 


nenolod     2006/02/18 21:56:00 UTC	(20060218-871)
  Log:
  Check to make sure a module is not loaded before loading it.
  

  Changes:	Modified:
  +6 -1		trunk/src/ircd_parser.y (File Modified) 


nenolod     2006/02/16 18:54:16 UTC	(20060216-869)
  Log:
  - Add a missing comma in the HeaderMessages array
  - Only send "Your hostname is too long ..." if that really is the case
  

  Changes:	Modified:
  +2 -2		trunk/src/s_auth.c (File Modified) 


nenolod     2006/02/16 14:25:09 UTC	(20060216-867)
  Log:
  build_symtable() will have already bailed here, so no need to check
  explicitly whether or not charybdis_main is NULL.
  

  Changes:	Modified:
  +7 -16	trunk/src/main.c (File Modified) 


nenolod     2006/02/16 14:05:37 UTC	(20060216-865)
  Log:
  Data structure versioning, part 1.
  

  Changes:	Modified:
  +10 -1	trunk/include/ircd_defs.h (File Modified) 
  +2 -0		trunk/src/ircd.c (File Modified) 
  +15 -3	trunk/src/main.c (File Modified) 


nenolod     2006/02/16 06:51:59 UTC	(20060216-863)
  Log:
  build a symbol table and use that instead of doing a raw dlsym on everything
  

  Changes:	Modified:
  + -		trunk/include/ircd_linker.h (File Added) 
  +71 -1	trunk/src/Makefile.in (File Modified) 
  + -		trunk/src/ircd_linker.c (File Added) 
  +16 -4	trunk/src/main.c (File Modified) 


nenolod     2006/02/15 23:15:08 UTC	(20060215-861)
  Log:
  The launcher now calls io_loop() instead of charybdis_main().
  This is so that we do not have to reinitialize *everything* later.
  

  Changes:	Modified:
  +1 -0		trunk/include/ircd.h (File Modified) 
  +6 -7		trunk/src/ircd.c (File Modified) 
  +13 -1	trunk/src/main.c (File Modified) 


nenolod     2006/02/15 23:05:22 UTC	(20060215-859)
  Log:
  Use global binding on libircd.so.
  

  Changes:	Modified:
  +1 -1		trunk/src/main.c (File Modified) 


nenolod     2006/02/15 22:49:16 UTC	(20060215-857)
  Log:
  - most of the IRCd is now a shared library, ircd is just a launcher that opens libircd.so and runs it now.
    (it will do more later)
  

  Changes:	Modified:
  +14 -12	trunk/include/config.h (File Modified) 
  +1 -1		trunk/libcharybdis/Makefile.in (File Modified) 
  +31 -5	trunk/src/Makefile.in (File Modified) 
  +78 -1	trunk/src/ircd.c (File Modified) 
  + -		trunk/src/main.c (File Added) 


nenolod     2006/02/15 03:27:43 UTC	(20060215-855)
  Log:
  Add whitespace here, oops.
  

  Changes:	Modified:
  +1 -1		trunk/CREDITS (File Modified) 


nenolod     2006/02/15 01:34:19 UTC	(20060215-851)
  Log:
  Properly copy over the IP address here instead of using a cheap hack.
  Because the hack didn't work right except on IPv6. :|
  

  Changes:	Modified:
  +12 -2	trunk/src/s_newconf.c (File Modified) 


jilles      2006/02/15 01:33:43 UTC	(20060215-849)
  Log:
  Revert reject cache notice to ratbox's, which more
  clearly suggests what's happening.
  

  Changes:	Modified:
  +4 -1		trunk/src/reject.c (File Modified) 


nenolod     2006/02/15 01:30:41 UTC	(20060215-847)
  Log:
  Fix the openssl status in the overview information.
  

  Changes:	Modified:
  +1 -3		trunk/configure (File Modified) 
  +1 -3		trunk/configure.ac (File Modified) 


jilles      2006/02/15 00:53:32 UTC	(20060215-843)
  Log:
  - Add simple exempt{} block (127.0.0.1) to example.conf.
  - Remove mention of deny{}.
  

  Changes:	Modified:
  +5 -0		trunk/doc/example.conf (File Modified) 
  +1 -1		trunk/doc/reference.conf (File Modified) 


jilles      2006/02/15 00:37:34 UTC	(20060215-839)
  Log:
  example.conf: add some comments at the start
  reference.conf: some ircd-ratbox -> charybdis
  

  Changes:	Modified:
  +11 -0	trunk/doc/example.conf (File Modified) 
  +6 -5		trunk/doc/reference.conf (File Modified) 


jilles      2006/02/15 00:27:59 UTC	(20060215-833)
  Log:
  Rename m_createauthonly module to createauthonly
  as this is not a module providing an m_function
  (command).
  

  Changes:	Modified:
  +1 -38	trunk/contrib/Makefile.in (File Modified) 
  + -		trunk/contrib/createauthonly.c (File Added) 
  + -		trunk/contrib/m_createauthonly.c (File Deleted) 


jilles      2006/02/15 00:22:08 UTC	(20060215-831)
  Log:
  Add to example confs commented lines for:
  createauthonly.so, ip_cloaking.so, sno_farconnect.so,
  sno_globalkline.so, sno_globaloper.so.
  

  Changes:	Modified:
  +5 -1		trunk/doc/example.conf (File Modified) 
  +9 -1		trunk/doc/reference.conf (File Modified) 


jilles      2006/02/15 00:12:24 UTC	(20060215-829)
  Log:
  - Unbreak connecting to connect{}s with hostnames
    instead of IP addresses (broken with new resolver).
  - Try to do A/AAAA query based on aftype in
    connect{} (doesn't seem to work fully).
  

  Changes:	Modified:
  +19 -2	trunk/libcharybdis/commio.c (File Modified) 


jilles      2006/02/14 22:54:37 UTC	(20060214-827)
  Log:
  Unbreak /rehash dns.
  

  Changes:	Modified:
  +1 -0		trunk/src/res.c (File Modified) 


jilles      2006/02/14 22:40:55 UTC	(20060214-825)
  Log:
  Preserve Hybrid Id and add one of our own.
  

  Changes:	Modified:
  +2 -1		trunk/src/res.c (File Modified) (Property Modified)
  +2 -1		trunk/src/reslib.c (File Modified) (Property Modified)


jilles      2006/02/14 22:17:17 UTC	(20060214-821)
  Log:
  Add anfl and Androsyn to CREDITS.
  They wrote a lot of ratbox code we use, both before and after the fork.
  

  Changes:	Modified:
  +2 -0		trunk/CREDITS (File Modified) 


nenolod     2006/02/14 21:39:42 UTC	(20060214-819)
  Log:
  Hostname validity check.
  

  Changes:	Modified:
  +42 -3	trunk/src/s_auth.c (File Modified) 


nenolod     2006/02/14 21:02:12 UTC	(20060214-817)
  Log:
  Version bump to 1.2.0.
  

  Changes:	Modified:
  +9 -9		trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


nenolod     2006/02/14 20:55:24 UTC	(20060214-815)
  Log:
  - Missed a spot in the IPv6 code here. Should be usable now.
  

  Changes:	Modified:
  +2 -2		trunk/src/res.c (File Modified) 


nenolod     2006/02/14 20:52:15 UTC	(20060214-813)
  Log:
  Alright, so, this massive commit does the following:
  - Removes adns
  - Adds a resolver based on the undernet and hybrid one.
  - Tries to clean up a giant mess in the header dependencies (encountered during the above)
  - Makes a check in ./configure be posixly correct
  - Simplifies the auth code and DNS callbacks
  
  Needs testing. Especially under IPv6. I probably fucked something up there. I will test it later.
  

  Changes:	Modified:
  +1 -1		trunk/Makefile.in (File Modified) 
  + -		trunk/adns/ (File Deleted) 
  +148 -80	trunk/configure (File Modified) 
  +1 -2		trunk/configure.ac (File Modified) 
  +6 -0		trunk/include/client.h (File Modified) 
  +1 -0		trunk/include/packet.h (File Modified) 
  +153 -41	trunk/include/res.h (File Modified) 
  + -		trunk/include/reslib.h (File Added) 
  +4 -33	trunk/libcharybdis/commio.c (File Modified) 
  +930 -1449	trunk/modules/.depend (File Modified) 
  +3 -0		trunk/modules/m_stats.c (File Modified) 
  +417 -621	trunk/src/.depend (File Modified) 
  +1 -1		trunk/src/.indent.pro (File Modified) 
  +2069 -289	trunk/src/Makefile.in (File Modified) 
  + -		trunk/src/adns.c (File Deleted) 
  + -		trunk/src/res.c (File Added) 
  + -		trunk/src/reslib.c (File Added) 
  +11 -50	trunk/src/s_auth.c (File Modified) 
  +4 -26	trunk/src/s_newconf.c (File Modified) 


nenolod     2006/02/13 20:14:51 UTC	(20060213-811)
  Log:
  Document the NOBALLOC feature.
  

  Changes:	Modified:
  +7 -1		trunk/include/config.h (File Modified) 


jilles      2006/02/12 20:50:51 UTC	(20060212-806)
  Log:
  commands.sgml changes
  

  Changes:	Modified:
  +126 -51	trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 


jilles      2006/02/12 19:58:28 UTC	(20060212-804)
  Log:
  connect{} changes.
  

  Changes:	Modified:
  +11 -4	trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/02/12 19:47:43 UTC	(20060212-802)
  Log:
  Improve description of class{} block (in particular,
  mention server classes as well as client classes).
  

  Changes:	Modified:
  +41 -3	trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/02/12 19:37:35 UTC	(20060212-800)
  Log:
  In comment:
  -/* sendq: servers need a higher sendq as they send more data */
  +/* sendq: servers need a higher sendq as they are sent more data */
  

  Changes:	Modified:
  +1 -1		trunk/doc/reference.conf (File Modified) 


jilles      2006/02/12 19:33:35 UTC	(20060212-798)
  Log:
  Add modules{} block.
  

  Changes:	Modified:
  +28 -0	trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/02/12 17:31:44 UTC	(20060212-796)
  Log:
  Add general::oper_snomask, snomask on oper up for opers
  that have umode +s set on oper up, but do not have
  a specific snomask setting in their operator block.
  If this is empty or not specified, +s is used as before.
  

  Changes:	Modified:
  +4 -1		trunk/doc/example.conf (File Modified) 
  +7 -1		trunk/doc/reference.conf (File Modified) 
  +1 -0		trunk/include/client.h (File Modified) 
  +1 -0		trunk/include/s_conf.h (File Modified) 
  +32 -0	trunk/src/newconf.c (File Modified) 
  +1 -0		trunk/src/s_conf.c (File Modified) 
  +13 -3	trunk/src/s_user.c (File Modified) 


nenolod     2006/02/12 07:27:54 UTC	(20060212-794)
  Log:
  fix error

  Changes:	Modified:
  +1 -1		trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 


nenolod     2006/02/12 07:13:38 UTC	(20060212-792)
  Log:
  Add MASKTRACE and CHANTRACE commands.
  

  Changes:	Modified:
  +23 -5	trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 


nenolod     2006/02/12 06:39:51 UTC	(20060212-790)
  Log:
  document loadmodule directive
  

  Changes:	Modified:
  +12 -3	trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


nenolod     2006/02/12 06:36:19 UTC	(20060212-788)
  Log:
  finish this up
  

  Changes:	Modified:
  +29 -3	trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


nenolod     2006/02/12 06:29:55 UTC	(20060212-786)
  Log:
  q:lines are no longer living in the ircd.conf either
  

  Changes:	Modified:
  +0 -8		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


nenolod     2006/02/12 04:28:54 UTC	(20060212-784)
  Log:
  remove k:line, d:line, x:line as they are their own files now
  

  Changes:	Modified:
  +0 -29	trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/02/12 03:55:38 UTC	(20060212-782)
  Log:
  New place for operator::snomask.
  

  Changes:	Modified:
  +9 -9		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


nenolod     2006/02/12 03:46:29 UTC	(20060212-780)
  Log:
  Document connect {}.
  

  Changes:	Modified:
  +101 -20	trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/02/12 03:42:26 UTC	(20060212-778)
  Log:
  example.conf: move operator::snomask to a more logical place,
  more sensible default
  reference.conf: add operator::snomask
  

  Changes:	Modified:
  +3 -3		trunk/doc/example.conf (File Modified) 
  +3 -0		trunk/doc/reference.conf (File Modified) 


jilles      2006/02/12 03:34:24 UTC	(20060212-776)
  Log:
  Allow specifying +D (deaf), +Q (noforward) and +R (regonlymsg)
  in those conf entries that take umodes like <name1>, <name2>, ...
  

  Changes:	Modified:
  +3 -0		trunk/doc/reference.conf (File Modified) 
  +3 -0		trunk/src/newconf.c (File Modified) 


nenolod     2006/02/12 03:33:02 UTC	(20060212-774)
  Log:
  Remove H:line
  

  Changes:	Modified:
  +0 -7		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


nenolod     2006/02/12 03:30:32 UTC	(20060212-772)
  Log:
  Aesthetic changes.
  

  Changes:	Modified:
  +2 -0		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


nenolod     2006/02/12 03:28:34 UTC	(20060212-770)
  Log:
  s/allow/auth
  

  Changes:	Modified:
  +1 -1		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


nenolod     2006/02/12 03:26:36 UTC	(20060212-768)
  Log:
  fix
  

  Changes:	Modified:
  +1 -1		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


nenolod     2006/02/12 03:25:40 UTC	(20060212-766)
  Log:
  Document operator {} blocks.
  

  Changes:	Modified:
  +65 -17	trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/02/12 03:18:31 UTC	(20060212-764)
  Log:
  auth{}: clarify/add some details
  

  Changes:	Modified:
  +14 -7	trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


nenolod     2006/02/12 03:11:11 UTC	(20060212-762)
  Log:
  auth{}: Move a paragraph.
  

  Changes:	Modified:
  +3 -3		trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


nenolod     2006/02/12 03:02:10 UTC	(20060212-760)
  Log:
  Document auth{} blocks.
  

  Changes:	Modified:
  +107 -43	trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2006/02/12 02:23:21 UTC	(20060212-758)
  Log:
  Add umode +R.
  

  Changes:	Modified:
  +2 -1		trunk/doc/sgml/oper-guide/umodes.sgml (File Modified) 


jilles      2006/02/12 02:19:41 UTC	(20060212-756)
  Log:
  Add umode +R, prevents unidentified clients from
  sending private messages or notices. /accept'ed
  clients and opers are exempt.
  Due to the /accept part, this is only checked
  at the target's server, may want to change
  this?
  

  Changes:	Modified:
  +1 -0		trunk/help/opers/umode (File Modified) 
  +1 -0		trunk/help/users/umode (File Modified) 
  +2 -0		trunk/include/client.h (File Modified) 
  +1 -0		trunk/include/numeric.h (File Modified) 
  +11 -1	trunk/modules/core/m_message.c (File Modified) 
  +9 -1		trunk/modules/m_cmessage.c (File Modified) 
  +1 -1		trunk/src/messages.tab (File Modified) 
  +1 -1		trunk/src/s_user.c (File Modified) 


jilles      2006/02/12 01:26:44 UTC	(20060212-754)
  Log:
  Don't allow a nick change if banned or quieted (and not
  voiced or opped) on a channel. This uses numeric 435
  (bahamut's "cannot change to a banned nick") because
  bahamut/ircu's 437 and hyperion's 438 already have
  another meaning for us.
  

  Changes:	Modified:
  +2 -0		trunk/include/channel.h (File Modified) 
  +1 -0		trunk/include/numeric.h (File Modified) 
  +9 -0		trunk/modules/core/m_nick.c (File Modified) 
  +38 -0	trunk/src/channel.c (File Modified) 
  +1 -1		trunk/src/messages.tab (File Modified) 


jilles      2006/02/11 20:55:03 UTC	(20060211-752)
  Log:
  KNOCK:
  - respect ban exceptions
  - also deny a knock if quieted
  

  Changes:	Modified:
  +2 -1		trunk/modules/m_knock.c (File Modified) 


jilles      2006/02/11 19:42:32 UTC	(20060211-750)
  Log:
  Reverse bad substitution in comment.
  

  Changes:	Modified:
  +1 -1		trunk/src/channel.c (File Modified) 


jilles      2006/02/11 19:04:47 UTC	(20060211-748)
  Log:
  - set DynSpoof flag for clients spoofed at registration
  - add orighost instead of host to the hostname hash
  

  Changes:	Modified:
  +5 -1		trunk/src/s_user.c (File Modified) 


jilles      2006/02/11 16:59:13 UTC	(20060211-746)
  Log:
  sendto_common_channels_local_butone(): nicer way to skip the user themselves.
  

  Changes:	Modified:
  +2 -3		trunk/src/send.c (File Modified) 


gxti        2006/02/10 02:44:34 UTC	(20060210-744)
  Log:
  Change login field semantics in SVSLOGIN/SIGNON to allow both no-change and logout.
  

  Changes:	Modified:
  +17 -7	trunk/modules/m_signon.c (File Modified) 


gxti        2006/02/09 02:44:48 UTC	(20060209-742)
  Log:
  Correct minimum args on ENCAP SASL to avoid nasty core.
  

  Changes:	Modified:
  +1 -1		trunk/modules/m_sasl.c (File Modified) 


jilles      2006/02/09 01:14:21 UTC	(20060209-740)
  Log:
  Style nits: sptr can't ever be NULL, don't compare truth
  values with YES.
  

  Changes:	Modified:
  +2 -3		trunk/modules/m_scan.c (File Modified) 


jilles      2006/02/09 01:04:56 UTC	(20060209-738)
  Log:
  - Comment out scan_cmodes() prototype to suppress warning
  - Correct minimum parameter count for mo_scan()
  

  Changes:	Modified:
  +2 -2		trunk/modules/m_scan.c (File Modified) 


jilles      2006/02/09 00:56:16 UTC	(20060209-736)
  Log:
  SCAN UMODES:
  - Include full command in operspy notice
  - Allow global scans (no-list used, mask not used) without operspy
  - Use ERR_NOPRIVS numeric
  

  Changes:	Modified:
  +21 -9	trunk/modules/m_scan.c (File Modified) 


jilles      2006/02/08 23:45:23 UTC	(20060208-734)
  Log:
  Cancel out the >3 default if < is given; this way
  any </> specification fully overrides the default.
  

  Changes:	Modified:
  +3 -0		trunk/modules/m_list_safelist.c (File Modified) 


jilles      2006/02/08 23:13:44 UTC	(20060208-732)
  Log:
  - Call mo_list() from m_list() to reduce code duplication
  - Default to >3, rather arbitrarily (conf option?)
  - Make < and > mean less than and greater than again
  

  Changes:	Modified:
  +16 -47	trunk/modules/m_list_safelist.c (File Modified) 


jilles      2006/02/08 22:20:43 UTC	(20060208-730)
  Log:
  When processing topic burst, hide connecting server
  on netburst if flatten links is enabled.
  

  Changes:	Modified:
  +9 -2		trunk/modules/m_tb.c (File Modified) 


nenolod     2006/02/08 22:03:57 UTC	(20060208-728)
  Log:
  - remove PENALTY token
  

  Changes:	Modified:
  +0 -1		trunk/include/supported.h (File Modified) 


nenolod     2006/02/08 22:00:03 UTC	(20060208-726)
  Log:
  005 fixups:
  - Add PENALTY because we have a pace-wait system.
  - Add FNC due to SAVE and RSFNC
  - Add q to MAXLIST.
  

  Changes:	Modified:
  +4 -2		trunk/include/supported.h (File Modified) 


nenolod     2006/02/08 21:55:57 UTC	(20060208-724)
  Log:
  mkay, indent went nuts here
  

  Changes:	Modified:
  +4 -6		trunk/modules/m_list_safelist.c (File Modified) 


nenolod     2006/02/08 21:51:28 UTC	(20060208-722)
  Log:
  Implement SAFELIST. The old ratbox method is now called m_list_ratbox.c,
  and can be used instead. The SAFELIST implementation is the one used by
  default, as most users/networks will be used to it.
  

  Changes:	Modified:
  +1 -0		trunk/NEWS (File Modified) 
  +14 -0	trunk/include/client.h (File Modified) 
  +5 -0		trunk/include/hash.h (File Modified) 
  +404 -272	trunk/modules/Makefile.in (File Modified) 
  + -		trunk/modules/m_list.c (File Deleted) 
  + -		trunk/modules/m_list_ratbox.c (File Added) 
  + -		trunk/modules/m_list_safelist.c (File Added) 
  +5 -5		trunk/src/hash.c (File Modified) 


jilles      2006/02/08 21:02:52 UTC	(20060208-720)
  Log:
  Clear invites on a lowerTS JOIN or SJOIN.
  This should complete kick_on_split_riding protection.
  

  Changes:	Modified:
  +5 -0		trunk/modules/core/m_join.c (File Modified) 
  +5 -1		trunk/modules/core/m_sjoin.c (File Modified) 


jilles      2006/02/08 20:26:58 UTC	(20060208-718)
  Log:
  Like in ratbox, send and interpret timestamps on invites.
  

  Changes:	Modified:
  +9 -2		trunk/modules/m_invite.c (File Modified) 


jilles      2006/02/07 12:48:28 UTC	(20060207-716)
  Log:
  Add +S (network service) umode. Just for completeness, users or opers
  cannot set this.
  

  Changes:	Modified:
  +19 -0	trunk/doc/sgml/oper-guide/umodes.sgml (File Modified) 


nenolod     2006/02/06 20:04:23 UTC	(20060206-714)
  Log:
  update NEWS a bit
  

  Changes:	Modified:
  +35 -2	trunk/NEWS (File Modified) 


gxti        2006/02/06 04:42:14 UTC	(20060206-712)
  Log:
  Split off a PreClient structure for data to be freed on registation (i.e. password).
  New hook introduce_client for post-registration messages.
  Fix b0rked SASL numerics.
  Burst REALHOST post-introduction for spoofed-on-registration clients.
  Rearrange SVSLOGIN arguments so that allowednicks is at the end; optional.
  Pre-registration signon support.
  

  Changes:	Modified:
  +10 -0	trunk/configure (File Modified) 
  +2 -0		trunk/configure.ac (File Modified) 
  +14 -4	trunk/include/client.h (File Modified) 
  +1 -0		trunk/include/hook.h (File Modified) 
  +1 -0		trunk/include/numeric.h (File Modified) 
  +3 -0		trunk/include/setup.h.in (File Modified) 
  +16 -0	trunk/modules/m_chghost.c (File Modified) 
  +25 -21	trunk/modules/m_sasl.c (File Modified) 
  +63 -30	trunk/modules/m_signon.c (File Modified) 
  +18 -0	trunk/src/client.c (File Modified) 
  +2 -0		trunk/src/hook.c (File Modified) 
  +5 -5		trunk/src/messages.tab (File Modified) 
  +2 -0		trunk/src/s_serv.c (File Modified) 
  +28 -2	trunk/src/s_user.c (File Modified) 


gxti        2006/02/06 03:10:01 UTC	(20060206-710)
  Log:
  Update hook documentation.
  

  Changes:	Modified:
  +30 -0	trunk/doc/hooks.txt (File Modified) 


jilles      2006/02/05 22:44:03 UTC	(20060205-708)
  Log:
  Improve @/# handling in match_esc().
  

  Changes:	Modified:
  +21 -13	trunk/src/match.c (File Modified) 


nenolod     2006/02/05 21:09:04 UTC	(20060205-706)
  Log:
  backtrack instead of bailing out when handling a mismatched escape
  

  Changes:	Modified:
  +1 -1		trunk/src/match.c (File Modified) 


nenolod     2006/02/05 20:33:39 UTC	(20060205-704)
  Log:
  Denote Entrope as being a contributor, since we used his match() routines from ircu/srvx.

  Changes:	Modified:
  +2 -1		trunk/CREDITS (File Modified) 


nenolod     2006/02/05 20:24:55 UTC	(20060205-702)
  Log:
  Fix the escape brokenness and pick up a more efficient matching algorithm,
  via ircu (Entrope, Runaway et al.). Where do we lose? Nowhere.
  Patch sent upstream. They can do whatever they want with it, *shrug*.
  

  Changes:	Modified:
  +147 -161	trunk/src/match.c (File Modified) 


jilles      2006/02/04 20:13:39 UTC	(20060204-700)
  Log:
  If flatten links is enabled, fake the origins of some ServerModes
  sent to clients so that the server sending the netburst is hidden.
  Most mode hacks still show the true source.
  

  Changes:	Modified:
  +17 -4	trunk/modules/core/m_mode.c (File Modified) 
  +20 -10	trunk/modules/core/m_sjoin.c (File Modified) 


jilles      2006/02/04 18:26:55 UTC	(20060204-698)
  Log:
  - When exiting a local server, send SQUIT <them> :<reason> (no matter
    where the exit originated).
  - When receiving an SQUIT for a server themselves
    (IsMe(target_p) || target_p == client_p)
    close their link and send a local server notice.
  

  Changes:	Modified:
  +16 -9	trunk/modules/core/m_squit.c (File Modified) 
  +6 -3		trunk/src/client.c (File Modified) 


nenolod     2006/02/04 04:37:10 UTC	(20060204-696)
  Log:
  Hooking into the wrong hook, whoops. :P
  

  Changes:	Modified:
  +3 -5		trunk/contrib/m_createauthonly.c (File Modified) 
  +6 -10	trunk/modules/core/m_join.c (File Modified) 


nenolod     2006/02/04 04:11:17 UTC	(20060204-694)
  Log:
  this doesn't work right, right now :P
  

  Changes:	Modified:
  +40 -0	trunk/contrib/Makefile.in (File Modified) 
  + -		trunk/contrib/m_createauthonly.c (File Added) 
  +6 -0		trunk/include/hook.h (File Modified) 
  +26 -1	trunk/modules/core/m_join.c (File Modified) 
  +1 -1		trunk/src/ircd.c (File Modified) 


nenolod     2006/02/04 03:11:05 UTC	(20060204-692)
  Log:
  Make can_join() hookable.
  

  Changes:	Modified:
  +12 -1	trunk/src/channel.c (File Modified) 


nenolod     2006/02/04 03:04:20 UTC	(20060204-690)
  Log:
  add 'int approved;' to the channel event hook
  

  Changes:	Modified:
  +1 -0		trunk/include/hook.h (File Modified) 


gxti        2006/02/04 02:50:03 UTC	(20060204-688)
  Log:
  Use SIDs in SASL ENCAP origin.
  Ignore responses from other agents once the first SASL response has been received for a client.
  

  Changes:	Modified:
  +9 -5		trunk/modules/m_sasl.c (File Modified) 


gxti        2006/02/04 01:44:17 UTC	(20060204-686)
  Log:
  Removed stray debug code.
  

  Changes:	Modified:
  +1 -1		trunk/modules/m_sasl.c (File Modified) 


jilles      2006/02/03 22:39:24 UTC	(20060203-684)
  Log:
  Don't complain "unknown MODE flag" if a non-oper attempts
  to unset an oper only umode they do not have.
  This is to prevent unwanted error messages when users/bots
  do things like MODE <nick> +i-sw.
  

  Changes:	Modified:
  +4 -2		trunk/src/s_user.c (File Modified) 


jilles      2006/02/03 22:32:03 UTC	(20060203-682)
  Log:
  Fix client_exit hook name and only call it for local exits that are not
  IsAnyServer.
  

  Changes:	Modified:
  +3 -2		trunk/modules/m_sasl.c (File Modified) 


gxti        2006/02/03 21:41:48 UTC	(20060203-680)
  Log:
  Fix SASL logic to actually use stored agent UID.
  Change instances of SASL code that use sendto_one_prefix for ENCAP.
  Add abort code for exiting clients.
  

  Changes:	Modified:
  +18 -9	trunk/modules/m_sasl.c (File Modified) 


jilles      2006/02/03 20:25:01 UTC	(20060203-678)
  Log:
  Port over ratbox 2.2 /challenge. This is slightly more secure
  (better crypto, longer keys, challenge timeout) and has better
  client scripts.
  
  The respond tool is no longer part of the ircd tree but a
  separate package, currently available from
  http://respond.ircd-ratbox.org (we should mirror/... this).
  

  Changes:	Modified:
  +65 -310	trunk/doc/challenge.txt (File Modified) 
  +5 -5		trunk/include/client.h (File Modified) 
  +3 -0		trunk/include/irc_string.h (File Modified) 
  +3 -0		trunk/include/numeric.h (File Modified) 
  +94 -50	trunk/modules/m_challenge.c (File Modified) 
  +1 -2		trunk/src/client.c (File Modified) 
  +125 -0	trunk/src/irc_string.c (File Modified) 
  +2 -2		trunk/src/messages.tab (File Modified) 
  + -		trunk/tools/rsa_respond/ (File Deleted) 


gxti        2006/02/03 20:05:09 UTC	(20060203-676)
  Log:
  Preliminary SASL support.
  

  Changes:	Modified:
  +7 -0		trunk/include/client.h (File Modified) 
  +6 -0		trunk/include/numeric.h (File Modified) 
  +1 -0		trunk/modules/Makefile.in (File Modified) 
  +1 -1		trunk/modules/core/m_nick.c (File Modified) 
  +175 -1	trunk/modules/m_cap.c (File Modified) 
  + -		trunk/modules/m_sasl.c (File Added) 
  +2 -0		trunk/modules/m_user.c (File Modified) 
  +5 -5		trunk/src/messages.tab (File Modified) 
  +8 -2		trunk/src/s_user.c (File Modified) 


jilles      2006/02/03 18:13:03 UTC	(20060203-674)
  Log:
  SIGNON: make logout also apply remotely.
  

  Changes:	Modified:
  +7 -2		trunk/modules/m_signon.c (File Modified) 


gxti        2006/02/03 17:45:04 UTC	(20060203-672)
  Log:
  Use an asterisk when sending empty logins in SIGNON.
  

  Changes:	Modified:
  +5 -5		trunk/modules/m_signon.c (File Modified) 


jilles      2006/02/03 17:38:31 UTC	(20060203-670)
  Log:
  SIGNON: Only add whowas entry (add_history()) and wipe
  accepts (del_all_accepts()) if nick changed.
  

  Changes:	Modified:
  +5 -3		trunk/modules/m_signon.c (File Modified) 


jilles      2006/02/03 17:26:52 UTC	(20060203-668)
  Log:
  SIGNON: slight fixes to collision code:
  - don't kill if target_p == source_p (nick unchanged or only changed case)
  - add comment that SAVE support is missing
  - use sendto_realops_snomask() instead of sendto_realops_flags()
  

  Changes:	Modified:
  +9 -6		trunk/modules/m_signon.c (File Modified) 


jilles      2006/02/03 17:19:26 UTC	(20060203-666)
  Log:
  Fix up kills for bad nick/user/host on SIGNON.
  

  Changes:	Modified:
  +16 -6	trunk/modules/m_signon.c (File Modified) 


jilles      2006/02/03 16:50:56 UTC	(20060203-664)
  Log:
  If changing to a nick with a digit, only allow the UID.
  

  Changes:	Modified:
  +4 -0		trunk/modules/m_signon.c (File Modified) 


gxti        2006/02/03 04:20:31 UTC	(20060203-661)
  Log:
  Cleaned up SIGNON patch for mainline with quit-join-mode support.
  Strip leading digits from logins that are not purely numeric.
  

  Changes:	Modified:
  +3 -0		trunk/include/numeric.h (File Modified) 
  +2 -0		trunk/include/send.h (File Modified) 
  +1 -0		trunk/modules/Makefile.in (File Modified) 
  +456 -3	trunk/modules/m_services.c (File Modified) 
  + -		trunk/modules/m_signon.c (File Added) 
  +2 -2		trunk/src/messages.tab (File Modified) 
  +98 -0	trunk/src/send.c (File Modified) 


jilles      2006/02/02 14:10:16 UTC	(20060202-659)
  Log:
  Remove old server notice umodes from example confs.
  

  Changes:	Modified:
  +1 -2		trunk/doc/example.conf (File Modified) 
  +4 -17	trunk/doc/reference.conf (File Modified) 


jilles      2006/02/01 15:11:42 UTC	(20060201-657)
  Log:
  Add snomask help file (forgot this earlier).
  

  Changes:	Modified:
  + -		trunk/help/opers/snomask (File Added) 


jilles      2006/01/31 12:50:36 UTC	(20060131-655)
  Log:
  Add umode +l (receive locops).
  

  Changes:	Modified:
  +11 -0	trunk/doc/sgml/oper-guide/umodes.sgml (File Modified) 


jilles      2006/01/31 12:44:21 UTC	(20060131-653)
  Log:
  We don't plan to implement cmode +R (quiet unidentified) and
  umode +I (deny invite) for 1.1, so comment them out from the
  docs.
  

  Changes:	Modified:
  +2 -0		trunk/doc/sgml/oper-guide/cmodes.sgml (File Modified) 
  +2 -0		trunk/doc/sgml/oper-guide/umodes.sgml (File Modified) 


jilles      2006/01/31 12:40:38 UTC	(20060131-651)
  Log:
  Improve snomask usage description.
  

  Changes:	Modified:
  +9 -5		trunk/doc/sgml/oper-guide/snomasks.sgml (File Modified) 


jilles      2006/01/31 12:33:01 UTC	(20060131-649)
  Log:
  Mention the word snomask with umode +s (needs to be a link really).
  

  Changes:	Modified:
  +1 -1		trunk/doc/sgml/oper-guide/umodes.sgml (File Modified) 


jilles      2006/01/31 12:28:58 UTC	(20060131-647)
  Log:
  Add snomask +Z (operspy notices).
  

  Changes:	Modified:
  +10 -0	trunk/doc/sgml/oper-guide/snomasks.sgml (File Modified) 


jilles      2006/01/31 12:23:29 UTC	(20060131-645)
  Log:
  Misc updates/clarifications.
  

  Changes:	Modified:
  +8 -6		trunk/doc/sgml/oper-guide/oprivs.sgml (File Modified) 


jilles      2006/01/31 12:15:29 UTC	(20060131-643)
  Log:
  Document snomasks.
  

  Changes:	Modified:
  +139 -0	trunk/doc/sgml/oper-guide/charybdis-oper-guide.sgml (File Modified) 
  + -		trunk/doc/sgml/oper-guide/snomasks.sgml (File Added) 
  +3 -85	trunk/doc/sgml/oper-guide/umodes.sgml (File Modified) 


jilles      2006/01/30 01:07:43 UTC	(20060130-641)
  Log:
  - Allow ENCAP REALHOST outside burst
  - Fix comment describing race condition: this can only happen
    on a local whois with use_whois_actually enabled
  

  Changes:	Modified:
  +4 -6		trunk/modules/m_chghost.c (File Modified) 


jilles      2006/01/29 21:42:06 UTC	(20060129-639)
  Log:
  Add sno_globaloper.c, remote oper up notices generated from user mode changes.
  

  Changes:	Modified:
  +39 -0	trunk/contrib/Makefile.in (File Modified) 
  + -		trunk/contrib/sno_globaloper.c (File Added) 


jilles      2006/01/29 21:26:53 UTC	(20060129-637)
  Log:
  Pass along old umodes and snomask in umode_changed hook,
  changing its parameter type from struct Client *
  to hook_data_umode_changed *. (For a new client, both
  are zero.)
  
  The IP cloaking module now fully ignores umode changes
  where +h didn't change.
  

  Changes:	Modified:
  +7 -2		trunk/contrib/ip_cloaking.c (File Modified) 
  +7 -0		trunk/include/hook.h (File Modified) 
  +18 -4	trunk/src/s_user.c (File Modified) 


nenolod     2006/01/29 20:41:26 UTC	(20060129-635)
  Log:
  move libcharybdis-provided function initialisation into libcharybdis_init().
  

  Changes:	Modified:
  +32 -11	trunk/src/ircd.c (File Modified) 


jilles      2006/01/29 20:40:55 UTC	(20060129-633)
  Log:
  Make +f notices (local host, global host, global user@host, local class)
  netwide. Exceeding /quote set max remains local.
  

  Changes:	Modified:
  +4 -4		trunk/src/s_conf.c (File Modified) 


jilles      2006/01/29 20:32:44 UTC	(20060129-631)
  Log:
  Netwide notices about attempts to join juped channels.
  

  Changes:	Modified:
  +1 -1		trunk/modules/core/m_join.c (File Modified) 


jilles      2006/01/29 19:57:17 UTC	(20060129-629)
  Log:
  Send server notices about failed oper attempts globally.
  Successful remote oper attempt notices will be generated
  from the mode changes.
  

  Changes:	Modified:
  +3 -3		trunk/modules/m_challenge.c (File Modified) 
  +2 -2		trunk/modules/m_oper.c (File Modified) 


jilles      2006/01/29 19:56:11 UTC	(20060129-627)
  Log:
  Rest of infrastructure for sending server notices globally.
  Uses a new L_NETWIDE level on sendto_realops_snomask().
  

  Changes:	Modified:
  +1 -0		trunk/include/send.h (File Modified) 
  +31 -4	trunk/src/send.c (File Modified) 


jilles      2006/01/29 18:55:28 UTC	(20060129-625)
  Log:
  Add general::global_snotices conf option to control
  whether we send out SNOTEs. Does not do anything yet.
  

  Changes:	Modified:
  +1 -0		trunk/doc/example.conf (File Modified) 
  +6 -0		trunk/doc/reference.conf (File Modified) 
  +1 -0		trunk/include/s_conf.h (File Modified) 
  +6 -0		trunk/modules/m_info.c (File Modified) 
  +1 -0		trunk/src/newconf.c (File Modified) 
  +1 -0		trunk/src/s_conf.c (File Modified) 


jilles      2006/01/29 13:47:35 UTC	(20060129-623)
  Log:
  Only accept SNOTE from servers.
  

  Changes:	Modified:
  +2 -0		trunk/modules/m_snote.c (File Modified) 


jilles      2006/01/29 13:25:06 UTC	(20060129-621)
  Log:
  Correct parv indices so this actually works.
  

  Changes:	Modified:
  +2 -2		trunk/modules/m_snote.c (File Modified) 


jilles      2006/01/29 13:16:10 UTC	(20060129-619)
  Log:
  s/scan/snote/g
  

  Changes:	Modified:
  +3 -3		trunk/modules/m_snote.c (File Modified) 


nenolod     2006/01/29 04:51:26 UTC	(20060129-617)
  Log:
  Add m_snote.c, SNOTE propagator.
  

  Changes:	Modified:
  +86 -0	trunk/modules/Makefile.in (File Modified) 
  + -		trunk/modules/m_snote.c (File Added) 


nenolod     2006/01/29 03:25:01 UTC	(20060129-615)
  Log:
  start seeding the 1.1 NEWS file
  

  Changes:	Modified:
  +4 -0		trunk/NEWS (File Modified) 


nenolod     2006/01/29 03:03:02 UTC	(20060129-613)
  Log:
  rename some modules to more descriptive names...
  

  Changes:	Modified:
  +2 -131	trunk/contrib/Makefile.in (File Modified) 
  + -		trunk/contrib/globalconnexit.c (File Deleted) 
  + -		trunk/contrib/globallineactive.c (File Deleted) 
  + -		trunk/contrib/sno_farconnect.c (File Added) 
  + -		trunk/contrib/sno_globalkline.c (File Added) 
  +1 -120	trunk/modules/Makefile.in (File Modified) 
  + -		trunk/modules/networknotice.c (File Deleted) 
  + -		trunk/modules/sno_routing.c (File Added) 


jilles      2006/01/28 22:02:18 UTC	(20060128-611)
  Log:
  Add networknotice (global netjoin/netsplit notices with counts/reasons).
  Uses FLAGS2_FLOODDONE bit on servers.
  

  Changes:	Modified:
  +3 -0		trunk/include/client.h (File Modified) 
  +121 -1	trunk/modules/Makefile.in (File Modified) 
  + -		trunk/modules/networknotice.c (File Added) 


jilles      2006/01/28 21:44:33 UTC	(20060128-609)
  Log:
  Don't show servers in /trace to nonopers if flatten links is enabled.
  

  Changes:	Modified:
  +8 -5		trunk/modules/m_trace.c (File Modified) 


jilles      2006/01/28 16:45:46 UTC	(20060128-607)
  Log:
  CHGHOST:
  - use RPL_HOSTHIDDEN numeric also when resetting hostname to original
  - send back confirmation to source, if local client
  - send a +s server notice if the source is neither a server nor a service (+S)
  

  Changes:	Modified:
  +5 -1		trunk/modules/m_chghost.c (File Modified) 


jilles      2006/01/28 16:01:05 UTC	(20060128-605)
  Log:
  Use sendto_realops_snomask_from() to make the
  server notices appear to come from the affected
  user's server.
  

  Changes:	Modified:
  +5 -6		trunk/contrib/globalconnexit.c (File Modified) 
  +6 -6		trunk/contrib/globallineactive.c (File Modified) 


jilles      2006/01/28 16:00:14 UTC	(20060128-603)
  Log:
  Add sendto_realops_snomask_from(), allows
  specification of apparent source server.
  

  Changes:	Modified:
  +1 -0		trunk/include/send.h (File Modified) 
  +41 -1	trunk/src/send.c (File Modified) 


jilles      2006/01/28 15:30:20 UTC	(20060128-601)
  Log:
  Revert r579. Keep host, not orighost in oper up notice.
  It would be inconsistent to have orighost there, and we
  don't want to mess up all server notices by putting both
  host and orighost.
  

  Changes:	Modified:
  +1 -1		trunk/src/s_user.c (File Modified) 


jilles      2006/01/28 15:27:10 UTC	(20060128-599)
  Log:
  Include the IP address in operlog/foperlog.
  

  Changes:	Modified:
  +10 -8	trunk/modules/m_challenge.c (File Modified) 
  +8 -6		trunk/modules/m_oper.c (File Modified) 


jilles      2006/01/28 15:17:01 UTC	(20060128-597)
  Log:
  Call umode_changed hook on oper up.
  

  Changes:	Modified:
  +1 -0		trunk/src/s_user.c (File Modified) 


jilles      2006/01/28 15:13:27 UTC	(20060128-595)
  Log:
  Add globalconnexit contrib module, shows remote client connects/exits
  except netsplits/netjoin on snomask +F.
  Notice formatting will probably change somewhat still.
  

  Changes:	Modified:
  +80 -0	trunk/contrib/Makefile.in (File Modified) 
  + -		trunk/contrib/globalconnexit.c (File Added) 


jilles      2006/01/28 14:54:44 UTC	(20060128-593)
  Log:
  Declare snomask_modes[] so modules can provide snomasks.
  

  Changes:	Modified:
  +2 -0		trunk/include/snomask.h (File Modified) 


jilles      2006/01/28 14:40:10 UTC	(20060128-591)
  Log:
  Replace user_signon hook with two new hooks: new_local_user
  and new_remote_user.
  These are called right before the user is introduced to the
  rest of the network.
  

  Changes:	Modified:
  +2 -1		trunk/include/hook.h (File Modified) 
  +2 -0		trunk/modules/core/m_nick.c (File Modified) 
  +4 -2		trunk/src/hook.c (File Modified) 
  +2 -3		trunk/src/s_user.c (File Modified) 


nenolod     2006/01/28 01:51:45 UTC	(20060128-589)
  Log:
  Change requirements from L_ADMIN to L_OPER for SCAN UMODES.
  

  Changes:	Modified:
  +2 -2		trunk/modules/m_scan.c (File Modified) 


jilles      2006/01/27 19:45:11 UTC	(20060127-587)
  Log:
  Update doc/technical/send.txt.
  

  Changes:	Modified:
  +91 -131	trunk/doc/technical/send.txt (File Modified) 


jilles      2006/01/27 14:44:19 UTC	(20060127-585)
  Log:
  Add chantrace and masktrace to help files.
  

  Changes:	Modified:
  + -		trunk/help/opers/chantrace (File Added) 
  +27 -20	trunk/help/opers/index (File Modified) 
  + -		trunk/help/opers/masktrace (File Added) 
  +2 -0		trunk/help/opers/operspy (File Modified) 


jilles      2006/01/27 14:41:47 UTC	(20060127-583)
  Log:
  Port over chantrace from ratbox 2.2 (anfl/androsyn)
  Shows etrace-like output for all users in a channel,
  in particular IP addresses.
  

  Changes:	Modified:
  +75 -2	trunk/modules/m_etrace.c (File Modified) 


jilles      2006/01/27 13:49:21 UTC	(20060127-581)
  Log:
  Port over ratbox 2.2 r21727 (anfl):
  add some logging when we drop servers in places where we only notify opers
  

  Changes:	Modified:
  +31 -0	trunk/modules/core/m_server.c (File Modified) 


nenolod     2006/01/27 01:00:48 UTC	(20060127-579)
  Log:
  display orighost in operup message
  

  Changes:	Modified:
  +1 -1		trunk/src/s_user.c (File Modified) 


jilles      2006/01/26 17:13:21 UTC	(20060126-577)
  Log:
  Add globallineactive contrib module, a hack which can often
  show k/d/g/x line active for remote clients.
  

  Changes:	Modified:
  +52 -0	trunk/contrib/Makefile.in (File Modified) 
  + -		trunk/contrib/globallineactive.c (File Added) 


jilles      2006/01/26 16:34:00 UTC	(20060126-575)
  Log:
  Show IP field in the same way as MASKTRACE:
  "255.255.255.255" if it's unknown (remote TS5 client)
  and "0" if we or the remote server are purposely
  hiding it.
  

  Changes:	Modified:
  +12 -1	trunk/modules/m_scan.c (File Modified) 


jilles      2006/01/26 16:25:22 UTC	(20060126-573)
  Log:
  scan umodes:
  - don't show servers in a global scan
  - don't show ip if it's spoofed and hide_spoof_ips is enabled
  

  Changes:	Modified:
  +4 -1		trunk/modules/m_scan.c (File Modified) 


nenolod     2006/01/26 16:06:57 UTC	(20060126-571)
  Log:
  Implement SCAN UMODES.
  

  Changes:	Modified:
  +3 -0		trunk/include/numeric.h (File Modified) 
  +128 -2	trunk/modules/m_scan.c (File Modified) 
  +2 -2		trunk/src/messages.tab (File Modified) 


nenolod     2006/01/26 15:06:43 UTC	(20060126-569)
  Log:
  more oops
  

  Changes:	Modified:
  +1 -1		trunk/modules/m_scan.c (File Modified) 


nenolod     2006/01/26 15:06:03 UTC	(20060126-567)
  Log:
  parv[0] should be parv[1].
  

  Changes:	Modified:
  +1 -1		trunk/modules/m_scan.c (File Modified) 


nenolod     2006/01/26 15:05:04 UTC	(20060126-565)
  Log:
  another oops
  

  Changes:	Modified:
  +1 -1		trunk/modules/m_scan.c (File Modified) 


nenolod     2006/01/26 15:00:41 UTC	(20060126-563)
  Log:
  fix mistake here
  

  Changes:	Modified:
  +2 -2		trunk/modules/m_scan.c (File Modified) 


nenolod     2006/01/26 14:58:36 UTC	(20060126-561)
  Log:
  framework for scan command
  

  Changes:	Modified:
  +113 -0	trunk/modules/Makefile.in (File Modified) 
  + -		trunk/modules/m_scan.c (File Added) 


nenolod     2006/01/26 14:12:14 UTC	(20060126-559)
  Log:
  Add TRACEMASK from ratbox 3.0 (r21780 -- androsyn).
  

  Changes:	Modified:
  +2 -0		trunk/include/irc_string.h (File Modified) 
  +157 -1	trunk/modules/m_etrace.c (File Modified) 
  +129 -90	trunk/src/match.c (File Modified) 


nenolod     2006/01/23 15:57:12 UTC	(20060123-557)
  Log:
  orighost may live in a different hash bucket (likely the case), lets check it standalone
  

  Changes:	Modified:
  +39 -3	trunk/src/hostmask.c (File Modified) 


nenolod     2006/01/23 15:11:11 UTC	(20060123-555)
  Log:
  SVN didn't check modules/ somehow, hrmm.
  

  Changes:	Modified:
  +1 -1		trunk/modules/m_kline.c (File Modified) 
  +6 -6		trunk/modules/m_stats.c (File Modified) 


nenolod     2006/01/23 15:01:41 UTC	(20060123-553)
  Log:
  Track hostmask entries for client_p->orighost, if available.
  Not throughly tested, but seems to work fine.
  

  Changes:	Modified:
  +8 -4		trunk/include/hostmask.h (File Modified) 
  +14 -10	trunk/src/hostmask.c (File Modified) 


jilles      2006/01/22 19:14:11 UTC	(20060122-549)
  Log:
  Pass on SQUIT reasons more.
  

  Changes:	Modified:
  +17 -19	trunk/src/client.c (File Modified) 


jilles      2006/01/21 17:25:27 UTC	(20060121-543)
  Log:
  Use IsOperAdmin() instead of IsAdmin() for admin-only server notices.
  This way, hidden admins also get them.
  

  Changes:	Modified:
  +4 -4		trunk/src/send.c (File Modified) 


jilles      2006/01/20 22:26:17 UTC	(20060120-541)
  Log:
  From ircd-ratbox 2.2 (r21339 anfl):
  ms_kill() should be using find_person(), not find_client()
  otherwise it can generate a core.
  

  Changes:	Modified:
  +1 -1		trunk/modules/core/m_kill.c (File Modified) 


jilles      2006/01/18 22:56:51 UTC	(20060118-539)
  Log:
  Add m_error to core_module_table, so it is loaded by default.
  

  Changes:	Modified:
  +1 -0		trunk/src/modules.c (File Modified) 


jilles      2006/01/18 00:28:30 UTC	(20060118-536)
  Log:
  comment is a const char *, not char *.
  

  Changes:	Modified:
  +1 -1		trunk/include/hook.h (File Modified) 


jilles      2006/01/18 00:10:02 UTC	(20060118-534)
  Log:
  Fix a long standing hybrid 7 bug: when getting a read error
  on a server, report_error() is called with a %d instead of
  a %s in the format string ("Lost connection" in +d).
  

  Changes:	Modified:
  +1 -1		trunk/src/client.c (File Modified) 


jilles      2006/01/16 17:21:11 UTC	(20060116-532)
  Log:
  Clarifications.
  

  Changes:	Modified:
  +12 -7	trunk/doc/technical/capab.txt (File Modified) 


nenolod     2006/01/16 04:46:11 UTC	(20060116-530)
  Log:
  Add document describing capabilities and what they mean.
  

  Changes:	Modified:
  + -		trunk/doc/technical/capab.txt (File Added) 


jilles      2006/01/16 01:19:24 UTC	(20060116-528)
  Log:
  Change client_exit hook to pass all exit_client() parameters.
  

  Changes:	Modified:
  +8 -0		trunk/include/hook.h (File Modified) 
  +6 -1		trunk/src/client.c (File Modified) 


jilles      2006/01/15 21:51:42 UTC	(20060115-526)
  Log:
  Add client_exit hook, called in exit_client() for all
  clients of all types, except clients exiting because
  of netsplits (QS). The only thing done before it is
  marking the client as "closing" (to prevent
  recursion).
  

  Changes:	Modified:
  +1 -0		trunk/include/hook.h (File Modified) 
  +2 -0		trunk/src/client.c (File Modified) 
  +2 -0		trunk/src/hook.c (File Modified) 


jilles      2006/01/15 21:06:36 UTC	(20060115-524)
  Log:
  Improve the code that calculates the nnnS nnnC counts
  in RPL_TRACESERVER.
  
  From ircd-ratbox RATBOX_2_2 r21650 and r21678 (anfl/jilles).
  

  Changes:	Modified:
  +43 -36	trunk/modules/m_trace.c (File Modified) 


jilles      2006/01/15 20:55:27 UTC	(20060115-522)
  Log:
  Add server_eob hook.
  Planning to use this for netsplit/join notices.
  

  Changes:	Modified:
  +1 -0		trunk/include/hook.h (File Modified) 
  +2 -0		trunk/modules/m_pong.c (File Modified) 
  +2 -0		trunk/src/hook.c (File Modified) 


jilles      2006/01/15 20:01:51 UTC	(20060115-520)
  Log:
  Default motd: ircd-ratbox -> charybdis
  

  Changes:	Modified:
  +1 -1		trunk/doc/ircd.motd (File Modified) 


jilles      2006/01/15 19:35:03 UTC	(20060115-518)
  Log:
  Shouldn't use the UMODE_ALL alias here; instead UMODE_SERVNOTICE.
  

  Changes:	Modified:
  +4 -4		trunk/src/s_user.c (File Modified) 


jilles      2006/01/15 19:12:28 UTC	(20060115-516)
  Log:
  - Remove obsolete EOB help file
  - Document snomask in the help files
  - Update indexes
  

  Changes:	Modified:
  + -		trunk/help/opers/eob (File Deleted) 
  +13 -12	trunk/help/opers/index (File Modified) 
  +1 -13	trunk/help/opers/umode (File Modified) 
  +7 -7		trunk/help/users/index (File Modified) 


nenolod     2006/01/15 17:50:43 UTC	(20060115-514)
  Log:
  Bail if snomask to parse is not given. Pointy hat to myself.
  

  Changes:	Modified:
  +3 -0		trunk/src/snomask.c (File Modified) 


gxti        2006/01/15 17:48:44 UTC	(20060115-512)
  Log:
  Remove m_flags from autoconf
  

  Changes:	Modified:
  +0 -1		trunk/contrib/Makefile.in (File Modified) 


nenolod     2006/01/15 17:44:55 UTC	(20060115-510)
  Log:
  remove m_flags
  

  Changes:	Modified:
  + -		trunk/contrib/m_flags.c (File Deleted) 


jilles      2006/01/15 17:22:19 UTC	(20060115-508)
  Log:
  If +s is in oper_only_umodes, clear snomask on deoper.
  

  Changes:	Modified:
  +5 -0		trunk/src/s_user.c (File Modified) 


gxti        2006/01/15 17:16:50 UTC	(20060115-506)
  Log:
  Fix incorrect default settings for nicklen and topiclen in ./configure help entries.
  

  Changes:	Modified:
  +2 -2		trunk/configure (File Modified) 
  +2 -2		trunk/configure.ac (File Modified) 


jilles      2006/01/15 17:15:56 UTC	(20060115-504)
  Log:
  Remove the old server notice umodes.
  Default oper only umodes is now +s.
  Please make sure all remaining umodes still work.
  

  Changes:	Modified:
  +3 -21	trunk/include/client.h (File Modified) 
  +0 -12	trunk/src/newconf.c (File Modified) 
  +1 -1		trunk/src/s_conf.c (File Modified) 
  +12 -12	trunk/src/s_user.c (File Modified) 


jilles      2006/01/15 17:00:27 UTC	(20060115-502)
  Log:
  operator::flags nick_changes now controls +n snomask instead of +n umode.
  

  Changes:	Modified:
  +8 -8		trunk/src/s_user.c (File Modified) 


jilles      2006/01/15 16:53:16 UTC	(20060115-500)
  Log:
  Move down h_umode_changed hook call after umode allowed checks
  (so it will not see +a if someone tries to set it but is not
  allowed to).
  

  Changes:	Modified:
  +2 -3		trunk/src/s_user.c (File Modified) 


jilles      2006/01/15 16:40:33 UTC	(20060115-498)
  Log:
  Move over non-+s server notices (hopefully, all of them).
  

  Changes:	Modified:
  +1 -1		trunk/contrib/spy_admin_notice.c (File Modified) 
  +1 -1		trunk/contrib/spy_info_notice.c (File Modified) 
  +1 -1		trunk/contrib/spy_links_notice.c (File Modified) 
  +1 -1		trunk/contrib/spy_motd_notice.c (File Modified) 
  +3 -3		trunk/contrib/spy_stats_notice.c (File Modified) 
  +1 -1		trunk/contrib/spy_stats_p_notice.c (File Modified) 
  +2 -2		trunk/contrib/spy_trace_notice.c (File Modified) 
  +1 -1		trunk/contrib/spy_whois_notice.c (File Modified) 
  +1 -1		trunk/contrib/spy_whois_notice_global.c (File Modified) 
  +2 -2		trunk/libcharybdis/event.c (File Modified) 
  +2 -2		trunk/modules/core/m_join.c (File Modified) 
  +1 -1		trunk/modules/core/m_kill.c (File Modified) 
  +3 -3		trunk/modules/core/m_message.c (File Modified) 
  +11 -11	trunk/modules/core/m_nick.c (File Modified) 
  +2 -2		trunk/modules/core/m_server.c (File Modified) 
  +1 -1		trunk/modules/core/m_sjoin.c (File Modified) 
  +1 -1		trunk/modules/m_post.c (File Modified) 
  +1 -1		trunk/modules/m_services.c (File Modified) 
  +2 -2		trunk/src/channel.c (File Modified) 
  +3 -3		trunk/src/client.c (File Modified) 
  +1 -1		trunk/src/hash.c (File Modified) 
  +5 -5		trunk/src/s_conf.c (File Modified) 
  +2 -2		trunk/src/s_log.c (File Modified) 
  +4 -4		trunk/src/s_user.c (File Modified) 


jilles      2006/01/15 16:18:59 UTC	(20060115-496)
  Log:
  Rename SNO_SPAMBOT to SNO_BOTS and add SNO_OPERSPY.
  

  Changes:	Modified:
  +2 -1		trunk/include/snomask.h (File Modified) 
  +2 -2		trunk/src/snomask.c (File Modified) 


jilles      2006/01/15 16:08:28 UTC	(20060115-494)
  Log:
  s/sendto_realops_flags(UMODE_ALL,/sendto_realops_snomask(SNO_GENERAL,/
  

  Changes:	Modified:
  +1 -1		trunk/contrib/example_module.c (File Modified) 
  +2 -2		trunk/include/ircd_defs.h (File Modified) 
  +6 -6		trunk/modules/core/m_error.c (File Modified) 
  +1 -1		trunk/modules/core/m_join.c (File Modified) 
  +2 -2		trunk/modules/core/m_kill.c (File Modified) 
  +1 -1		trunk/modules/core/m_message.c (File Modified) 
  +1 -1		trunk/modules/core/m_mode.c (File Modified) 
  +14 -14	trunk/modules/core/m_nick.c (File Modified) 
  +18 -18	trunk/modules/core/m_server.c (File Modified) 
  +1 -1		trunk/modules/core/m_sjoin.c (File Modified) 
  +1 -1		trunk/modules/core/m_squit.c (File Modified) 
  +4 -4		trunk/modules/m_challenge.c (File Modified) 
  +4 -4		trunk/modules/m_dline.c (File Modified) 
  +13 -13	trunk/modules/m_gline.c (File Modified) 
  +5 -5		trunk/modules/m_kline.c (File Modified) 
  +2 -2		trunk/modules/m_oper.c (File Modified) 
  +1 -1		trunk/modules/m_pong.c (File Modified) 
  +13 -13	trunk/modules/m_rehash.c (File Modified) 
  +4 -4		trunk/modules/m_resv.c (File Modified) 
  +16 -16	trunk/modules/m_set.c (File Modified) 
  +3 -3		trunk/modules/m_svinfo.c (File Modified) 
  +6 -6		trunk/modules/m_xline.c (File Modified) 
  +1 -1		trunk/src/adns.c (File Modified) 
  +2 -2		trunk/src/channel.c (File Modified) 
  +1 -1		trunk/src/listener.c (File Modified) 
  +1 -1		trunk/src/s_auth.c (File Modified) 
  +15 -15	trunk/src/s_conf.c (File Modified) 
  +3 -3		trunk/src/s_user.c (File Modified) 
  +7 -7		trunk/src/send.c (File Modified) 


jilles      2006/01/15 15:34:12 UTC	(20060115-492)
  Log:
  On oper up:
  - set +s snomask if +s umode set but no snomasks
  - put numerics in more logical order
  

  Changes:	Modified:
  +3 -1		trunk/src/s_user.c (File Modified) 


jilles      2006/01/15 15:12:39 UTC	(20060115-490)
  Log:
  parse_snobuf_to_mask(): default to + at start
  allows stuff like /mode jilles +s C
  

  Changes:	Modified:
  +1 -1		trunk/src/snomask.c (File Modified) 


jilles      2006/01/15 15:04:34 UTC	(20060115-488)
  Log:
  Changes to user_mode() snomask handling.
  - show snomask (if not 0) on /mode <nick>
  - show snomask once at the end if +s/-s used
  - only parse 1 parameter for umode changes
  - don't crash on /mode <nick> +s
  - /mode <nick> -s clears snomask, doesn't use parameter
  - set umode +s iff snomask is not 0
  - snomask is not propagated, but umode +s is
  

  Changes:	Modified:
  +97 -72	trunk/src/s_user.c (File Modified) 


nenolod     2006/01/15 10:36:32 UTC	(20060115-486)
  Log:
  Convert some messages over to snomask.
  

  Changes:	Modified:
  +29 -29	trunk/src/client.c (File Modified) 
  +2 -2		trunk/src/ircd.c (File Modified) 
  +13 -13	trunk/src/modules.c (File Modified) 
  +1 -1		trunk/src/newconf.c (File Modified) 
  +5 -5		trunk/src/parse.c (File Modified) 
  +1 -1		trunk/src/restart.c (File Modified) 
  +4 -4		trunk/src/s_newconf.c (File Modified) 
  +11 -11	trunk/src/s_serv.c (File Modified) 


nenolod     2006/01/15 10:28:42 UTC	(20060115-484)
  Log:
  include snomask.h from client.h
  

  Changes:	Modified:
  +1 -0		trunk/include/client.h (File Modified) 


nenolod     2006/01/15 10:28:18 UTC	(20060115-482)
  Log:
  make the snomask parser display snomasks properly, and make sure snomasks are applied to o:lines properly
  

  Changes:	Modified:
  +1 -0		trunk/src/newconf.c (File Modified) 
  +2 -1		trunk/src/snomask.c (File Modified) 


nenolod     2006/01/15 10:17:52 UTC	(20060115-480)
  Log:
  should start with +, not \0. Whoops. :)
  

  Changes:	Modified:
  +1 -1		trunk/src/snomask.c (File Modified) 


nenolod     2006/01/15 10:14:17 UTC	(20060115-478)
  Log:
  core snomask support.
  

  Changes:	Modified:
  +3 -0		trunk/doc/example.conf (File Modified) 
  +2 -0		trunk/include/client.h (File Modified) 
  +2 -0		trunk/include/numeric.h (File Modified) 
  +2 -0		trunk/include/s_newconf.h (File Modified) 
  +63 -0	trunk/include/send.h (File Modified) 
  + -		trunk/include/snomask.h (File Added) 
  +1 -0		trunk/src/Makefile.in (File Modified) 
  +1 -1		trunk/src/messages.tab (File Modified) 
  +8 -0		trunk/src/newconf.c (File Modified) 
  +12 -0	trunk/src/s_user.c (File Modified) 
  +235 -0	trunk/src/send.c (File Modified) 
  + -		trunk/src/snomask.c (File Added) 


nenolod     2006/01/15 05:32:44 UTC	(20060115-474)
  Log:
  add a blank line after the license info.
  

  Changes:	Modified:
  +1 -1		trunk/CREDITS (File Modified) 


jilles      2006/01/14 19:59:18 UTC	(20060114-472)
  Log:
  Extend copyright to 2006.
  

  Changes:	Modified:
  +1 -1		trunk/doc/sgml/oper-guide/charybdis-oper-guide.sgml (File Modified) 


jilles      2006/01/14 19:56:24 UTC	(20060114-470)
  Log:
  - Fix up book id.
  - Give some credit to dancer-ircd/hyperion, Andrew Suffield.
  

  Changes:	Modified:
  +1 -1		trunk/doc/sgml/oper-guide/charybdis-oper-guide.sgml (File Modified) 
  +5 -0		trunk/doc/sgml/oper-guide/intro.sgml (File Modified) 


jilles      2006/01/14 19:52:16 UTC	(20060114-468)
  Log:
  Add oper privileges document.
  

  Changes:	Modified:
  +162 -0	trunk/doc/sgml/oper-guide/charybdis-oper-guide.sgml (File Modified) 
  + -		trunk/doc/sgml/oper-guide/oprivs.sgml (File Added) 


jilles      2006/01/14 18:45:57 UTC	(20060114-466)
  Log:
  Capitalize message names in services shortcuts (for consistency).
  

  Changes:	Modified:
  +6 -6		trunk/modules/m_sshortcut.c (File Modified) 


jilles      2006/01/13 16:53:35 UTC	(20060113-464)
  Log:
  Remove C++ comment.
  

  Changes:	Modified:
  +1 -1		trunk/src/patricia.c (File Modified) 


jilles      2006/01/13 13:45:56 UTC	(20060113-462)
  Log:
  Remove obsolete 'nextconnect' variable.
  

  Changes:	Modified:
  +0 -1		trunk/include/ircd.h (File Modified) 
  +0 -2		trunk/src/client.c (File Modified) 
  +0 -1		trunk/src/ircd.c (File Modified) 


jilles      2006/01/13 13:02:54 UTC	(20060113-460)
  Log:
  Remove this remnant of the hybrid 6 ziplinks implementation.
  

  Changes:	Modified:
  + -		trunk/include/s_zip.h (File Deleted) 


jilles      2006/01/09 16:05:47 UTC	(20060109-458)
  Log:
  Make clone limiting work on orighost, not host (so it
  looks through services cloaks). Lightly tested, please
  test/review.
  

  Changes:	Modified:
  +2 -0		trunk/modules/m_chghost.c (File Modified) 
  +1 -1		trunk/src/client.c (File Modified) 
  +1 -1		trunk/src/s_conf.c (File Modified) 


jilles      2006/01/09 15:51:02 UTC	(20060109-456)
  Log:
  Don't forget to link me_realhost() into the command hash.
  
  Pointy hat to: myself
  

  Changes:	Modified:
  +1 -1		trunk/modules/m_chghost.c (File Modified) 


jilles      2006/01/09 14:46:59 UTC	(20060109-454)
  Log:
  It's call_hook, not hook_call.
  

  Changes:	Modified:
  +1 -1		trunk/src/s_user.c (File Modified) 


jilles      2006/01/09 14:45:36 UTC	(20060109-452)
  Log:
  Add unreject help file.
  

  Changes:	Modified:
  + -		trunk/help/opers/unreject (File Added) 


jilles      2006/01/09 14:41:41 UTC	(20060109-450)
  Log:
  Link the all-important 42 module to the build :P
  

  Changes:	Modified:
  +1 -0		trunk/contrib/Makefile.in (File Modified) 


jilles      2006/01/08 19:12:10 UTC	(20060108-448)
  Log:
  Mention /rehash help.
  

  Changes:	Modified:
  +1 -0		trunk/help/opers/rehash (File Modified) 


nenolod     2006/01/06 14:56:49 UTC	(20060106-446)
  Log:
  Add h_user_signon hook.
  

  Changes:	Modified:
  +1 -0		trunk/include/hook.h (File Modified) 
  +2 -0		trunk/src/hook.c (File Modified) 
  +4 -0		trunk/src/s_user.c (File Modified) 


jilles      2006/01/06 02:30:23 UTC	(20060106-444)
  Log:
  Oops, forgot to set orighost for remote client introductions.
  

  Changes:	Modified:
  +1 -0		trunk/modules/core/m_nick.c (File Modified) 


jilles      2006/01/06 01:40:44 UTC	(20060106-442)
  Log:
  Use TS6 forms in services shortcuts, if possible.
  

  Changes:	Modified:
  +3 -3		trunk/modules/m_sshortcut.c (File Modified) 


jilles      2006/01/06 01:31:19 UTC	(20060106-440)
  Log:
  - Start out default_umodes conf entry from the empty set instead of +i.
  - Move oper_only_umodes check to where default_umodes is used, as
    oper_only_umodes may not be set yet while we're reading the conf.
  

  Changes:	Modified:
  +6 -7		trunk/src/newconf.c (File Modified) 
  +1 -1		trunk/src/s_user.c (File Modified) 


jilles      2006/01/06 01:00:44 UTC	(20060106-438)
  Log:
  Move #define HIDE_SPOOF_IPS to general::hide_spoof_ips conf option.
  

  Changes:	Modified:
  +1 -0		trunk/doc/example.conf (File Modified) 
  +7 -0		trunk/doc/reference.conf (File Modified) 
  +0 -7		trunk/include/config.h.dist (File Modified) 
  +1 -0		trunk/include/s_conf.h (File Modified) 
  +6 -0		trunk/modules/m_info.c (File Modified) 
  +9 -18	trunk/src/client.c (File Modified) 
  +1 -0		trunk/src/newconf.c (File Modified) 
  +1 -0		trunk/src/s_conf.c (File Modified) 


jilles      2006/01/06 00:14:18 UTC	(20060106-436)
  Log:
  - Allow NULL target_ip in show_ip() (indicates message is being
    sent to local opers)
  - Add show_ip_conf(), like show_ip() but for a CONF_CLIENT
    confitem
  - Using these, remove all uses of #define HIDE_SPOOF_IPS except
    those in src/client.c
  
  From ratbox 2.2 svn (anfl)
  

  Changes:	Modified:
  +1 -0		trunk/include/client.h (File Modified) 
  +21 -2	trunk/src/client.c (File Modified) 
  +2 -4		trunk/src/hostmask.c (File Modified) 
  +1 -5		trunk/src/s_conf.c (File Modified) 
  +4 -8		trunk/src/s_user.c (File Modified) 


nenolod     2006/01/06 00:01:30 UTC	(20060106-434)
  Log:
  Fire off events properly.
  

  Changes:	Modified:
  +7 -3		trunk/src/s_user.c (File Modified) 


nenolod     2006/01/05 23:42:13 UTC	(20060105-432)
  Log:
  make sure modules which depend on umode information get the message upon connection (oops)
  

  Changes:	Modified:
  +3 -0		trunk/src/s_user.c (File Modified) 


jilles      2006/01/05 23:33:33 UTC	(20060105-430)
  Log:
  Replace usage of HIDE_SPOOF_IPS with show_ip() in etrace.
  From ratbox 2.2 svn.
  

  Changes:	Modified:
  +3 -7		trunk/modules/m_etrace.c (File Modified) 


nenolod     2006/01/05 23:27:27 UTC	(20060105-428)
  Log:
  Replace silly `default_invisible' option with more versatile default_umodes.
  

  Changes:	Modified:
  +2 -2		trunk/Makefile.in (File Modified) 
  +12 -1	trunk/doc/example.conf (File Modified) 
  +14 -7	trunk/doc/reference.conf (File Modified) 
  +2 -4		trunk/include/s_conf.h (File Modified) 
  +0 -6		trunk/modules/m_info.c (File Modified) 
  +4 -0		trunk/src/modules.c (File Modified) 
  +41 -1	trunk/src/newconf.c (File Modified) 
  +2 -2		trunk/src/s_conf.c (File Modified) 
  +3 -4		trunk/src/s_user.c (File Modified) 


jilles      2006/01/02 14:30:45 UTC	(20060102-426)
  Log:
  Add temporary nick resvs with the proper duration,
  not 60 times too long.
  

  Changes:	Modified:
  +1 -1		trunk/modules/m_resv.c (File Modified) 


jilles      2006/01/02 14:21:31 UTC	(20060102-424)
  Log:
  Add kick on split riding. See reference.conf for more details.
  

  Changes:	Modified:
  +1 -0		trunk/doc/example.conf (File Modified) 
  +16 -0	trunk/doc/reference.conf (File Modified) 
  +1 -0		trunk/include/s_conf.h (File Modified) 
  +56 -0	trunk/modules/core/m_sjoin.c (File Modified) 
  +6 -0		trunk/modules/m_info.c (File Modified) 
  +1 -0		trunk/src/newconf.c (File Modified) 
  +1 -0		trunk/src/s_conf.c (File Modified) 


nenolod     2005/12/27 06:07:24 UTC	(20051227-422)
  Log:
  New credits, denoting GXTi as being on the core team.
  

  Changes:	Modified:
  +16 -5	trunk/CREDITS (File Modified) 


nenolod     2005/12/24 05:50:12 UTC	(20051224-420)
  Log:
  better cloaking algorithm
  

  Changes:	Modified:
  +14 -7	trunk/contrib/ip_cloaking.c (File Modified) 


nenolod     2005/12/23 21:43:09 UTC	(20051223-418)
  Log:
  don't do redundant bitshifting.
  

  Changes:	Modified:
  +2 -2		trunk/contrib/ip_cloaking.c (File Modified) 


jilles      2005/12/23 21:15:41 UTC	(20051223-416)
  Log:
  Add ip_cloaking.so.
  

  Changes:	Modified:
  +1 -0		trunk/contrib/Makefile.in (File Modified) 


jilles      2005/12/23 21:15:25 UTC	(20051223-414)
  Log:
  Set the DynSpoof flag properly.
  

  Changes:	Modified:
  +4 -0		trunk/contrib/ip_cloaking.c (File Modified) 


nenolod     2005/12/23 08:11:04 UTC	(20051223-412)
  Log:
  first go at an ip_cloaking implementation for charybdis.
  

  Changes:	Modified:
  + -		trunk/contrib/ip_cloaking.c (File Added) 


nenolod     2005/12/23 07:25:47 UTC	(20051223-410)
  Log:
  Add libcharybdis to contrib/ includes.
  

  Changes:	Modified:
  +1 -1		trunk/contrib/Makefile.in (File Modified) 


nenolod     2005/12/23 02:40:07 UTC	(20051223-408)
  Log:
  add h_umode_changed hook for modules that provide usermodes.
  

  Changes:	Modified:
  +1 -0		trunk/include/hook.h (File Modified) 
  +2 -1		trunk/src/hook.c (File Modified) 
  +3 -0		trunk/src/s_user.c (File Modified) 


jilles      2005/12/19 16:52:45 UTC	(20051219-406)
  Log:
  Show quiets in /stats z.
  

  Changes:	Modified:
  +15 -10	trunk/src/s_stats.c (File Modified) 


nenolod     2005/12/19 15:33:16 UTC	(20051219-404)
  Log:
  remove old ratbox-services stuff from configure. pointed out with a pointy stick via 
  

  Changes:	Modified:
  +0 -12	trunk/configure (File Modified) 
  +0 -9		trunk/configure.ac (File Modified) 
  +0 -3		trunk/include/setup.h.in (File Modified) 


nenolod     2005/12/19 15:30:32 UTC	(20051219-402)
  Log:
  change various buffer sizes to = topiclen.
  

  Changes:	Modified:
  +3 -4		trunk/include/ircd_defs.h (File Modified) 


jon         2005/12/12 19:32:18 UTC	(20051212-400)
  Log:
  - Partial commit test, partial ego strokage ;)
  

  Changes:	Modified:
  +2 -1		trunk/CREDITS (File Modified) 


nenolod     2005/12/12 18:12:46 UTC	(20051212-398)
  Log:
  More kqueue corrections.

  Changes:	Modified:
  +8 -2		trunk/libcharybdis/kqueue.c (File Modified) 


nenolod     2005/12/12 06:27:59 UTC	(20051212-396)
  Log:
  We want to use EV_ENABLE to enable tracking, as per the kqueue manpage.
  Not sure why this wasn't this way to begin with.
  

  Changes:	Modified:
  +3 -3		trunk/libcharybdis/kqueue.c (File Modified) 


jilles      2005/12/11 16:39:52 UTC	(20051211-394)
  Log:
  example.conf tweaks:
  Comment out serverinfo::vhost, serverinfo::vhost6 and listen::host,
  most people do not need this.
  Enable serverinfo::hub.
  

  Changes:	Modified:
  +14 -11	trunk/doc/example.conf (File Modified) 


nenolod     2005/12/10 04:37:54 UTC	(20051210-392)
  Log:
  Match properly, was backwards before, making connect "*.mask" { } blocks not work properly.
  

  Changes:	Modified:
  +1 -1		trunk/src/s_serv.c (File Modified) 


nenolod     2005/12/07 18:46:56 UTC	(20051207-390)
  Log:
  header include changes
  

  Changes:	Modified:
  +1 -20	trunk/libcharybdis/devpoll.c (File Modified) 
  +1 -21	trunk/libcharybdis/epoll.c (File Modified) 
  +1 -19	trunk/libcharybdis/kqueue.c (File Modified) 
  +1 -18	trunk/libcharybdis/poll.c (File Modified) 
  +2 -3		trunk/libcharybdis/ports.c (File Modified) 
  +1 -21	trunk/libcharybdis/select.c (File Modified) 


nenolod     2005/12/07 16:34:40 UTC	(20051207-388)
  Log:
  s/ilog/libcharybdis_{die,log,restart}/g
  

  Changes:	Modified:
  +7 -9		trunk/libcharybdis/balloc.c (File Modified) 
  +4 -29	trunk/libcharybdis/commio.c (File Modified) 
  +5 -8		trunk/libcharybdis/devpoll.c (File Modified) 
  +4 -4		trunk/libcharybdis/epoll.c (File Modified) 
  +2 -2		trunk/libcharybdis/kqueue.c (File Modified) 
  +3 -0		trunk/libcharybdis/libcharybdis.h (File Modified) 
  +3 -14	trunk/libcharybdis/memory.c (File Modified) 
  +3 -3		trunk/libcharybdis/ports.c (File Modified) 


nenolod     2005/12/07 16:21:24 UTC	(20051207-386)
  Log:
  Use the right callbacks in the function code.

  Changes:	Modified:
  +2 -2		trunk/libcharybdis/libcharybdis.c (File Modified) 


nenolod     2005/12/07 16:18:43 UTC	(20051207-384)
  Log:
  More work, it builds again!
  

  Changes:	Modified:
  +1 -0		trunk/libcharybdis/Makefile.in (File Modified) 
  +138 -4	trunk/libcharybdis/commio.c (File Modified) 
  + -		trunk/libcharybdis/libcharybdis.c (File Added) 
  + -		trunk/libcharybdis/libcharybdis.h (File Added) 


nenolod     2005/12/07 15:15:59 UTC	(20051207-382)
  Log:
  Move some stuff around.
  

  Changes:	Modified:
  + -		trunk/include/memory.h (File Deleted) 
  + -		trunk/include/tools.h (File Deleted) 
  +8 -1		trunk/libcharybdis/Makefile.in (File Modified) 
  + -		trunk/libcharybdis/memory.c (File Added) 
  + -		trunk/libcharybdis/memory.h (File Added) 
  + -		trunk/libcharybdis/snprintf.c (File Added) 
  + -		trunk/libcharybdis/tools.c (File Added) 
  + -		trunk/libcharybdis/tools.h (File Added) 
  +1000 -1062	trunk/modules/.depend (File Modified) 
  +421 -455	trunk/src/.depend (File Modified) 
  +0 -1191	trunk/src/Makefile.in (File Modified) 
  + -		trunk/src/memory.c (File Deleted) 
  + -		trunk/src/snprintf.c (File Deleted) 
  + -		trunk/src/tools.c (File Deleted) 


nenolod     2005/12/07 15:08:37 UTC	(20051207-380)
  Log:
  move more headers into libcharybdis

  Changes:	Modified:
  + -		trunk/include/balloc.h (File Deleted) 
  + -		trunk/include/event.h (File Deleted) 
  + -		trunk/libcharybdis/balloc.h (File Added) 
  + -		trunk/libcharybdis/event.h (File Added) 
  +924 -1020	trunk/modules/.depend (File Modified) 
  +327 -406	trunk/src/.depend (File Modified) 


nenolod     2005/12/07 15:06:15 UTC	(20051207-378)
  Log:
  balloc, events -> libcharybdis

  Changes:	Modified:
  +1 -1		trunk/libcharybdis/Makefile.in (File Modified) 
  + -		trunk/libcharybdis/balloc.c (File Added) 
  + -		trunk/libcharybdis/event.c (File Added) 
  +0 -1008	trunk/src/Makefile.in (File Modified) 
  + -		trunk/src/balloc.c (File Deleted) 
  + -		trunk/src/event.c (File Deleted) 


nenolod     2005/12/07 15:00:41 UTC	(20051207-376)
  Log:
  More fun

  Changes:	Modified:
  + -		trunk/include/commio.h (File Deleted) 
  + -		trunk/include/linebuf.h (File Deleted) 
  + -		trunk/libcharybdis/commio.h (File Added) 
  + -		trunk/libcharybdis/linebuf.h (File Added) 
  +1644 -530	trunk/modules/.depend (File Modified) 
  +1 -1		trunk/modules/Makefile.in (File Modified) 
  +720 -284	trunk/src/.depend (File Modified) 


nenolod     2005/12/07 14:54:12 UTC	(20051207-374)
  Log:
  Makefile reworking -- moving libcharybdis headers into proper location.

  Changes:	Modified:
  +1 -1		trunk/adns/Makefile.in (File Modified) 
  +1 -1		trunk/src/Makefile.in (File Modified) 


nenolod     2005/12/07 14:47:30 UTC	(20051207-372)
  Log:
  Document proposed authdaemon protocol.

  Changes:	Modified:
  + -		trunk/authdaemon/protocol.txt (File Added) 


nenolod     2005/12/07 14:42:23 UTC	(20051207-370)
  Log:
  Makefile oops

  Changes:	Modified:
  +2 -2		trunk/libcharybdis/Makefile.in (File Modified) 


nenolod     2005/12/07 14:38:33 UTC	(20051207-368)
  Log:
  Remove dead makefile from generation

  Changes:	Modified:
  +1 -2		trunk/configure (File Modified) 
  +0 -1		trunk/configure.ac (File Modified) 


nenolod     2005/12/07 14:36:56 UTC	(20051207-366)
  Log:
  libcharybdisIO -> libcharybdis

  Changes:	Modified:
  +1 -1		trunk/src/Makefile.in (File Modified) 


nenolod     2005/12/07 14:35:50 UTC	(20051207-364)
  Log:
  More restructuring.

  Changes:	Modified:
  + -		trunk/libcharybdis/Makefile.in (File Added) 
  + -		trunk/libcharybdis/commio.c (File Added) 
  + -		trunk/libcharybdis/devpoll.c (File Added) 
  + -		trunk/libcharybdis/epoll.c (File Added) 
  + -		trunk/libcharybdis/io/ (File Deleted) 
  + -		trunk/libcharybdis/kqueue.c (File Added) 
  + -		trunk/libcharybdis/linebuf.c (File Added) 
  + -		trunk/libcharybdis/log/ (File Deleted) 
  + -		trunk/libcharybdis/poll.c (File Added) 
  + -		trunk/libcharybdis/ports.c (File Added) 
  + -		trunk/libcharybdis/select.c (File Added) 


nenolod     2005/12/07 14:33:31 UTC	(20051207-362)
  Log:
  Blah kill makefile

  Changes:	Modified:
  + -		trunk/libcharybdis/Makefile.in (File Deleted) 


nenolod     2005/12/07 14:33:10 UTC	(20051207-360)
  Log:
  Blah kill makefile

  Changes:	Modified:
  +2 -4		trunk/libcharybdis/io/Makefile.in (File Modified) 


nenolod     2005/12/06 19:52:25 UTC	(20051206-358)
  Log:
  add authdaemon dir for later hacking
  

  Changes:	Modified:
  + -		trunk/authdaemon/ (File Added) 


nenolod     2005/12/06 19:49:25 UTC	(20051206-356)
  Log:
  linebuf -> libcharybdisIO
  

  Changes:	Modified:
  +1 -1		trunk/libcharybdis/io/Makefile.in (File Modified) 
  + -		trunk/libcharybdis/io/linebuf.c (File Added) 
  + -		trunk/libcharybdis/log/ (File Added) 
  + -		trunk/libcharybdis/log/Makefile.in (File Added) 
  +0 -687	trunk/src/Makefile.in (File Modified) 
  + -		trunk/src/linebuf.c (File Deleted) 


nenolod     2005/12/06 19:47:43 UTC	(20051206-354)
  Log:
  Solaris 10 I/O ports support

  Changes:	Modified:
  + -		trunk/libcharybdis/io/ports.c (File Added) 


nenolod     2005/12/06 19:15:13 UTC	(20051206-352)
  Log:
  libcharybdis stuff
  

  Changes:	Modified:
  +1 -1		trunk/Makefile.in (File Modified) 
  +3 -1		trunk/configure (File Modified) 
  +133 -10	trunk/configure.ac (File Modified) 
  + -		trunk/libcharybdis/ (File Added) 
  + -		trunk/libcharybdis/Makefile.in (File Added) 
  + -		trunk/libcharybdis/io/ (File Added) 
  +4 -2		trunk/libcharybdis/io/Makefile.in (File Modified) 
  +2 -3		trunk/src/Makefile.in (File Modified) 
  + -		trunk/src/io/ (File Deleted) 


nenolod     2005/12/06 18:57:28 UTC	(20051206-350)
  Log:
  split IO stuff into libcharybdisIO.
  

  Changes:	Modified:
  + -		trunk/src/commio.c (File Deleted) 
  + -		trunk/src/devpoll.c (File Deleted) 
  + -		trunk/src/epoll.c (File Deleted) 
  + -		trunk/src/io/ (File Added) 
  + -		trunk/src/io/Makefile.in (File Added) 
  + -		trunk/src/io/commio.c (File Added) 
  + -		trunk/src/io/devpoll.c (File Added) 
  + -		trunk/src/io/epoll.c (File Added) 
  + -		trunk/src/io/kqueue.c (File Added) 
  + -		trunk/src/io/poll.c (File Added) 
  + -		trunk/src/io/select.c (File Added) 
  + -		trunk/src/kqueue.c (File Deleted) 
  + -		trunk/src/poll.c (File Deleted) 
  + -		trunk/src/select.c (File Deleted) 


nenolod     2005/12/06 18:51:20 UTC	(20051206-348)
  Log:
  Version bump: 1.1.0
  

  Changes:	Modified:
  +86 -155	trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


jilles      2005/12/04 01:56:31 UTC	(20051204-346)
  Log:
  Remove mentions of mkkeypair/cryptlinks.
  

  Changes:	Modified:
  +1 -3		trunk/doc/challenge.txt (File Modified) 


jilles      2005/12/02 17:57:29 UTC	(20051202-344)
  Log:
  Clarify serverinfo{} description.
  

  Changes:	Modified:
  +13 -5	trunk/doc/sgml/oper-guide/config.sgml (File Modified) 


jilles      2005/12/02 17:41:44 UTC	(20051202-342)
  Log:
  Some hyperion1->charybdis changes, and fixes in charybdis descriptions.
  

  Changes:	Modified:
  +14 -41	trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 


jilles      2005/12/02 17:38:53 UTC	(20051202-340)
  Log:
  Improvements also applicable to hyperion 1.x.
  

  Changes:	Modified:
  +4 -5		trunk/doc/sgml/oper-guide/commands.sgml (File Modified) 


jilles      2005/12/02 17:08:45 UTC	(20051202-338)
  Log:
  - Add +F description
  - General improvements and changes to charybdis
  

  Changes:	Modified:
  +27 -14	trunk/doc/sgml/oper-guide/cmodes.sgml (File Modified) 


jilles      2005/12/02 16:43:45 UTC	(20051202-336)
  Log:
  The server notice umodes only have an effect
  for opers. ("sendto_realops_flags", so having
  the umode is not enough, they must also be
  opered)
  

  Changes:	Modified:
  +13 -14	trunk/doc/sgml/oper-guide/umodes.sgml (File Modified) 


jilles      2005/12/02 16:39:40 UTC	(20051202-334)
  Log:
  Updates to umodes docs.
  

  Changes:	Modified:
  +25 -27	trunk/doc/sgml/oper-guide/umodes.sgml (File Modified) 


nenolod     2005/11/25 19:37:36 UTC	(20051125-332)
  Log:
  Add SGML documentation.

  Changes:	Modified:
  + -		trunk/doc/sgml/ (File Added) 
  + -		trunk/doc/sgml/oper-guide/ (File Added) 
  + -		trunk/doc/sgml/oper-guide/charybdis-oper-guide.sgml (File Added) 
  + -		trunk/doc/sgml/oper-guide/cmodes.sgml (File Added) 
  + -		trunk/doc/sgml/oper-guide/commands.sgml (File Added) 
  + -		trunk/doc/sgml/oper-guide/config.sgml (File Added) 
  + -		trunk/doc/sgml/oper-guide/intro.sgml (File Added) 
  + -		trunk/doc/sgml/oper-guide/stylesheet.dsl (File Added) 
  + -		trunk/doc/sgml/oper-guide/umodes.sgml (File Added) 


jilles      2005/11/21 11:04:33 UTC	(20051121-330)
  Log:
  Make operwall flag restrict setting umode +z.
  This repairs this flag broken in charybdis-1.0.
  

  Changes:	Modified:
  +41 -0	trunk/contrib/m_flags.c (File Modified) 
  +9 -0		trunk/src/s_user.c (File Modified) 


jilles      2005/11/21 10:29:37 UTC	(20051121-328)
  Log:
  Don't complain/reset remote clients +n. I'm still not
  convinced propagating all umodes is the way to go, oh
  well.
  

  Changes:	Modified:
  +1 -1		trunk/src/s_user.c (File Modified) 


jilles      2005/11/21 10:21:42 UTC	(20051121-326)
  Log:
  - Require admin flag for oper /chghost (if it's enabled
    which is not default)
  - Give error message on nonexistant nick
  

  Changes:	Modified:
  +12 -0	trunk/modules/m_chghost.c (File Modified) 


nenolod     2005/11/20 21:10:14 UTC	(20051120-324)
  Log:
  Incorporated jilles' dynspoof patch with a few minor changes.

  Changes:	Modified:
  +5 -2		trunk/include/client.h (File Modified) 
  +1 -0		trunk/include/numeric.h (File Modified) 
  +75 -4	trunk/modules/m_chghost.c (File Modified) 
  +2 -21	trunk/modules/m_stats.c (File Modified) 
  +2 -8		trunk/modules/m_trace.c (File Modified) 
  +2 -0		trunk/src/client.c (File Modified) 
  +3 -0		trunk/src/s_user.c (File Modified) 


nenolod     2005/11/20 21:02:01 UTC	(20051120-322)
  Log:
  Update NEWS.

  Changes:	Modified:
  +5 -0		trunk/NEWS (File Modified) 


jilles      2005/11/17 22:38:52 UTC	(20051117-320)
  Log:
  Make show_ip() far less braindead.
  
  Obtained from: ratbox 2.2 SVN
  

  Changes:	Modified:
  +14 -85	trunk/src/client.c (File Modified) 


jilles      2005/11/15 16:33:26 UTC	(20051115-318)
  Log:
  Instead of not showing channels at all for whoising services,
  only show channels the requester is also on. If operspying
  services, show all the channels.
  

  Changes:	Modified:
  +37 -40	trunk/modules/m_whois.c (File Modified) 


jilles      2005/11/15 15:59:00 UTC	(20051115-316)
  Log:
  - Show real errno if we fail to connect to a server
  - Don't show server IPs on IRC if a server goes dead
    during handshake
  

  Changes:	Modified:
  +2 -5		trunk/src/s_serv.c (File Modified) 


jilles      2005/11/15 15:28:18 UTC	(20051115-314)
  Log:
  Revert hybrid 7.2 aline code. It causes too many problems.
  

  Changes:	Modified:
  +1 -47	trunk/NEWS (File Modified) 
  + -		trunk/include/aline.h (File Deleted) 
  +53 -6	trunk/modules/m_dline.c (File Modified) 
  +212 -16	trunk/modules/m_kline.c (File Modified) 
  +37 -8	trunk/modules/m_resv.c (File Modified) 
  +45 -24	trunk/modules/m_xline.c (File Modified) 
  +0 -485	trunk/src/Makefile.in (File Modified) 
  + -		trunk/src/aline.c (File Deleted) 


jilles      2005/11/07 10:47:33 UTC	(20051107-312)
  Log:
  Incorporate recent ratbox monitor bugfixes (could crash).
  

  Changes:	Modified:
  +16 -0	trunk/modules/m_monitor.c (File Modified) 
  +4 -3		trunk/src/monitor.c (File Modified) 


jilles      2005/10/24 23:10:06 UTC	(20051024-310)
  Log:
  Fix /invite UID leak.
  
  Found by logiclrd@EFnet.
  

  Changes:	Modified:
  +3 -2		trunk/modules/m_invite.c (File Modified) 


nenolod     2005/10/23 05:28:02 UTC	(20051023-308)
  Log:
  Don't show what channels a service is in.

  Changes:	Modified:
  +1 -0		trunk/NEWS (File Modified) 
  +40 -35	trunk/modules/m_whois.c (File Modified) 


nenolod     2005/10/23 05:21:13 UTC	(20051023-306)
  Log:
  Update version to 1.0.3.
  

  Changes:	Modified:
  +9 -9		trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


jilles      2005/10/22 17:12:51 UTC	(20051022-304)
  Log:
  Update NEWS.
  

  Changes:	Modified:
  +7 -1		trunk/NEWS (File Modified) 


jilles      2005/10/22 17:11:32 UTC	(20051022-302)
  Log:
  Make sure we don't return alloca() (LOCAL_COPY) ed space.
  More static buffers :(
  

  Changes:	Modified:
  +12 -4	trunk/src/aline.c (File Modified) 


jilles      2005/10/18 21:52:35 UTC	(20051018-300)
  Log:
  Make operspy mode (/mode !#channel showing parameters
  even if not on channel) work again.
  

  Changes:	Modified:
  +4 -4		trunk/src/channel.c (File Modified) 


jilles      2005/10/16 22:04:15 UTC	(20051016-298)
  Log:
  Call server_introduced hook on TS6 remote server
  introduction (ms_sid()).
  

  Changes:	Modified:
  +6 -0		trunk/modules/core/m_server.c (File Modified) 


nenolod     2005/10/16 08:29:57 UTC	(20051016-296)
  Log:
  Cyrix boxes are wierd.

  Changes:	Modified:
  +2 -1		trunk/modules/m_services.c (File Modified) 


nenolod     2005/10/16 08:23:39 UTC	(20051016-294)
  Log:
  More paranoia.

  Changes:	Modified:
  +1 -1		trunk/include/client.h (File Modified) 
  +3 -1		trunk/modules/m_services.c (File Modified) 


nenolod     2005/10/16 08:07:40 UTC	(20051016-292)
  Log:
  heh

  Changes:	Modified:
  +1 -6		trunk/modules/m_services.c (File Modified) 


nenolod     2005/10/16 08:00:24 UTC	(20051016-290)
  Log:
  Disable a check that doesn't always seem to work right for some reason.

  Changes:	Modified:
  +2 -0		trunk/modules/m_services.c (File Modified) 


nenolod     2005/10/15 04:58:18 UTC	(20051015-288)
  Log:
  Update NEWS.
  

  Changes:	Modified:
  +4 -1		trunk/NEWS (File Modified) 


nenolod     2005/10/15 04:53:12 UTC	(20051015-286)
  Log:
  1.0.2
  

  Changes:	Modified:
  +9 -9		trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


jilles      2005/10/08 22:30:18 UTC	(20051008-284)
  Log:
  Apply http://www.ircd-ratbox.org/download/ratbox-trace.diff.
  

  Changes:	Modified:
  +3 -13	trunk/modules/m_trace.c (File Modified) 


jilles      2005/10/06 11:00:22 UTC	(20051006-282)
  Log:
  Don't send empty RPL_WHOISCHANNELS on remote whois.
  
  Pointy hat to: jilles
  

  Changes:	Modified:
  +1 -1		trunk/modules/m_whois.c (File Modified) 


nenolod     2005/10/02 21:30:55 UTC	(20051002-280)
  Log:
  Update NEWS.
  

  Changes:	Modified:
  +3 -0		trunk/NEWS (File Modified) 


nenolod     2005/10/02 21:28:23 UTC	(20051002-278)
  Log:
  Modular umode support.
  

  Changes:	Modified:
  +0 -9		trunk/include/client.h (File Modified) 
  +2 -1		trunk/include/s_user.h (File Modified) 
  +1 -1		trunk/include/tools.h (File Modified) 
  +2 -2		trunk/modules/core/m_nick.c (File Modified) 
  +3 -0		trunk/src/ircd.c (File Modified) 
  +1 -1		trunk/src/messages.tab (File Modified) 
  +2 -2		trunk/src/s_serv.c (File Modified) 
  +37 -59	trunk/src/s_user.c (File Modified) 
  +21 -0	trunk/src/tools.c (File Modified) 


jilles      2005/10/02 20:23:15 UTC	(20051002-276)
  Log:
  Optionally do forced nick change to the UID instead of kill
  on nick collisions, see doc/collision_fnc.txt for more
  details.
  

  Changes:	Modified:
  + -		trunk/doc/collision_fnc.txt (File Added) 
  +1 -0		trunk/doc/example.conf (File Modified) 
  +8 -0		trunk/doc/reference.conf (File Modified) 
  +1 -0		trunk/include/numeric.h (File Modified) 
  +1 -0		trunk/include/s_conf.h (File Modified) 
  +2 -1		trunk/include/s_serv.h (File Modified) 
  +1 -0		trunk/include/s_stats.h (File Modified) 
  +275 -95	trunk/modules/core/m_nick.c (File Modified) 
  +1 -1		trunk/src/messages.tab (File Modified) 
  +1 -0		trunk/src/newconf.c (File Modified) 
  +1 -0		trunk/src/s_conf.c (File Modified) 
  +1 -0		trunk/src/s_serv.c (File Modified) 
  +2 -2		trunk/src/s_stats.c (File Modified) 


nenolod     2005/10/02 19:50:18 UTC	(20051002-274)
  Log:
  Update NEWS.
  

  Modified:
	trunk/NEWS (File Modified) 


jilles      2005/09/28 15:45:31 UTC	(20050928-272)
  Log:
  Don't allow lookups by uid in /monitor + and /monitor s.
  

  Modified:
	trunk/modules/m_monitor.c (File Modified) 


jilles      2005/09/28 13:05:01 UTC	(20050928-270)
  Log:
  Stop garbage +j being set in cases like +j aaa:bbb by
  initializing the variables properly.
  
  Reported by kyle.
  

  Modified:
	trunk/modules/core/m_mode.c (File Modified) 
	trunk/modules/core/m_sjoin.c (File Modified) 


jilles      2005/09/25 15:51:54 UTC	(20050925-268)
  Log:
  Apply flags to the proper server in me_gcap().
  

  Modified:
	trunk/modules/m_capab.c (File Modified) 


jilles      2005/09/22 23:13:46 UTC	(20050922-266)
  Log:
  Use find_named_client() instead of find_client() to check
  for nick collisions.
  

  Modified:
	trunk/modules/core/m_nick.c (File Modified) 


nenolod     2005/09/22 05:55:25 UTC	(20050922-264)
  Log:
  - Replace old 381 numeric with a new, more positive one!
  

  Modified:
	trunk/src/messages.tab (File Modified) 


jilles      2005/09/22 00:38:45 UTC	(20050922-262)
  Log:
  Make it compile again.
  

  Modified:
	trunk/src/channel.c (File Modified) 
	trunk/src/client.c (File Modified) 
	trunk/src/ircd.c (File Modified) 
	trunk/src/packet.c (File Modified) 


nenolod     2005/09/22 00:02:59 UTC	(20050922-260)
  Log:
  - Prevent UID disclosure in cmode setting.
  

  Modified:
	trunk/NEWS (File Modified) 
	trunk/modules/core/m_mode.c (File Modified) 


nenolod     2005/09/21 23:57:17 UTC	(20050921-258)
  Log:
  A different check which prevents UID disclosure.
  

  Modified:
	trunk/modules/core/m_kick.c (File Modified) 


nenolod     2005/09/21 23:46:04 UTC	(20050921-256)
  Log:
  - Eliminate a potential UID leak in m_kick. (As seen on EFnet.)
  

  Modified:
	trunk/modules/core/m_kick.c (File Modified) 


nenolod     2005/09/21 23:35:12 UTC	(20050921-254)
  Log:
  - Revert atheme coding style changes. We don't really need berkeley prototypes, that's overkill.
  

  Modified:
	trunk/NEWS (File Modified) 
	trunk/modules/m_accept.c (File Modified) 
	trunk/modules/m_admin.c (File Modified) 
	trunk/modules/m_away.c (File Modified) 
	trunk/modules/m_cap.c (File Modified) 
	trunk/modules/m_capab.c (File Modified) 
	trunk/modules/m_challenge.c (File Modified) 
	trunk/modules/m_chghost.c (File Modified) 
	trunk/modules/m_close.c (File Modified) 
	trunk/modules/m_cmessage.c (File Modified) 
	trunk/modules/m_connect.c (File Modified) 
	trunk/modules/m_dline.c (File Modified) 
	trunk/modules/m_encap.c (File Modified) 
	trunk/modules/m_etrace.c (File Modified) 
	trunk/modules/m_gline.c (File Modified) 
	trunk/modules/m_help.c (File Modified) 
	trunk/modules/m_info.c (File Modified) 
	trunk/modules/m_invite.c (File Modified) 
	trunk/modules/m_ison.c (File Modified) 
	trunk/modules/m_kline.c (File Modified) 
	trunk/modules/m_knock.c (File Modified) 
	trunk/modules/m_links.c (File Modified) 
	trunk/modules/m_list.c (File Modified) 
	trunk/modules/m_locops.c (File Modified) 
	trunk/modules/m_lusers.c (File Modified) 
	trunk/modules/m_map.c (File Modified) 
	trunk/modules/m_monitor.c (File Modified) 
	trunk/modules/m_motd.c (File Modified) 
	trunk/modules/m_names.c (File Modified) 
	trunk/modules/m_oper.c (File Modified) 
	trunk/modules/m_operspy.c (File Modified) 
	trunk/modules/m_pass.c (File Modified) 
	trunk/modules/m_ping.c (File Modified) 
	trunk/modules/m_pong.c (File Modified) 
	trunk/modules/m_post.c (File Modified) 
	trunk/modules/m_rehash.c (File Modified) 
	trunk/modules/m_restart.c (File Modified) 
	trunk/modules/m_resv.c (File Modified) 
	trunk/modules/m_services.c (File Modified) 
	trunk/modules/m_set.c (File Modified) 
	trunk/modules/m_sshortcut.c (File Modified) 
	trunk/modules/m_stats.c (File Modified) 
	trunk/modules/m_svinfo.c (File Modified) 
	trunk/modules/m_tb.c (File Modified) 
	trunk/modules/m_testline.c (File Modified) 
	trunk/modules/m_testmask.c (File Modified) 
	trunk/modules/m_time.c (File Modified) 
	trunk/modules/m_topic.c (File Modified) 
	trunk/modules/m_trace.c (File Modified) 
	trunk/modules/m_unreject.c (File Modified) 
	trunk/modules/m_user.c (File Modified) 
	trunk/modules/m_userhost.c (File Modified) 
	trunk/modules/m_users.c (File Modified) 
	trunk/modules/m_version.c (File Modified) 
	trunk/modules/m_wallops.c (File Modified) 
	trunk/modules/m_who.c (File Modified) 
	trunk/modules/m_whois.c (File Modified) 
	trunk/modules/m_whowas.c (File Modified) 
	trunk/modules/m_xline.c (File Modified) 
	trunk/src/adns.c (File Modified) 
	trunk/src/aline.c (File Modified) 
	trunk/src/cache.c (File Modified) 
	trunk/src/channel.c (File Modified) 
	trunk/src/class.c (File Modified) 
	trunk/src/client.c (File Modified) 
	trunk/src/commio.c (File Modified) 
	trunk/src/event.c (File Modified) 
	trunk/src/hash.c (File Modified) 
	trunk/src/hostmask.c (File Modified) 
	trunk/src/ircd.c (File Modified) 
	trunk/src/kdparse.c (File Modified) 
	trunk/src/linebuf.c (File Modified) 
	trunk/src/listener.c (File Modified) 
	trunk/src/modules.c (File Modified) 
	trunk/src/monitor.c (File Modified) 
	trunk/src/newconf.c (File Modified) 
	trunk/src/packet.c (File Modified) 
	trunk/src/parse.c (File Modified) 
	trunk/src/reject.c (File Modified) 
	trunk/src/s_auth.c (File Modified) 
	trunk/src/s_conf.c (File Modified) 
	trunk/src/s_gline.c (File Modified) 
	trunk/src/s_log.c (File Modified) 
	trunk/src/s_newconf.c (File Modified) 
	trunk/src/s_serv.c (File Modified) 
	trunk/src/s_stats.c (File Modified) 
	trunk/src/s_user.c (File Modified) 
	trunk/src/send.c (File Modified) 
	trunk/src/whowas.c (File Modified) 


nenolod     2005/09/21 23:24:34 UTC	(20050921-252)
  Log:
  - More coding style niceities. Pretty much got client.h squared away.
  

  Modified:
	trunk/modules/m_dline.c (File Modified) 
	trunk/modules/m_gline.c (File Modified) 
	trunk/modules/m_kline.c (File Modified) 
	trunk/modules/m_rehash.c (File Modified) 
	trunk/modules/m_resv.c (File Modified) 
	trunk/modules/m_stats.c (File Modified) 
	trunk/modules/m_testline.c (File Modified) 
	trunk/modules/m_user.c (File Modified) 
	trunk/modules/m_xline.c (File Modified) 


jilles      2005/09/21 22:37:13 UTC	(20050921-250)
  Log:
  - Propagate quiets (+q) on netjoins
  - Clear +q list too on lowerTS sjoin from TS6 source
  

  Modified:
	trunk/modules/core/m_sjoin.c (File Modified) 
	trunk/src/s_serv.c (File Modified) 


jilles      2005/09/21 15:49:43 UTC	(20050921-248)
  Log:
  Second argument to whois is always a nick, never a uid.
  This prevents /whois other.server uid to get information
  about that uid.
  

  Modified:
	trunk/modules/m_whois.c (File Modified) 


jilles      2005/09/21 15:43:45 UTC	(20050921-246)
  Log:
  Don't allow local users to use uids in user mode.
  

  Modified:
	trunk/src/s_user.c (File Modified) 


jilles      2005/09/21 15:42:56 UTC	(20050921-244)
  Log:
  Make it compile again.
  

  Modified:
	trunk/src/s_stats.c (File Modified) 


jilles      2005/09/21 15:09:11 UTC	(20050921-242)
  Log:
  Fix propagation of empty SJOIN.
  

  Modified:
	trunk/modules/core/m_sjoin.c (File Modified) 


nenolod     2005/09/21 06:13:45 UTC	(20050921-240)
  Log:
  Some atheme-style niceties here.
  

  Modified:
	trunk/modules/m_accept.c (File Modified) 
	trunk/modules/m_admin.c (File Modified) 
	trunk/modules/m_away.c (File Modified) 
	trunk/modules/m_cap.c (File Modified) 
	trunk/modules/m_capab.c (File Modified) 
	trunk/modules/m_challenge.c (File Modified) 
	trunk/modules/m_chghost.c (File Modified) 
	trunk/modules/m_close.c (File Modified) 
	trunk/modules/m_cmessage.c (File Modified) 
	trunk/modules/m_connect.c (File Modified) 
	trunk/modules/m_dline.c (File Modified) 
	trunk/modules/m_encap.c (File Modified) 
	trunk/modules/m_etrace.c (File Modified) 
	trunk/modules/m_gline.c (File Modified) 
	trunk/modules/m_help.c (File Modified) 
	trunk/modules/m_info.c (File Modified) 
	trunk/modules/m_invite.c (File Modified) 
	trunk/modules/m_ison.c (File Modified) 
	trunk/modules/m_kline.c (File Modified) 
	trunk/modules/m_knock.c (File Modified) 
	trunk/modules/m_links.c (File Modified) 
	trunk/modules/m_list.c (File Modified) 
	trunk/modules/m_locops.c (File Modified) 
	trunk/modules/m_lusers.c (File Modified) 
	trunk/modules/m_map.c (File Modified) 
	trunk/modules/m_monitor.c (File Modified) 
	trunk/modules/m_motd.c (File Modified) 
	trunk/modules/m_names.c (File Modified) 
	trunk/modules/m_oper.c (File Modified) 
	trunk/modules/m_operspy.c (File Modified) 
	trunk/modules/m_pass.c (File Modified) 
	trunk/modules/m_ping.c (File Modified) 
	trunk/modules/m_pong.c (File Modified) 
	trunk/modules/m_post.c (File Modified) 
	trunk/modules/m_rehash.c (File Modified) 
	trunk/modules/m_restart.c (File Modified) 
	trunk/modules/m_resv.c (File Modified) 
	trunk/modules/m_services.c (File Modified) 
	trunk/modules/m_set.c (File Modified) 
	trunk/modules/m_sshortcut.c (File Modified) 
	trunk/modules/m_stats.c (File Modified) 
	trunk/modules/m_svinfo.c (File Modified) 
	trunk/modules/m_tb.c (File Modified) 
	trunk/modules/m_testline.c (File Modified) 
	trunk/modules/m_testmask.c (File Modified) 
	trunk/modules/m_time.c (File Modified) 
	trunk/modules/m_topic.c (File Modified) 
	trunk/modules/m_trace.c (File Modified) 
	trunk/modules/m_unreject.c (File Modified) 
	trunk/modules/m_user.c (File Modified) 
	trunk/modules/m_userhost.c (File Modified) 
	trunk/modules/m_users.c (File Modified) 
	trunk/modules/m_version.c (File Modified) 
	trunk/modules/m_wallops.c (File Modified) 
	trunk/modules/m_who.c (File Modified) 
	trunk/modules/m_whois.c (File Modified) 
	trunk/modules/m_whowas.c (File Modified) 
	trunk/modules/m_xline.c (File Modified) 


nenolod     2005/09/21 05:26:03 UTC	(20050921-238)
  Log:
  Some initial tweaks to make it somewhat meet our coding standards, nowhere near done yet.
  

  Modified:
	trunk/.indent.pro (File Modified) 
	trunk/include/charybdis.h (File Added) 
	trunk/include/client.h (File Modified) 
	trunk/modules/.indent.pro (File Modified) 
	trunk/src/.indent.pro (File Modified) 
	trunk/src/adns.c (File Modified) 
	trunk/src/aline.c (File Modified) 
	trunk/src/cache.c (File Modified) 
	trunk/src/channel.c (File Modified) 
	trunk/src/class.c (File Modified) 
	trunk/src/client.c (File Modified) 
	trunk/src/commio.c (File Modified) 
	trunk/src/event.c (File Modified) 
	trunk/src/hash.c (File Modified) 
	trunk/src/hostmask.c (File Modified) 
	trunk/src/ircd.c (File Modified) 
	trunk/src/kdparse.c (File Modified) 
	trunk/src/linebuf.c (File Modified) 
	trunk/src/listener.c (File Modified) 
	trunk/src/modules.c (File Modified) 
	trunk/src/monitor.c (File Modified) 
	trunk/src/newconf.c (File Modified) 
	trunk/src/packet.c (File Modified) 
	trunk/src/parse.c (File Modified) 
	trunk/src/reject.c (File Modified) 
	trunk/src/s_auth.c (File Modified) 
	trunk/src/s_conf.c (File Modified) 
	trunk/src/s_gline.c (File Modified) 
	trunk/src/s_log.c (File Modified) 
	trunk/src/s_newconf.c (File Modified) 
	trunk/src/s_serv.c (File Modified) 
	trunk/src/s_stats.c (File Modified) 
	trunk/src/s_user.c (File Modified) 
	trunk/src/send.c (File Modified) 
	trunk/src/whowas.c (File Modified) 


nenolod     2005/09/21 04:31:10 UTC	(20050921-236)
  Log:
  - Add parse_aline() via ircd-hybrid-7.2. This stuff lives in src/aline.c.
  - Convert a few modules towards using this code.
  - Make a note about this change in NEWS.
  

  Modified:
	trunk/NEWS (File Modified) 
	trunk/include/aline.h (File Added) 
	trunk/modules/m_dline.c (File Modified) 
	trunk/modules/m_kline.c (File Modified) 
	trunk/modules/m_resv.c (File Modified) 
	trunk/modules/m_xline.c (File Modified) 
	trunk/src/Makefile.in (File Modified) 
	trunk/src/aline.c (File Added) 


nenolod     2005/09/21 00:20:28 UTC	(20050921-234)
  Log:
  - Update NEWS document.
  

  Modified:
	trunk/NEWS (File Modified) 


jilles      2005/09/20 18:27:19 UTC	(20050920-232)
  Log:
  Use find_named_person() instead of find_person() in services shortcuts.
  

  Modified:
	trunk/modules/m_sshortcut.c (File Modified) 


jilles      2005/09/18 22:18:59 UTC	(20050918-230)
  Log:
  Fix propagation of empty channels (+P).
  

  Modified:
	trunk/modules/core/m_sjoin.c (File Modified) 
	trunk/src/s_serv.c (File Modified) 


jilles      2005/09/18 22:18:04 UTC	(20050918-228)
  Log:
  Use same comparison for +f.
  

  Modified:
	trunk/modules/core/m_join.c (File Modified) 


jilles      2005/09/18 18:48:13 UTC	(20050918-226)
  Log:
  Retire server-server non-encap CHGHOST, and clean it up a bit.
  

  Modified:
	trunk/modules/m_chghost.c (File Modified) 


jilles      2005/09/18 14:26:20 UTC	(20050918-224)
  Log:
  Use TS6 form for SQUIT wallops.
  

  Modified:
	trunk/modules/core/m_squit.c (File Modified) 


jilles      2005/09/18 14:25:54 UTC	(20050918-222)
  Log:
  Propagate nick changes for remote clients in TS6 form if possible;
  simplify the code a bit.
  

  Modified:
	trunk/modules/core/m_nick.c (File Modified) 


jilles      2005/09/18 14:16:43 UTC	(20050918-220)
  Log:
  Only clear oper_only_umodes on deoper for local clients.
  

  Modified:
	trunk/src/s_user.c (File Modified) 


nenolod     2005/09/18 06:14:39 UTC	(20050918-218)
  Log:
  - Don't enable use_whois_actually in the default config, makes cloaking 
    only useful for vanity.
  

  Modified:
	trunk/doc/example.conf (File Modified) 


jilles      2005/09/18 00:00:12 UTC	(20050918-216)
  Log:
  Fix linebuf raw code to not truncate lines longer than
  510 characters. This stops ziplinks corruption at
  the initial burst if the other side sends a lot.
  

  Modified:
	trunk/src/linebuf.c (File Modified) 


nenolod     2005/09/13 03:26:36 UTC	(20050913-214)
  Log:
  - Add +r to channel_modes().
  

  Modified:
	trunk/src/channel.c (File Modified) 


nenolod     2005/09/13 00:11:52 UTC	(20050913-212)
  Log:
  Update NEWS.
  

  Modified:
	trunk/NEWS (File Modified) 


nenolod     2005/09/12 23:49:25 UTC	(20050912-210)
  Log:
  err, nvm. wrong project :-P
  

  Modified:
	trunk/src/match.c (File Modified) 


nenolod     2005/09/12 23:49:00 UTC	(20050912-208)
  Log:
  make sure we don't crash on match(NULL, test)
  

  Modified:
	trunk/src/match.c (File Modified) 


jilles      2005/09/12 23:40:03 UTC	(20050912-206)
  Log:
  Add remote rehash, /rehash <server> and /rehash <option> <server>,
  flags = rehash in shared{}.
  Uses :<source> ENCAP <target> REHASH [option].
  

  Modified:
	trunk/doc/example.conf (File Modified) 
	trunk/doc/reference.conf (File Modified) 
	trunk/help/opers/rehash (File Modified) 
	trunk/include/s_newconf.h (File Modified) 
	trunk/modules/m_rehash.c (File Modified) 
	trunk/modules/m_stats.c (File Modified) 
	trunk/src/newconf.c (File Modified) 


jilles      2005/09/12 22:48:44 UTC	(20050912-204)
  Log:
  Initialize flags to 0 in conf_set_shared_flags() and
  conf_set_cluster_flags().
  

  Modified:
	trunk/src/newconf.c (File Modified) 


jilles      2005/09/12 22:14:16 UTC	(20050912-202)
  Log:
  Don't allow a forward from a #channel to an &channel.
  Error message is Illegal channel name.
  

  Modified:
	trunk/modules/core/m_mode.c (File Modified) 


nenolod     2005/09/12 21:56:51 UTC	(20050912-200)
  Log:
  - change version to 1.0.1
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 


nenolod     2005/09/12 21:56:28 UTC	(20050912-198)
  Log:
  Update NEWS.
  

  Modified:
	trunk/NEWS (File Modified) 


jilles      2005/09/12 21:55:58 UTC	(20050912-196)
  Log:
  Services shortcuts changes:
  - Require umode +S on target
  - Use ERR_SERVICESDOWN (440) for error message
  - Fix check for empty string
  

  Modified:
	trunk/include/numeric.h (File Modified) 
	trunk/modules/m_sshortcut.c (File Modified) 
	trunk/src/messages.tab (File Modified) 


nenolod     2005/09/12 21:24:30 UTC	(20050912-194)
  Log:
  s/IsChanService/IsService/g;
  

  Modified:
	trunk/modules/m_sshortcut.c (File Modified) 


nenolod     2005/09/12 21:23:42 UTC	(20050912-192)
  Log:
  Add check for service validity in shortcut routines.
  

  Modified:
	trunk/modules/m_sshortcut.c (File Modified) 


jilles      2005/09/12 15:30:26 UTC	(20050912-190)
  Log:
  Don't allow forwarding to a -F channel the setter is not on.
  

  Modified:
	trunk/modules/core/m_mode.c (File Modified) 


jilles      2005/09/12 13:55:56 UTC	(20050912-188)
  Log:
  Describe identify_service and identify_command in
  reference.conf.
  

  Modified:
	trunk/doc/reference.conf (File Modified) 


jilles      2005/09/12 13:37:11 UTC	(20050912-186)
  Log:
  More helpfile updates.
  

  Modified:
	trunk/help/Makefile.in (File Modified) 
	trunk/help/opers/die (File Modified) 
	trunk/help/opers/join (File Modified) 
	trunk/help/opers/links (File Modified) 
	trunk/help/opers/lusers (File Modified) 
	trunk/help/opers/map (File Added) 
	trunk/help/opers/motd (File Modified) 
	trunk/help/opers/names (File Modified) 
	trunk/help/opers/notice (File Modified) 
	trunk/help/opers/operspy (File Modified) 
	trunk/help/opers/part (File Modified) 
	trunk/help/opers/privmsg (File Modified) 
	trunk/help/opers/restart (File Modified) 
	trunk/help/opers/set (File Modified) 
	trunk/help/opers/stats (File Modified) 
	trunk/help/opers/trace (File Modified) 
	trunk/help/opers/version (File Modified) 
	trunk/help/users/notice (File Modified) 
	trunk/help/users/privmsg (File Modified) 
	trunk/help/users/stats (File Modified) 


jilles      2005/09/12 11:18:40 UTC	(20050912-184)
  Log:
  Update help files.
  

  Modified:
	trunk/help/opers/cmode (File Modified) 
	trunk/help/opers/umode (File Modified) 
	trunk/help/opers/wallops (File Modified) 
	trunk/help/opers/who (File Modified) 
	trunk/help/users/umode (File Modified) 


jilles      2005/09/12 11:11:18 UTC	(20050912-182)
  Log:
  Include cmode +r in 004 and 005.
  

  Modified:
	trunk/include/supported.h (File Modified) 
	trunk/src/messages.tab (File Modified) 


jilles      2005/09/12 10:53:35 UTC	(20050912-180)
  Log:
  No need to clear all 3 buffers in channel_modes().
  

  Modified:
	trunk/src/channel.c (File Modified) 


jilles      2005/09/12 10:31:54 UTC	(20050912-178)
  Log:
  - Fix multiple +f modes per line
  - -f shouldn't take a parameter
  

  Modified:
	trunk/modules/core/m_mode.c (File Modified) 


jilles      2005/09/12 10:04:27 UTC	(20050912-176)
  Log:
  Channel mode +Q now prevents forwarding to or through
  a channel, just like in hyperion, not from a channel.
  

  Modified:
	trunk/modules/core/m_join.c (File Modified) 


jilles      2005/09/12 09:36:21 UTC	(20050912-174)
  Log:
  Complete +F/+Q propagation.
  

  Modified:
	trunk/modules/core/m_join.c (File Modified) 
	trunk/modules/core/m_sjoin.c (File Modified) 
	trunk/src/channel.c (File Modified) 


nenolod     2005/09/12 06:10:29 UTC	(20050912-172)
  Log:
  - A few minor fixes.
  

  Modified:
	trunk/modules/core/m_join.c (File Modified) 
	trunk/modules/m_services.c (File Modified) 


nenolod     2005/09/12 04:15:44 UTC	(20050912-170)
  Log:
  - Fix netsplit obfuscation.
  

  Modified:
	trunk/src/client.c (File Modified) 


nenolod     2005/09/12 04:07:36 UTC	(20050912-168)
  Log:
  - Fix another /stats p related bug.
  

  Modified:
	trunk/src/client.c (File Modified) 


nenolod     2005/09/12 03:57:13 UTC	(20050912-166)
  Log:
  - Update example.conf.
  

  Modified:
	trunk/doc/example.conf (File Modified) 


nenolod     2005/09/12 03:52:56 UTC	(20050912-164)
  Log:
  - Fix a minor bug here, and re-release 1.0.
  

  Modified:
	trunk/modules/core/m_nick.c (File Modified) 


nenolod     2005/09/12 03:19:51 UTC	(20050912-162)
  Log:
  - Add bursted clients to /stats p list.
  

  Modified:
	trunk/modules/core/m_nick.c (File Modified) 


nenolod     2005/09/12 03:15:28 UTC	(20050912-160)
  Log:
  - Add identify_service, identify_command options to the example.conf,
    newconf parser.
  

  Modified:
	trunk/NEWS (File Modified) 
	trunk/doc/example.conf (File Modified) 
	trunk/src/newconf.c (File Modified) 


nenolod     2005/09/12 03:00:04 UTC	(20050912-158)
  Log:
  - Add services shortcuts.
  

  Modified:
	trunk/modules/Makefile.in (File Modified) 
	trunk/modules/m_sshortcut.c (File Added) 


nenolod     2005/09/12 02:46:00 UTC	(20050912-156)
  Log:
  - put back checks i removed by mistake
  

  Modified:
	trunk/modules/core/m_join.c (File Modified) 


nenolod     2005/09/12 02:42:09 UTC	(20050912-154)
  Log:
  - Implement channel mode +Q, which disables forwarding.
  - Make forwarding usable by everyone.
  - Implement channel mode +F which bypasses authority checks on a target 
    set with this mode
  - Update NEWS.
  

  Modified:
	trunk/NEWS (File Modified) 
	trunk/include/channel.h (File Modified) 
	trunk/include/supported.h (File Modified) 
	trunk/modules/core/m_join.c (File Modified) 
	trunk/modules/core/m_mode.c (File Modified) 
	trunk/src/messages.tab (File Modified) 


nenolod     2005/09/12 02:13:26 UTC	(20050912-152)
  Log:
  - Fix account handling brokenness.
  

  Modified:
	trunk/modules/m_services.c (File Modified) 


jilles      2005/09/12 02:04:09 UTC	(20050912-150)
  Log:
  Identify to services via server password hack. Still
  needs config file parts, like
  identifyservice = "nickserv@services.int";
  identifycommand = "IDENTIFY";
  

  Modified:
	trunk/include/s_conf.h (File Modified) 
	trunk/src/s_user.c (File Modified) 


jilles      2005/09/12 01:59:46 UTC	(20050912-148)
  Log:
  Make send.c compile.
  

  Modified:
	trunk/src/send.c (File Modified) 


nenolod     2005/09/12 01:18:24 UTC	(20050912-146)
  Log:
  - Handle this better.
  

  Modified:
	trunk/src/send.c (File Modified) 


nenolod     2005/09/12 01:16:34 UTC	(20050912-144)
  Log:
  If the source is not a client, don't send to normal users.
  

  Modified:
	trunk/src/send.c (File Modified) 


nenolod     2005/09/12 01:07:01 UTC	(20050912-142)
  Log:
  - Make /wallops behave as wallops in other ircds.
  

  Modified:
	trunk/modules/m_wallops.c (File Modified) 
	trunk/src/send.c (File Modified) 


nenolod     2005/09/12 00:53:16 UTC	(20050912-140)
  Log:
  - charybdis-1.0
  

  Modified:
	trunk/NEWS (File Modified) 
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 


nenolod     2005/09/12 00:48:18 UTC	(20050912-138)
  Log:
  - Remove efnet configuration.
  - Rename example.conf as reference.conf, and replace the default 
  example.conf with one suitable for AthemeNET.
  - Update makefile to reflect these changes.
  

  Modified:
	trunk/doc/Makefile.in (File Modified) 
	trunk/doc/example.conf (File Modified) 
	trunk/doc/example.efnet.conf (File Deleted) 
	trunk/doc/reference.conf (File Added) 


nenolod     2005/09/12 00:30:48 UTC	(20050912-136)
  Log:
  - Don't display opers who are /away.
  

  Modified:
	trunk/modules/m_stats.c (File Modified) 


jilles      2005/09/12 00:21:20 UTC	(20050912-134)
  Log:
  Put cmode +f in 004 and 005.
  

  Modified:
	trunk/include/supported.h (File Modified) 
	trunk/src/messages.tab (File Modified) 


jilles      2005/09/12 00:15:13 UTC	(20050912-132)
  Log:
  Add user umode +Q which prevents a user from
  being forwarded.
  

  Modified:
	trunk/include/client.h (File Modified) 
	trunk/modules/core/m_join.c (File Modified) 
	trunk/src/messages.tab (File Modified) 
	trunk/src/s_user.c (File Modified) 


jilles      2005/09/11 23:47:02 UTC	(20050911-130)
  Log:
  Implement channel forwarding in m_join(). As in
  hyperion, failing to join because of +i, +r or +j
  can cause you to be forwarded, potentially
  recursively. Unlike hyperion, a single numeric
  is sent in case of a successful forward, otherwise
  the ircd acts if there were no forward.
  

  Modified:
	trunk/include/numeric.h (File Modified) 
	trunk/modules/core/m_join.c (File Modified) 
	trunk/src/messages.tab (File Modified) 


jilles      2005/09/11 22:57:53 UTC	(20050911-128)
  Log:
  Allow servers to set oper-only cmodes as well.
  

  Modified:
	trunk/modules/core/m_mode.c (File Modified) 


jilles      2005/09/11 22:48:37 UTC	(20050911-126)
  Log:
  Add cmode +f which takes a channel name, settable
  only by opers for now. Does not do anything yet.
  

  Modified:
	trunk/include/channel.h (File Modified) 
	trunk/modules/core/m_join.c (File Modified) 
	trunk/modules/core/m_mode.c (File Modified) 
	trunk/modules/core/m_sjoin.c (File Modified) 
	trunk/src/channel.c (File Modified) 


jilles      2005/09/11 20:48:09 UTC	(20050911-124)
  Log:
  Fully initialize 'mode' in ms_join() and ms_sjoin()
  to avoid old +j garbage from being used.
  

  Modified:
	trunk/modules/core/m_join.c (File Modified) 
	trunk/modules/core/m_sjoin.c (File Modified) 


jilles      2005/09/11 19:41:53 UTC	(20050911-122)
  Log:
  - only touch join_count/join_delta if join throttling
    is enabled on the channel
  - reset join_count/join_delta to 0 if -j is set
  

  Modified:
	trunk/modules/core/m_join.c (File Modified) 
	trunk/modules/core/m_mode.c (File Modified) 
	trunk/modules/core/m_sjoin.c (File Modified) 


jilles      2005/09/11 18:57:20 UTC	(20050911-120)
  Log:
  Also start a new "period" for join throttling for remote joins,
  if necessary.  Make the code slightly clearer.
  

  Modified:
	trunk/modules/core/m_join.c (File Modified) 
	trunk/src/channel.c (File Modified) 


jilles      2005/09/11 18:12:20 UTC	(20050911-118)
  Log:
  Some +j improvements, still broken.
  

  Modified:
	trunk/modules/core/m_join.c (File Modified) 
	trunk/modules/core/m_sjoin.c (File Modified) 


jilles      2005/09/11 16:44:36 UTC	(20050911-116)
  Log:
  Only do +z processing for +m channels the sender is on,
  as bans/quiets are currently only checked locally.
  

  Modified:
	trunk/modules/core/m_message.c (File Modified) 


jilles      2005/09/11 16:01:02 UTC	(20050911-114)
  Log:
  - Add max_bans_large configuration option, defaulting to 500, to
    limit the number of bans in a +L channel
  - Change b/e/I to b/e/I/q in texts
  

  Modified:
	trunk/doc/example.conf (File Modified) 
	trunk/include/s_conf.h (File Modified) 
	trunk/modules/core/m_mode.c (File Modified) 
	trunk/modules/m_info.c (File Modified) 
	trunk/src/newconf.c (File Modified) 
	trunk/src/s_conf.c (File Modified) 


jilles      2005/09/11 15:20:38 UTC	(20050911-112)
  Log:
  Store invite for +gi channels.
  Note that +gi is significantly weaker access control than +i.
  

  Modified:
	trunk/modules/m_invite.c (File Modified) 


jilles      2005/09/11 14:38:35 UTC	(20050911-110)
  Log:
  Nonops are allowed to see +q lists.
  

  Modified:
	trunk/modules/core/m_mode.c (File Modified) 


jilles      2005/09/11 14:27:59 UTC	(20050911-108)
  Log:
  Invalidate can_send() cache on -q.
  

  Modified:
	trunk/modules/core/m_mode.c (File Modified) 


nenolod     2005/09/11 07:01:01 UTC	(20050911-106)
  Log:
  - Make sure sjoin doesnt crash the ircd if it's blank. :X
  

  Modified:
	trunk/modules/core/m_sjoin.c (File Modified) 


nenolod     2005/09/11 06:28:20 UTC	(20050911-104)
  Log:
  - Allow blank SJOINs -- for permanant channels.
  

  Modified:
	trunk/modules/core/m_sjoin.c (File Modified) 


nenolod     2005/09/11 06:12:40 UTC	(20050911-102)
  Log:
  - Burst permanant channels.
  

  Modified:
	trunk/src/s_serv.c (File Modified) 


nenolod     2005/09/11 06:08:42 UTC	(20050911-100)
  Log:
  - Fix handling of permanant channels.
  

  Modified:
	trunk/modules/core/m_join.c (File Modified) 


nenolod     2005/09/11 03:37:47 UTC	(20050911-98)
  Log:
  - Run indent on core modules.
  - Add propagation of join throttle settings.
  

  Modified:
	trunk/modules/core/m_die.c (File Modified) 
	trunk/modules/core/m_error.c (File Modified) 
	trunk/modules/core/m_join.c (File Modified) 
	trunk/modules/core/m_kick.c (File Modified) 
	trunk/modules/core/m_kill.c (File Modified) 
	trunk/modules/core/m_message.c (File Modified) 
	trunk/modules/core/m_mode.c (File Modified) 
	trunk/modules/core/m_nick.c (File Modified) 
	trunk/modules/core/m_part.c (File Modified) 
	trunk/modules/core/m_quit.c (File Modified) 
	trunk/modules/core/m_server.c (File Modified) 
	trunk/modules/core/m_sjoin.c (File Modified) 
	trunk/modules/core/m_squit.c (File Modified) 


nenolod     2005/09/11 00:31:11 UTC	(20050911-96)
  Log:
  - Fix mistake in commit message.
  

  Modified:
	trunk/ChangeLog (File Modified) 


nenolod     2005/09/11 00:30:36 UTC	(20050911-94)
  Log:
  - Channel throttling.
  

  Modified:
	trunk/NEWS (File Modified) 
	trunk/include/supported.h (File Modified) 
	trunk/modules/core/m_mode.c (File Modified) 
	trunk/src/messages.tab (File Modified) 


nenolod     2005/09/10 23:56:31 UTC	(20050910-92)
  Log:
  - Channel throttle logic fixes.
  

  Modified:
	trunk/include/channel.h (File Modified) 


nenolod     2005/09/10 23:55:45 UTC	(20050910-90)
  Log:
  - Add the throttle logic.
  

  Modified:
	trunk/include/channel.h (File Modified) 
	trunk/include/numeric.h (File Modified) 
	trunk/modules/core/m_join.c (File Modified) 
	trunk/src/channel.c (File Modified) 
	trunk/src/messages.tab (File Modified) 


nenolod     2005/09/10 20:10:09 UTC	(20050910-88)
  Log:
  - Cosmetic fixes to CREDITS.
  

  Modified:
	trunk/CREDITS (File Modified) 


nenolod     2005/09/10 19:54:51 UTC	(20050910-86)
  Log:
  - Better channel_modes() from ShadowIRCd 4.
  

  Modified:
	trunk/include/channel.h (File Modified) 
	trunk/src/channel.c (File Modified) 


nenolod     2005/09/10 19:01:56 UTC	(20050910-84)
  Log:
  - Strip colour codes from parts.
  

  Modified:
	trunk/modules/core/m_part.c (File Modified) 


nenolod     2005/09/10 19:01:00 UTC	(20050910-82)
  Log:
  - Strip colour codes from quits.
  

  Modified:
	trunk/modules/core/m_quit.c (File Modified) 


nenolod     2005/09/10 18:59:00 UTC	(20050910-80)
  Log:
  - add +c/+g/+z to channel_modes().
  

  Modified:
	trunk/src/channel.c (File Modified) 


nenolod     2005/09/10 18:56:03 UTC	(20050910-78)
  Log:
  - Add +g to 004/005 numerics.
  

  Modified:
	trunk/include/supported.h (File Modified) 
	trunk/src/messages.tab (File Modified) 


nenolod     2005/09/10 18:54:51 UTC	(20050910-76)
  Log:
  - Add +cgz to set_final_mode() in both join/sjoin.
  - Implement channel mode +g: Free invite.
  

  Modified:
	trunk/include/channel.h (File Modified) 
	trunk/modules/core/m_join.c (File Modified) 
	trunk/modules/core/m_mode.c (File Modified) 
	trunk/modules/core/m_sjoin.c (File Modified) 
	trunk/modules/m_invite.c (File Modified) 


nenolod     2005/09/10 18:16:51 UTC	(20050910-74)
  Log:
  - Make sure /stats p uses the right list.
  

  Modified:
	trunk/modules/m_stats.c (File Modified) 


nenolod     2005/09/10 18:16:27 UTC	(20050910-72)
  Log:
  - local oper list becomes local_oper_list.
  - all opers are stored on oper_list for /stats p.
  

  Modified:
	trunk/include/ircd.h (File Modified) 
	trunk/modules/m_stats.c (File Modified) 
	trunk/modules/m_trace.c (File Modified) 
	trunk/src/client.c (File Modified) 
	trunk/src/ircd.c (File Modified) 
	trunk/src/s_user.c (File Modified) 
	trunk/src/send.c (File Modified) 


nenolod     2005/09/10 07:03:09 UTC	(20050910-70)
  Log:
  - Remove ENABLE_SERVICES legacy define.
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 
	trunk/include/client.h (File Modified) 
	trunk/include/m_info.h (File Modified) 
	trunk/include/s_conf.h (File Modified) 
	trunk/modules/Makefile.in (File Modified) 
	trunk/modules/core/m_kick.c (File Modified) 
	trunk/modules/core/m_mode.c (File Modified) 
	trunk/modules/core/m_nick.c (File Modified) 
	trunk/modules/core/m_sjoin.c (File Modified) 
	trunk/modules/m_services.c (File Modified) 
	trunk/src/channel.c (File Modified) 
	trunk/src/newconf.c (File Modified) 
	trunk/src/s_conf.c (File Modified) 
	trunk/src/s_serv.c (File Modified) 
	trunk/src/s_user.c (File Modified) 


nenolod     2005/09/10 06:47:19 UTC	(20050910-68)
  Log:
  - New reject message, ala ircu.
  

  Modified:
	trunk/src/reject.c (File Modified) 


nenolod     2005/09/10 06:27:05 UTC	(20050910-66)
  Log:
  - Reduce 'broadcast storm' effect in m_chghost.
  

  Modified:
	trunk/modules/m_chghost.c (File Modified) 


nenolod     2005/09/10 06:22:38 UTC	(20050910-64)
  Log:
  - Add +z to RPL_ISUPPORT, RPL_MYINFO.
  

  Modified:
	trunk/include/supported.h (File Modified) 
	trunk/src/messages.tab (File Modified) 


nenolod     2005/09/10 06:21:43 UTC	(20050910-62)
  Log:
  - Implement +z.
  

  Modified:
	trunk/include/channel.h (File Modified) 
	trunk/modules/core/m_message.c (File Modified) 
	trunk/modules/core/m_mode.c (File Modified) 


nenolod     2005/09/10 06:03:27 UTC	(20050910-60)
  Log:
  - use sendto_one_numeric() in some places.
  

  Modified:
	trunk/modules/core/m_mode.c (File Modified) 


nenolod     2005/09/10 05:40:25 UTC	(20050910-58)
  Log:
  - Implement channel mode +c -- colour stripping.
  

  Modified:
	trunk/include/irc_string.h (File Modified) 
	trunk/include/supported.h (File Modified) 
	trunk/modules/core/m_message.c (File Modified) 
	trunk/modules/core/m_mode.c (File Modified) 
	trunk/src/irc_string.c (File Modified) 
	trunk/src/messages.tab (File Modified) 


nenolod     2005/09/10 05:29:17 UTC	(20050910-56)
  Log:
  - Add +qLP to CHANMODES 005 numeric.
  

  Modified:
	trunk/include/supported.h (File Modified) 


nenolod     2005/09/10 05:12:55 UTC	(20050910-54)
  Log:
  Move credits files to doc/.
  

  Modified:
	trunk/Hybrid-team (File Deleted) 
	trunk/Ratbox-team (File Deleted) 
	trunk/doc/Hybrid-team (File Added) 
	trunk/doc/Ratbox-team (File Added) 


nenolod     2005/09/10 05:11:15 UTC	(20050910-52)
  Log:
  - Rename Ratbox credits as Ratbox-team.
  - Add in our own CREDITS.
  

  Modified:
	trunk/CREDITS (File Deleted) 
	trunk/CREDITS (File Added) 
	trunk/Ratbox-team (File Added) 


nenolod     2005/09/10 05:03:03 UTC	(20050910-50)
  Log:
  - Quietcache fixes.
  

  Modified:
	trunk/modules/core/m_mode.c (File Modified) 


nenolod     2005/09/10 04:43:41 UTC	(20050910-48)
  Log:
  - Rebuild configure.
  

  Modified:
	trunk/autom4te.cache/ (File Deleted) 
	trunk/configure (File Modified) 


nenolod     2005/09/10 03:25:41 UTC	(20050910-46)
  Log:
  Add +q to messages.tab.
  

  Modified:
	trunk/src/messages.tab (File Modified) 


nenolod     2005/09/10 03:17:39 UTC	(20050910-44)
  Log:
  - port m_sjoin stuff to TS6 JOIN syntax.
  

  Modified:
	trunk/modules/core/m_join.c (File Modified) 


nenolod     2005/09/10 03:15:50 UTC	(20050910-42)
  Log:
  - Implement channel mode +q (quiet)
  

  Modified:
	trunk/include/channel.h (File Modified) 
	trunk/modules/core/m_mode.c (File Modified) 
	trunk/src/channel.c (File Modified) 


jilles      2005/09/10 03:03:05 UTC	(20050910-40)
  Log:
  Add +L/+P for set_final_mode().
  

  Modified:
	trunk/modules/core/m_sjoin.c (File Modified) 


jilles      2005/09/10 02:59:22 UTC	(20050910-38)
  Log:
  Add +L/+P in channel_modes().
  

  Modified:
	trunk/src/channel.c (File Modified) 


jilles      2005/09/10 02:55:10 UTC	(20050910-36)
  Log:
  - Use MODE_PERMANENT, not MODE_PERMANANT
  - Actually use chm_staff()
  
  It compiles but is not otherwise tested.
  

  Modified:
	trunk/include/channel.h (File Modified) 
	trunk/modules/core/m_mode.c (File Modified) 
	trunk/modules/core/m_sjoin.c (File Modified) 
	trunk/src/channel.c (File Modified) 


nenolod     2005/09/10 02:53:04 UTC	(20050910-34)
  Log:
  - Ok, patchlevel.h is fixed now.
  

  Modified:
	trunk/include/patchlevel.h (File Modified) 


nenolod     2005/09/10 02:45:47 UTC	(20050910-32)
  Log:
  - *sigh*
  

  Modified:
	trunk/include/patchlevel.h (File Modified) 
	trunk/src/version.c.SH (File Modified) 


nenolod     2005/09/10 02:43:00 UTC	(20050910-30)
  Log:
  - Fix compilation issue with version.c.
  

  Modified:
	trunk/src/version.c.SH (File Modified) 


nenolod     2005/09/10 02:33:47 UTC	(20050910-28)
  Log:
  - Server hostmasking fixed in +datadrain ala hybrid 7.2, so we remove 
    this from the BUGS file.
  

  Modified:
	trunk/BUGS (File Modified) 


jilles      2005/09/10 02:30:22 UTC	(20050910-26)
  Log:
  Mangle all netsplit messages if flatten links is enabled.
  

  Modified:
	trunk/src/client.c (File Modified) 


nenolod     2005/09/10 02:26:22 UTC	(20050910-24)
  Log:
  - jilles pointed out that /stats p needed severe changes -- implement 
    them
  

  Modified:
	trunk/modules/m_stats.c (File Modified) 


nenolod     2005/09/10 02:24:18 UTC	(20050910-22)
  Log:
  Rename RELNOTES to NEWS.
  

  Modified:
	trunk/NEWS (File Added) 
	trunk/RELNOTES (File Deleted) 


nenolod     2005/09/10 02:24:03 UTC	(20050910-20)
  Log:
  Update RELNOTES.
  

  Modified:
	trunk/RELNOTES (File Modified) 


nenolod     2005/09/10 02:22:34 UTC	(20050910-18)
  Log:
  - Make /stats p work globally.
  - Change 'OPER(s)' to 'staff members'
  

  Modified:
	trunk/modules/m_stats.c (File Modified) 


nenolod     2005/09/10 02:19:01 UTC	(20050910-16)
  Log:
  - add modes, +LP to RPL_MYINFO.
  

  Modified:
	trunk/src/messages.tab (File Modified) 


nenolod     2005/09/10 02:16:42 UTC	(20050910-14)
  Log:
  More stuff to RELNOTES.
  

  Modified:
	trunk/RELNOTES (File Modified) 


nenolod     2005/09/10 01:32:27 UTC	(20050910-12)
  Log:
  - Implement +P.
  

  Modified:
	trunk/modules/core/m_sjoin.c (File Modified) 
	trunk/src/channel.c (File Modified) 


nenolod     2005/09/10 01:28:47 UTC	(20050910-10)
  Log:
  - Implement list limit exceed modes -- +L.
  

  Modified:
	trunk/modules/core/m_mode.c (File Modified) 


nenolod     2005/09/10 01:26:55 UTC	(20050910-8)
  Log:
  - Add handlers for modes +L, +P.
  

  Modified:
	trunk/include/channel.h (File Modified) 
	trunk/modules/core/m_mode.c (File Modified) 


nenolod     2005/09/10 01:02:21 UTC	(20050910-6)
  Log:
  Update properties on *everything*.
  

  Modified:
	trunk/.cvsignore  (Property Modified)
	trunk/.indent.pro  (Property Modified)
	trunk/BUGS (File Modified) (Property Modified)
	trunk/CREDITS (File Modified) (Property Modified)
	trunk/ChangeLog  (Property Modified)
	trunk/Hybrid-team (File Modified) (Property Modified)
	trunk/INSTALL (File Modified) (Property Modified)
	trunk/LICENSE (File Modified) (Property Modified)
	trunk/Makefile.in (File Modified) (Property Modified)
	trunk/README.FIRST (File Modified) (Property Modified)
	trunk/RELNOTES (File Modified) (Property Modified)
	trunk/SVN-Access  (Property Modified)
	trunk/aclocal.m4 (File Modified) (Property Modified)
	trunk/adns/.cvsignore  (Property Modified)
	trunk/adns/COPYING  (Property Modified)
	trunk/adns/GPL-vs-LGPL  (Property Modified)
	trunk/adns/Makefile.in (File Modified) (Property Modified)
	trunk/adns/README  (Property Modified)
	trunk/adns/README.ircd  (Property Modified)
	trunk/adns/adns.h (File Modified) (Property Modified)
	trunk/adns/check.c (File Modified) (Property Modified)
	trunk/adns/dlist.h (File Modified) (Property Modified)
	trunk/adns/event.c (File Modified) (Property Modified)
	trunk/adns/general.c (File Modified) (Property Modified)
	trunk/adns/internal.h (File Modified) (Property Modified)
	trunk/adns/parse.c (File Modified) (Property Modified)
	trunk/adns/query.c (File Modified) (Property Modified)
	trunk/adns/reply.c (File Modified) (Property Modified)
	trunk/adns/setup.c (File Modified) (Property Modified)
	trunk/adns/transmit.c (File Modified) (Property Modified)
	trunk/adns/tvarith.h (File Modified) (Property Modified)
	trunk/adns/types.c (File Modified) (Property Modified)
	trunk/configure (File Modified) (Property Modified)
	trunk/configure.ac (File Modified) (Property Modified)
	trunk/contrib/.cvsignore  (Property Modified)
	trunk/contrib/.indent.pro  (Property Modified)
	trunk/contrib/Makefile.in (File Modified) (Property Modified)
	trunk/contrib/README (File Modified) (Property Modified)
	trunk/contrib/example_module.c (File Modified) (Property Modified)
	trunk/contrib/m_42.c (File Modified) (Property Modified)
	trunk/contrib/m_clearchan.c (File Modified) (Property Modified)
	trunk/contrib/m_flags.c (File Modified) (Property Modified)
	trunk/contrib/m_force.c (File Modified) (Property Modified)
	trunk/contrib/m_mkpasswd.c (File Modified) (Property Modified)
	trunk/contrib/m_ojoin.c (File Modified) (Property Modified)
	trunk/contrib/m_okick.c (File Modified) (Property Modified)
	trunk/contrib/m_olist.c (File Modified) (Property Modified)
	trunk/contrib/m_opme.c (File Modified) (Property Modified)
	trunk/contrib/spy_admin_notice.c (File Modified) (Property Modified)
	trunk/contrib/spy_info_notice.c (File Modified) (Property Modified)
	trunk/contrib/spy_links_notice.c (File Modified) (Property Modified)
	trunk/contrib/spy_motd_notice.c (File Modified) (Property Modified)
	trunk/contrib/spy_stats_notice.c (File Modified) (Property Modified)
	trunk/contrib/spy_stats_p_notice.c (File Modified) (Property Modified)
	trunk/contrib/spy_trace_notice.c (File Modified) (Property Modified)
	trunk/contrib/spy_whois_notice.c (File Modified) (Property Modified)
	trunk/contrib/spy_whois_notice_global.c (File Modified) (Property Modified)
	trunk/doc/.cvsignore  (Property Modified)
	trunk/doc/CIDR.txt (File Modified) (Property Modified)
	trunk/doc/Makefile.in (File Modified) (Property Modified)
	trunk/doc/README.cidr_bans (File Modified) (Property Modified)
	trunk/doc/Tao-of-IRC.940110  (Property Modified)
	trunk/doc/challenge.txt (File Modified) (Property Modified)
	trunk/doc/example.conf (File Modified) (Property Modified)
	trunk/doc/example.efnet.conf (File Modified) (Property Modified)
	trunk/doc/hooks.txt (File Modified) (Property Modified)
	trunk/doc/index.txt (File Modified) (Property Modified)
	trunk/doc/ircd.8 (File Modified) (Property Modified)
	trunk/doc/ircd.motd  (Property Modified)
	trunk/doc/logfiles.txt (File Modified) (Property Modified)
	trunk/doc/modeg.txt (File Modified) (Property Modified)
	trunk/doc/modes.txt (File Modified) (Property Modified)
	trunk/doc/monitor.txt (File Modified) (Property Modified)
	trunk/doc/old/Authors  (Property Modified)
	trunk/doc/operguide.txt (File Modified) (Property Modified)
	trunk/doc/opermyth.txt  (Property Modified)
	trunk/doc/server-version-info (File Modified) (Property Modified)
	trunk/doc/services.txt (File Modified) (Property Modified)
	trunk/doc/technical/README.TSora  (Property Modified)
	trunk/doc/technical/cluster.txt (File Modified) (Property Modified)
	trunk/doc/technical/event.txt (File Modified) (Property Modified)
	trunk/doc/technical/fd-management.txt (File Modified) (Property Modified)
	trunk/doc/technical/file-management.txt (File Modified) (Property Modified)
	trunk/doc/technical/hostmask.txt (File Modified) (Property Modified)
	trunk/doc/technical/index.txt (File Modified) (Property Modified)
	trunk/doc/technical/linebuf.txt (File Modified) (Property Modified)
	trunk/doc/technical/network.txt (File Modified) (Property Modified)
	trunk/doc/technical/rfc1459.txt  (Property Modified)
	trunk/doc/technical/send.txt (File Modified) (Property Modified)
	trunk/doc/technical/ts5.txt (File Modified) (Property Modified)
	trunk/doc/technical/ts6.txt (File Modified) (Property Modified)
	trunk/doc/tgchange.txt (File Modified) (Property Modified)
	trunk/doc/whats-new-2.0.txt (File Modified) (Property Modified)
	trunk/doc/whats-new-2.1.txt (File Modified) (Property Modified)
	trunk/help/Makefile.in (File Modified) (Property Modified)
	trunk/help/opers/accept  (Property Modified)
	trunk/help/opers/admin  (Property Modified)
	trunk/help/opers/away  (Property Modified)
	trunk/help/opers/capab  (Property Modified)
	trunk/help/opers/challenge  (Property Modified)
	trunk/help/opers/close  (Property Modified)
	trunk/help/opers/cmode  (Property Modified)
	trunk/help/opers/cnotice  (Property Modified)
	trunk/help/opers/connect  (Property Modified)
	trunk/help/opers/cprivmsg  (Property Modified)
	trunk/help/opers/credits  (Property Modified)
	trunk/help/opers/die  (Property Modified)
	trunk/help/opers/dline  (Property Modified)
	trunk/help/opers/eob  (Property Modified)
	trunk/help/opers/error  (Property Modified)
	trunk/help/opers/etrace  (Property Modified)
	trunk/help/opers/gline  (Property Modified)
	trunk/help/opers/help  (Property Modified)
	trunk/help/opers/index  (Property Modified)
	trunk/help/opers/info  (Property Modified)
	trunk/help/opers/invite  (Property Modified)
	trunk/help/opers/ison  (Property Modified)
	trunk/help/opers/join  (Property Modified)
	trunk/help/opers/kick  (Property Modified)
	trunk/help/opers/kill  (Property Modified)
	trunk/help/opers/kline  (Property Modified)
	trunk/help/opers/knock  (Property Modified)
	trunk/help/opers/links  (Property Modified)
	trunk/help/opers/list  (Property Modified)
	trunk/help/opers/locops  (Property Modified)
	trunk/help/opers/lusers  (Property Modified)
	trunk/help/opers/modlist  (Property Modified)
	trunk/help/opers/modload  (Property Modified)
	trunk/help/opers/modrestart  (Property Modified)
	trunk/help/opers/modunload  (Property Modified)
	trunk/help/opers/motd  (Property Modified)
	trunk/help/opers/names  (Property Modified)
	trunk/help/opers/nick  (Property Modified)
	trunk/help/opers/notice  (Property Modified)
	trunk/help/opers/oper  (Property Modified)
	trunk/help/opers/operspy  (Property Modified)
	trunk/help/opers/operwall  (Property Modified)
	trunk/help/opers/part  (Property Modified)
	trunk/help/opers/pass  (Property Modified)
	trunk/help/opers/ping  (Property Modified)
	trunk/help/opers/pong  (Property Modified)
	trunk/help/opers/post  (Property Modified)
	trunk/help/opers/privmsg  (Property Modified)
	trunk/help/opers/quit  (Property Modified)
	trunk/help/opers/rehash  (Property Modified)
	trunk/help/opers/restart  (Property Modified)
	trunk/help/opers/resv  (Property Modified)
	trunk/help/opers/server  (Property Modified)
	trunk/help/opers/set  (Property Modified)
	trunk/help/opers/sjoin  (Property Modified)
	trunk/help/opers/squit  (Property Modified)
	trunk/help/opers/stats  (Property Modified)
	trunk/help/opers/svinfo  (Property Modified)
	trunk/help/opers/testgecos  (Property Modified)
	trunk/help/opers/testline  (Property Modified)
	trunk/help/opers/testmask  (Property Modified)
	trunk/help/opers/time  (Property Modified)
	trunk/help/opers/topic  (Property Modified)
	trunk/help/opers/trace  (Property Modified)
	trunk/help/opers/uhelp  (Property Modified)
	trunk/help/opers/umode  (Property Modified)
	trunk/help/opers/undline  (Property Modified)
	trunk/help/opers/ungline  (Property Modified)
	trunk/help/opers/unkline  (Property Modified)
	trunk/help/opers/unresv  (Property Modified)
	trunk/help/opers/unxline  (Property Modified)
	trunk/help/opers/user  (Property Modified)
	trunk/help/opers/userhost  (Property Modified)
	trunk/help/opers/users  (Property Modified)
	trunk/help/opers/version  (Property Modified)
	trunk/help/opers/wallops  (Property Modified)
	trunk/help/opers/who  (Property Modified)
	trunk/help/opers/whois  (Property Modified)
	trunk/help/opers/whowas  (Property Modified)
	trunk/help/opers/xline  (Property Modified)
	trunk/help/users/index  (Property Modified)
	trunk/help/users/info  (Property Modified)
	trunk/help/users/notice  (Property Modified)
	trunk/help/users/privmsg  (Property Modified)
	trunk/help/users/stats  (Property Modified)
	trunk/help/users/umode  (Property Modified)
	trunk/include/.cvsignore  (Property Modified)
	trunk/include/.indent.pro  (Property Modified)
	trunk/include/balloc.h (File Modified) (Property Modified)
	trunk/include/cache.h (File Modified) (Property Modified)
	trunk/include/channel.h (File Modified) (Property Modified)
	trunk/include/class.h (File Modified) (Property Modified)
	trunk/include/client.h (File Modified) (Property Modified)
	trunk/include/commio.h (File Modified) (Property Modified)
	trunk/include/common.h (File Modified) (Property Modified)
	trunk/include/config.h (File Modified) (Property Modified)
	trunk/include/config.h.dist (File Modified) (Property Modified)
	trunk/include/defaults.h (File Modified) (Property Modified)
	trunk/include/event.h (File Modified) (Property Modified)
	trunk/include/hash.h (File Modified) (Property Modified)
	trunk/include/hook.h (File Modified) (Property Modified)
	trunk/include/hostmask.h (File Modified) (Property Modified)
	trunk/include/irc_string.h (File Modified) (Property Modified)
	trunk/include/ircd.h (File Modified) (Property Modified)
	trunk/include/ircd_defs.h (File Modified) (Property Modified)
	trunk/include/ircd_getopt.h (File Modified) (Property Modified)
	trunk/include/ircd_signal.h (File Modified) (Property Modified)
	trunk/include/linebuf.h (File Modified) (Property Modified)
	trunk/include/listener.h (File Modified) (Property Modified)
	trunk/include/m_info.h (File Modified) (Property Modified)
	trunk/include/memory.h (File Modified) (Property Modified)
	trunk/include/modules.h (File Modified) (Property Modified)
	trunk/include/monitor.h (File Modified) (Property Modified)
	trunk/include/msg.h (File Modified) (Property Modified)
	trunk/include/newconf.h (File Modified) (Property Modified)
	trunk/include/numeric.h (File Modified) (Property Modified)
	trunk/include/packet.h (File Modified) (Property Modified)
	trunk/include/parse.h (File Modified) (Property Modified)
	trunk/include/patchlevel.h (File Modified) (Property Modified)
	trunk/include/patricia.h (File Modified) (Property Modified)
	trunk/include/reject.h (File Modified) (Property Modified)
	trunk/include/res.h (File Modified) (Property Modified)
	trunk/include/restart.h (File Modified) (Property Modified)
	trunk/include/s_auth.h (File Modified) (Property Modified)
	trunk/include/s_conf.h (File Modified) (Property Modified)
	trunk/include/s_gline.h (File Modified) (Property Modified)
	trunk/include/s_log.h (File Modified) (Property Modified)
	trunk/include/s_newconf.h (File Modified) (Property Modified)
	trunk/include/s_serv.h (File Modified) (Property Modified)
	trunk/include/s_stats.h (File Modified) (Property Modified)
	trunk/include/s_user.h (File Modified) (Property Modified)
	trunk/include/s_zip.h (File Modified) (Property Modified)
	trunk/include/scache.h (File Modified) (Property Modified)
	trunk/include/send.h (File Modified) (Property Modified)
	trunk/include/serno.h  (Property Modified)
	trunk/include/setup.h.in  (Property Modified)
	trunk/include/sprintf_irc.h (File Modified) (Property Modified)
	trunk/include/stdinc.h (File Modified) (Property Modified)
	trunk/include/supported.h (File Modified) (Property Modified)
	trunk/include/tools.h (File Modified) (Property Modified)
	trunk/include/whowas.h (File Modified) (Property Modified)
	trunk/install-sh (File Modified) (Property Modified)
	trunk/modules/.cvsignore  (Property Modified)
	trunk/modules/.depend  (Property Modified)
	trunk/modules/.indent.pro  (Property Modified)
	trunk/modules/Makefile.in (File Modified) (Property Modified)
	trunk/modules/core/m_die.c (File Modified) (Property Modified)
	trunk/modules/core/m_error.c (File Modified) (Property Modified)
	trunk/modules/core/m_join.c (File Modified) (Property Modified)
	trunk/modules/core/m_kick.c (File Modified) (Property Modified)
	trunk/modules/core/m_kill.c (File Modified) (Property Modified)
	trunk/modules/core/m_message.c (File Modified) (Property Modified)
	trunk/modules/core/m_mode.c (File Modified) (Property Modified)
	trunk/modules/core/m_nick.c (File Modified) (Property Modified)
	trunk/modules/core/m_part.c (File Modified) (Property Modified)
	trunk/modules/core/m_quit.c (File Modified) (Property Modified)
	trunk/modules/core/m_server.c (File Modified) (Property Modified)
	trunk/modules/core/m_sjoin.c (File Modified) (Property Modified)
	trunk/modules/core/m_squit.c (File Modified) (Property Modified)
	trunk/modules/m_accept.c (File Modified) (Property Modified)
	trunk/modules/m_admin.c (File Modified) (Property Modified)
	trunk/modules/m_away.c (File Modified) (Property Modified)
	trunk/modules/m_cap.c (File Modified) (Property Modified)
	trunk/modules/m_capab.c (File Modified) (Property Modified)
	trunk/modules/m_challenge.c (File Modified) (Property Modified)
	trunk/modules/m_chghost.c (File Modified) (Property Modified)
	trunk/modules/m_close.c (File Modified) (Property Modified)
	trunk/modules/m_cmessage.c (File Modified) (Property Modified)
	trunk/modules/m_connect.c (File Modified) (Property Modified)
	trunk/modules/m_dline.c (File Modified) (Property Modified)
	trunk/modules/m_encap.c (File Modified) (Property Modified)
	trunk/modules/m_etrace.c (File Modified) (Property Modified)
	trunk/modules/m_gline.c (File Modified) (Property Modified)
	trunk/modules/m_help.c (File Modified) (Property Modified)
	trunk/modules/m_info.c (File Modified) (Property Modified)
	trunk/modules/m_invite.c (File Modified) (Property Modified)
	trunk/modules/m_ison.c (File Modified) (Property Modified)
	trunk/modules/m_kline.c (File Modified) (Property Modified)
	trunk/modules/m_knock.c (File Modified) (Property Modified)
	trunk/modules/m_links.c (File Modified) (Property Modified)
	trunk/modules/m_list.c (File Modified) (Property Modified)
	trunk/modules/m_locops.c (File Modified) (Property Modified)
	trunk/modules/m_lusers.c (File Modified) (Property Modified)
	trunk/modules/m_map.c (File Modified) (Property Modified)
	trunk/modules/m_monitor.c (File Modified) (Property Modified)
	trunk/modules/m_motd.c (File Modified) (Property Modified)
	trunk/modules/m_names.c (File Modified) (Property Modified)
	trunk/modules/m_oper.c (File Modified) (Property Modified)
	trunk/modules/m_operspy.c (File Modified) (Property Modified)
	trunk/modules/m_pass.c (File Modified) (Property Modified)
	trunk/modules/m_ping.c (File Modified) (Property Modified)
	trunk/modules/m_pong.c (File Modified) (Property Modified)
	trunk/modules/m_post.c (File Modified) (Property Modified)
	trunk/modules/m_rehash.c (File Modified) (Property Modified)
	trunk/modules/m_restart.c (File Modified) (Property Modified)
	trunk/modules/m_resv.c (File Modified) (Property Modified)
	trunk/modules/m_services.c (File Modified) (Property Modified)
	trunk/modules/m_set.c (File Modified) (Property Modified)
	trunk/modules/m_stats.c (File Modified) (Property Modified)
	trunk/modules/m_svinfo.c (File Modified) (Property Modified)
	trunk/modules/m_tb.c (File Modified) (Property Modified)
	trunk/modules/m_testline.c (File Modified) (Property Modified)
	trunk/modules/m_testmask.c (File Modified) (Property Modified)
	trunk/modules/m_time.c (File Modified) (Property Modified)
	trunk/modules/m_topic.c (File Modified) (Property Modified)
	trunk/modules/m_trace.c (File Modified) (Property Modified)
	trunk/modules/m_unreject.c (File Modified) (Property Modified)
	trunk/modules/m_user.c (File Modified) (Property Modified)
	trunk/modules/m_userhost.c (File Modified) (Property Modified)
	trunk/modules/m_users.c (File Modified) (Property Modified)
	trunk/modules/m_version.c (File Modified) (Property Modified)
	trunk/modules/m_wallops.c (File Modified) (Property Modified)
	trunk/modules/m_who.c (File Modified) (Property Modified)
	trunk/modules/m_whois.c (File Modified) (Property Modified)
	trunk/modules/m_whowas.c (File Modified) (Property Modified)
	trunk/modules/m_xline.c (File Modified) (Property Modified)
	trunk/modules/static_modules.c.SH (File Modified) (Property Modified)
	trunk/servlink/.cvsignore  (Property Modified)
	trunk/servlink/.indent.pro  (Property Modified)
	trunk/servlink/Makefile.in (File Modified) (Property Modified)
	trunk/servlink/README (File Modified) (Property Modified)
	trunk/servlink/TODO (File Modified) (Property Modified)
	trunk/servlink/control.c (File Modified) (Property Modified)
	trunk/servlink/control.h (File Modified) (Property Modified)
	trunk/servlink/io.c (File Modified) (Property Modified)
	trunk/servlink/io.h (File Modified) (Property Modified)
	trunk/servlink/servlink.c (File Modified) (Property Modified)
	trunk/servlink/servlink.h (File Modified) (Property Modified)
	trunk/src/.cvsignore  (Property Modified)
	trunk/src/.depend  (Property Modified)
	trunk/src/.indent.pro  (Property Modified)
	trunk/src/Makefile.in (File Modified) (Property Modified)
	trunk/src/adns.c (File Modified) (Property Modified)
	trunk/src/balloc.c (File Modified) (Property Modified)
	trunk/src/cache.c (File Modified) (Property Modified)
	trunk/src/channel.c (File Modified) (Property Modified)
	trunk/src/class.c (File Modified) (Property Modified)
	trunk/src/client.c (File Modified) (Property Modified)
	trunk/src/commio.c (File Modified) (Property Modified)
	trunk/src/devpoll.c (File Modified) (Property Modified)
	trunk/src/epoll.c (File Modified) (Property Modified)
	trunk/src/event.c (File Modified) (Property Modified)
	trunk/src/getopt.c (File Modified) (Property Modified)
	trunk/src/hash.c (File Modified) (Property Modified)
	trunk/src/hook.c (File Modified) (Property Modified)
	trunk/src/hostmask.c (File Modified) (Property Modified)
	trunk/src/irc_string.c (File Modified) (Property Modified)
	trunk/src/ircd.c (File Modified) (Property Modified)
	trunk/src/ircd_lexer.l (File Modified) (Property Modified)
	trunk/src/ircd_parser.y (File Modified) (Property Modified)
	trunk/src/ircd_signal.c (File Modified) (Property Modified)
	trunk/src/kdparse.c (File Modified) (Property Modified)
	trunk/src/kqueue.c (File Modified) (Property Modified)
	trunk/src/linebuf.c (File Modified) (Property Modified)
	trunk/src/listener.c (File Modified) (Property Modified)
	trunk/src/match.c (File Modified) (Property Modified)
	trunk/src/memory.c (File Modified) (Property Modified)
	trunk/src/messages.tab (File Modified) (Property Modified)
	trunk/src/modules.c (File Modified) (Property Modified)
	trunk/src/monitor.c (File Modified) (Property Modified)
	trunk/src/newconf.c (File Modified) (Property Modified)
	trunk/src/numeric.c (File Modified) (Property Modified)
	trunk/src/packet.c (File Modified) (Property Modified)
	trunk/src/parse.c (File Modified) (Property Modified)
	trunk/src/patricia.c (File Modified) (Property Modified)
	trunk/src/poll.c (File Modified) (Property Modified)
	trunk/src/reject.c (File Modified) (Property Modified)
	trunk/src/restart.c (File Modified) (Property Modified)
	trunk/src/s_auth.c (File Modified) (Property Modified)
	trunk/src/s_conf.c (File Modified) (Property Modified)
	trunk/src/s_gline.c (File Modified) (Property Modified)
	trunk/src/s_log.c (File Modified) (Property Modified)
	trunk/src/s_newconf.c (File Modified) (Property Modified)
	trunk/src/s_serv.c (File Modified) (Property Modified)
	trunk/src/s_stats.c (File Modified) (Property Modified)
	trunk/src/s_user.c (File Modified) (Property Modified)
	trunk/src/scache.c (File Modified) (Property Modified)
	trunk/src/select.c (File Modified) (Property Modified)
	trunk/src/send.c (File Modified) (Property Modified)
	trunk/src/snprintf.c (File Modified) (Property Modified)
	trunk/src/tools.c (File Modified) (Property Modified)
	trunk/src/version.c.SH (File Modified) (Property Modified)
	trunk/src/whowas.c (File Modified) (Property Modified)
	trunk/tools/.cvsignore  (Property Modified)
	trunk/tools/Makefile.in (File Modified) (Property Modified)
	trunk/tools/README (File Modified) (Property Modified)
	trunk/tools/README.mkpasswd (File Modified) (Property Modified)
	trunk/tools/convertilines.c (File Modified) (Property Modified)
	trunk/tools/convertklines.c (File Modified) (Property Modified)
	trunk/tools/mkkeypair  (Property Modified)
	trunk/tools/mkpasswd.c (File Modified) (Property Modified)
	trunk/tools/rsa_respond/.cvsignore  (Property Modified)
	trunk/tools/rsa_respond/Makefile (File Modified) (Property Modified)
	trunk/tools/rsa_respond/README (File Modified) (Property Modified)
	trunk/tools/rsa_respond/challenge.irc (File Modified) (Property Modified)
	trunk/tools/rsa_respond/challenge.pl (File Modified) (Property Modified)
	trunk/tools/rsa_respond/respond.c (File Modified) (Property Modified)
	trunk/tools/rsa_respond/rsa_respond-insecure.diff (File Modified) (Property Modified)
	trunk/tools/untabify (File Modified) (Property Modified)
	trunk/tools/viconf.c (File Modified) (Property Modified)


nenolod     2005/09/10 00:57:52 UTC	(20050910-4)
  Log:
  - Update RELNOTES.
  

  Modified:
	trunk/RELNOTES (File Modified) 


nenolod     2005/09/10 00:50:51 UTC	(20050910-2)
  Log:
  - Make version.c use our serial, not ratbox's.
  

  Modified:
	trunk/src/version.c.SH (File Modified) 


leeh        2005/09/06 15:59:08 UTC	(20050906_2-20748)
  Log:
  - update RELNOTES
  - revved patchlevel to 2.1.5
  

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/RELNOTES (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/include/patchlevel.h (File Modified) 


leeh        2005/09/06 15:58:31 UTC	(20050906_1-20746)
  Log:
  - fix buffer overflow and unterminated buffer when removing TS6 bans
  - fix rebuilding of SJOIN
  

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/modules/core/m_sjoin.c (File Modified) 


androsyn    2005/09/06 02:31:24 UTC	(20050906_0-20728)
  Log:
  have servlink report if it gets an uncompressed error message when it gets inflate failures

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/servlink/io.c (File Modified) 


leeh        2005/08/31 20:59:02 UTC	(20050831_0-20702)
  Log:
  - extend our copyrights to 2005.
  

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/modules/core/m_die.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/core/m_error.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/core/m_join.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/core/m_kick.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/core/m_kill.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/core/m_message.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/core/m_mode.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/core/m_nick.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/core/m_part.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/core/m_quit.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/core/m_server.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/core/m_sjoin.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/core/m_squit.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_accept.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_admin.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_away.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_capab.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_challenge.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_close.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_connect.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_dline.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_encap.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_etrace.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_gline.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_help.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_info.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_invite.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_ison.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_kline.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_knock.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_links.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_list.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_locops.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_lusers.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_motd.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_names.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_oper.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_operspy.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_pass.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_ping.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_pong.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_post.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_rehash.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_restart.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_resv.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_set.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_stats.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_svinfo.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_tb.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_testline.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_topic.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_trace.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_unreject.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_user.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_userhost.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_users.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_version.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_wallops.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_who.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_whois.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_whowas.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_xline.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/static_modules.c.SH (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/adns.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/balloc.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/cache.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/channel.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/class.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/client.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/commio.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/devpoll.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/epoll.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/event.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/getopt.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/hash.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/hostmask.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/irc_string.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/ircd.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/kdparse.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/kqueue.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/linebuf.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/listener.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/memory.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/modules.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/numeric.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/packet.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/parse.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/poll.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/reject.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/restart.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/s_auth.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/s_conf.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/s_gline.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/s_log.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/s_newconf.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/s_serv.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/s_stats.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/s_user.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/scache.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/select.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/send.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/tools.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/version.c.SH (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/whowas.c (File Modified) 


leeh        2005/08/26 13:07:25 UTC	(20050826_1-20692)
  Log:
  - update RELNOTES
  - revved patchlevel to 2.1.4
  

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/RELNOTES (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/include/patchlevel.h (File Modified) 


leeh        2005/08/26 12:22:52 UTC	(20050826_0-20690)
  Log:
  - add TARGMAX to 005
  - remove the +1 from ->uid in struct Client
  - fix checking of accept entries in m_accept.c
  

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/include/client.h (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/include/supported.h (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_accept.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/s_user.c (File Modified) 


leeh        2005/08/23 19:28:33 UTC	(20050823_0-20664)
  Log:
  - via jilles, fix possibility of RPL_WHOISCHANNELS being cut when we
    send it over TS6
  

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/modules/m_whois.c (File Modified) 


leeh        2005/08/22 20:13:32 UTC	(20050822_1-20640)
  Log:
  - remove an unused variable
  

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/src/channel.c (File Modified) 


androsyn    2005/08/22 10:38:59 UTC	(20050822_0-20638)
  Log:
  don't burst a TS5 name in burst_TS6. -via jillies

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/src/s_serv.c (File Modified) 


leeh        2005/08/21 12:17:12 UTC	(20050821_1-20626)
  Log:
  - via jilles, make nickchanges invalidate any cached bans for
    quiet_on_ban
  

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/include/channel.h (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/core/m_nick.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_services.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/channel.c (File Modified) 


leeh        2005/08/21 11:25:46 UTC	(20050821_0-20624)
  Log:
  - fix some char vs byte usage to make adns compile cleanly with gcc4
  

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/adns/event.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/adns/general.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/adns/internal.h (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/adns/parse.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/adns/query.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/adns/reply.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/adns/transmit.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/adns/types.c (File Modified) 


androsyn    2005/07/31 05:12:43 UTC	(20050731_0-20607)
  Log:
  userhost should allow 5 userhost checks, not 4

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/modules/m_userhost.c (File Modified) 


leeh        2005/07/17 20:10:30 UTC	(20050717_2-20587)
  Log:
  - another darwin fix
  

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/src/monitor.c (File Modified) 


leeh        2005/07/17 18:55:27 UTC	(20050717_1-20583)
  Log:
  - darwin fixes
  

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/adns/Makefile.in (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/include/ircd_defs.h (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/include/newconf.h (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/include/s_conf.h (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/Makefile.in (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/modules/m_challenge.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/hash.c (File Modified) 
	ircd-ratbox/branches/RATBOX_2_1/src/whowas.c (File Modified) 


leeh        2005/07/17 17:00:02 UTC	(20050717_0-20575)
  Log:
  - remove bogus extern of abort_list
  

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/include/ircd.h (File Modified) 


androsyn    2005/07/08 00:37:30 UTC	(20050708_0-20553)
  Log:
  svn repo access stuff

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/SVN-Access (File Added) 


androsyn    2005/07/07 21:01:50 UTC	(20050707_1-20547)
  Log:
  test commit
  

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/RELNOTES (File Modified) 


androsyn    2005/07/07 21:01:50 UTC	(20050707_0-20547)
  Log:
  test commit
  

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/RELNOTES (File Modified) 


androsyn    2005/07/05 14:01:52 UTC	(20050705_2-19423)
  Log:
  revert omotd..i thought it was a good idea..oh well

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/modules/m_motd.c (File Modified) 


androsyn    2005/07/05 04:55:42 UTC	(20050705_1-19411)
  Log:
  Commas are bad things in channel keys
  

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/modules/core/m_mode.c (File Modified) 


androsyn    2005/07/05 04:16:51 UTC	(20050705_0-19405)
  Log:
  Add OMOTD command to display oper motd
  

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/modules/m_motd.c (File Modified) 


androsyn    2005/07/04 08:27:58 UTC	(20050704_0-19391)
  Log:
  set m->prev = NULL in dlinkAdd, as it could possibly cause issues

  Modified:
	ircd-ratbox/branches/RATBOX_2_1/include/tools.h (File Modified) 


leeh        2005/06/22 22:10:50 UTC	(20050622_0)

  Modified files:        (Branch: RATBOX_2_1)
    modules              m_whois.c 
  Log:
  - stop testing whois for protocol violations, as they can be caused in
    ircds going all the way back to the original ircd2.8
  
  Revision   Changes    Path
  1.147.4.1  +20 -2     ircd-ratbox/modules/m_whois.c



leeh        2005/06/16 23:10:21 UTC	(20050616_0)

  Modified files:        (Branch: RATBOX_2_1)
    modules              m_time.c 
  Log:
  - remove some 2.2 code
  
  Revision  Changes    Path
  1.45.8.2  +5 -4      ircd-ratbox/modules/m_time.c



androsyn    2005/06/15 18:55:24 UTC	(20050615_2)

  Modified files:        (Branch: RATBOX_2_1)
    modules              m_time.c 
  Log:
  backport of the silly december 31st bug
  
  Revision  Changes    Path
  1.45.8.1  +6 -7      ircd-ratbox/modules/m_time.c



leeh        2005/06/15 13:51:57 UTC	(20050615_1)

  Modified files:        (Branch: RATBOX_2_1)
    .                    RELNOTES 
    include              patchlevel.h 
  Log:
  - revved patchlevel to 2.1.3
  
  Revision   Changes    Path
  1.114.2.3  +18 -0     ircd-ratbox/RELNOTES
  7.73.2.3   +1 -1      ircd-ratbox/include/patchlevel.h



leeh        2005/06/15 01:54:00 UTC	(20050615_0)

  Modified files:        (Branch: RATBOX_2_1)
    include              client.h 
    modules              m_accept.c 
    modules/core         m_nick.c 
    src                  client.c 
  Log:
  - stop removing a clients own list of accepted clients when they do a
    nickchange
  - clean up the accept code so its less retarded
  
  Revision   Changes    Path
  7.266.4.3  +2 -2      ircd-ratbox/include/client.h
  1.161.4.5  +16 -2     ircd-ratbox/modules/core/m_nick.c
  1.59.4.1   +3 -2      ircd-ratbox/modules/m_accept.c
  7.492.4.1  +9 -63     ircd-ratbox/src/client.c



leeh        2005/06/14 12:44:47 UTC	(20050614_0)

  Modified files:        (Branch: RATBOX_2_1)
    include              event.h 
    modules              m_links.c 
    src                  event.c ircd.c newconf.c 
  Log:
  - remove a defn of links_cache_list in m_links.c which was causing
    the flattened links update to be ignored
  - add eventUpdate(), and make links_delay update on rehash
  
  Revision   Changes    Path
  1.19.8.1   +2 -0      ircd-ratbox/include/event.h
  1.70.4.1   +1 -2      ircd-ratbox/modules/m_links.c
  7.47.4.1   +25 -0     ircd-ratbox/src/event.c
  7.374.4.1  +1 -1      ircd-ratbox/src/ircd.c
  7.202.4.5  +2 -0      ircd-ratbox/src/newconf.c



leeh        2005/06/12 02:23:01 UTC	(20050612_2)

  Modified files:        (Branch: RATBOX_2_1)
    doc                  services.txt 
    src                  newconf.c 
  Log:
  - make the conf parser apply service {}; on rehash
  
  Revision   Changes    Path
  7.2.4.2    +8 -2      ircd-ratbox/doc/services.txt
  7.202.4.4  +24 -4     ircd-ratbox/src/newconf.c



leeh        2005/06/12 02:10:30 UTC	(20050612_1)

  Modified files:        (Branch: RATBOX_2_1)
    include              m_info.h 
  Log:
  - show ENABLE_SERVICES define in info
  
  Revision  Changes    Path
  7.56.4.2  +6 -0      ircd-ratbox/include/m_info.h



leeh        2005/06/12 01:44:37 UTC	(20050612_0)

  Modified files:        (Branch: RATBOX_2_1)
    modules              m_services.c m_stats.c 
  Log:
  - via jilles, make m_services.c hook into stats U and display service
    blocks
  
  Revision   Changes    Path
  1.6.4.7    +20 -1     ircd-ratbox/modules/m_services.c
  1.243.4.3  +4 -4      ircd-ratbox/modules/m_stats.c



leeh        2005/06/11 20:33:12 UTC	(20050611_3)

  Modified files:        (Branch: RATBOX_2_1)
    .                    configure configure.ac 
  Log:
  - default build to -O2
  
  Revision   Changes    Path
  7.249.2.2  +4 -4      ircd-ratbox/configure
  7.63.2.2   +4 -4      ircd-ratbox/configure.ac



leeh        2005/06/11 20:26:02 UTC	(20050611_2)

  Modified files:        (Branch: RATBOX_2_1)
    doc                  example.conf example.efnet.conf 
    include              client.h s_conf.h s_newconf.h 
    modules              m_info.c 
    modules/core         m_join.c m_nick.c 
    src                  channel.c newconf.c s_conf.c s_user.c 
  Log:
  - remove no_oper_resvs from general {};
  - add resv_exempt to auth {}; flags, exempts a user from nick/channel resvs
  
  Revision   Changes    Path
  7.261.4.3  +1 -3      ircd-ratbox/doc/example.conf
  7.89.4.3   +3 -3      ircd-ratbox/doc/example.efnet.conf
  7.266.4.2  +3 -0      ircd-ratbox/include/client.h
  7.315.4.1  +3 -2      ircd-ratbox/include/s_conf.h
  7.46.4.1   +2 -3      ircd-ratbox/include/s_newconf.h
  1.164.4.1  +4 -4      ircd-ratbox/modules/core/m_join.c
  1.161.4.4  +2 -2      ircd-ratbox/modules/core/m_nick.c
  1.122.4.1  +1 -7      ircd-ratbox/modules/m_info.c
  7.436.4.1  +1 -1      ircd-ratbox/src/channel.c
  7.202.4.3  +1 -1      ircd-ratbox/src/newconf.c
  7.511.4.2  +0 -1      ircd-ratbox/src/s_conf.c
  7.342.4.1  +8 -0      ircd-ratbox/src/s_user.c



leeh        2005/06/11 20:06:22 UTC	(20050611_1)

  Modified files:        (Branch: RATBOX_2_1)
    modules/core         m_mode.c m_nick.c 
    src                  s_newconf.c 
  Log:
  - 2.0 sync:
    - raise max temptime to a year
    - tidy up BMASK
    - require 9 parameters in ms_nick(), 10 in ms_uid()
  
  Revision   Changes    Path
  1.121.4.2  +23 -9     ircd-ratbox/modules/core/m_mode.c
  1.161.4.3  +23 -3     ircd-ratbox/modules/core/m_nick.c
  7.67.4.1   +2 -2      ircd-ratbox/src/s_newconf.c



leeh        2005/06/11 16:35:25 UTC	(20050611_0)

  Modified files:        (Branch: RATBOX_2_1)
    modules              m_services.c 
  Log:
  - only show services logged in info when its a local client
  
  Revision  Changes    Path
  1.6.4.6   +4 -1      ircd-ratbox/modules/m_services.c



androsyn    2005/06/03 19:12:17 UTC	(20050603_1)

  Modified files:        (Branch: RATBOX_2_1)
    src                  match.c 
  Log:
  passing a pointer to a pointer is not what was intended, oops
  
  Revision  Changes    Path
  7.42.4.1  +3 -3      ircd-ratbox/src/match.c



leeh        2005/06/03 11:18:11 UTC	(20050603_0)

  Modified files:        (Branch: RATBOX_2_1)
    doc                  services.txt 
  Log:
  - update services.txt with FNC
  
  Revision  Changes    Path
  7.2.4.1   +7 -0      ircd-ratbox/doc/services.txt



androsyn    2005/05/30 16:47:27 UTC	(20050530_0)

  Modified files:        (Branch: RATBOX_2_1)
    modules              m_resv.c 
  Log:
  use target_server and not parv[3] to check if the target server is us. thanks to jilles for the patch
  
  Revision  Changes    Path
  1.74.4.3  +2 -2      ircd-ratbox/modules/m_resv.c



leeh        2005/05/19 12:44:47 UTC	(20050519_1)

  Modified files:        (Branch: RATBOX_2_1)
    src                  s_auth.c 
  Log:
  - add some uniqueness into auth process for bopm
  
  Revision   Changes    Path
  7.192.4.3  +5 -0      ircd-ratbox/src/s_auth.c



leeh        2005/05/19 08:50:26 UTC	(20050519_0)

  Modified files:        (Branch: RATBOX_2_1)
    contrib              m_mkpasswd.c m_ojoin.c m_olist.c m_opme.c 
  Log:
  - make contrib/ compile
  
  Revision  Changes    Path
  1.12.8.1  +2 -1      ircd-ratbox/contrib/m_mkpasswd.c
  1.24.6.1  +2 -1      ircd-ratbox/contrib/m_ojoin.c
  1.14.6.1  +2 -1      ircd-ratbox/contrib/m_olist.c
  1.44.6.1  +2 -1      ircd-ratbox/contrib/m_opme.c



androsyn    2005/05/18 22:01:55 UTC	(20050518_0)

  Modified files:        (Branch: RATBOX_2_1)
    modules              m_monitor.c 
  Log:
  Don't allow MONITOR from an unregistered client
  
  Revision  Changes    Path
  1.3.4.1   +2 -2      ircd-ratbox/modules/m_monitor.c



leeh        2005/05/17 13:16:11 UTC	(20050517_0)

  Modified files:        (Branch: RATBOX_2_1)
    doc                  example.conf example.efnet.conf 
    include              class.h 
    src                  class.c messages.tab newconf.c 
  Log:
  - remove sendq_eob, its become more of a hindrance than a benefit.
  - sync example.efnet.conf cluster {}; with example.conf
  
  Revision   Changes    Path
  7.261.4.2  +0 -3      ircd-ratbox/doc/example.conf
  7.89.4.2   +17 -12    ircd-ratbox/doc/example.efnet.conf
  7.25.4.1   +0 -3      ircd-ratbox/include/class.h
  7.68.4.1   +2 -8      ircd-ratbox/src/class.c
  7.126.4.1  +1 -1      ircd-ratbox/src/messages.tab
  7.202.4.2  +0 -7      ircd-ratbox/src/newconf.c



leeh        2005/05/11 22:39:00 UTC	(20050511_5)

  Modified files:        (Branch: RATBOX_2_1)
    .                    RELNOTES 
    include              patchlevel.h 
  Log:
  - update RELNOTES
  - revved patchlevel to 2.1.2
  
  Revision   Changes    Path
  1.114.2.2  +17 -0     ircd-ratbox/RELNOTES
  7.73.2.2   +1 -1      ircd-ratbox/include/patchlevel.h



leeh        2005/05/11 22:29:18 UTC	(20050511_4)

  Modified files:        (Branch: RATBOX_2_1)
    .                    configure configure.ac 
  Log:
  - raise default topiclen to 160.
  
  Revision   Changes    Path
  7.249.2.1  +3 -3      ircd-ratbox/configure
  7.63.2.1   +3 -3      ircd-ratbox/configure.ac



leeh        2005/05/11 22:22:13 UTC	(20050511_3)

  Modified files:        (Branch: RATBOX_2_1)
    modules              m_services.c 
  Log:
  - add a current tsinfo param to RSFNC, only accept the fnc if the clients
    tsinfo matches this
  
  Revision  Changes    Path
  1.6.4.5   +23 -7     ircd-ratbox/modules/m_services.c



leeh        2005/05/11 21:58:41 UTC	(20050511_2)

  Modified files:        (Branch: RATBOX_2_1)
    modules              m_services.c 
  Log:
  - monitor_signoff() the client we're nickchanging
  
  Revision  Changes    Path
  1.6.4.4   +3 -1      ircd-ratbox/modules/m_services.c



leeh        2005/05/11 21:52:51 UTC	(20050511_1)

  Modified files:        (Branch: RATBOX_2_1)
    modules              m_trace.c 
  Log:
  - fix various UID problems with trace
  
  Revision   Changes    Path
  1.107.4.1  +16 -9     ircd-ratbox/modules/m_trace.c



leeh        2005/05/11 21:22:02 UTC	(20050511_0)

  Modified files:        (Branch: RATBOX_2_1)
    help/opers           dline kline 
    modules              m_resv.c m_stats.c 
    modules/core         m_mode.c 
  Log:
  - sync with 2.0
    - tidy up kline/dline help to note they dont accept nick as target
    - disallow bans beginning with ':' over bmask
    - disallow bans with a space in chm_ban
    - stop counting hidden opers in stats p
    - match() parameters in remote unresv were inverted, causing it to fail
    - fix possibility of clients setting blank keys
  
  Revision   Changes    Path
  1.2.18.1   +1 -4      ircd-ratbox/help/opers/dline
  1.2.24.1   +1 -1      ircd-ratbox/help/opers/kline
  1.121.4.1  +15 -5     ircd-ratbox/modules/core/m_mode.c
  1.74.4.2   +2 -2      ircd-ratbox/modules/m_resv.c
  1.243.4.2  +5 -3      ircd-ratbox/modules/m_stats.c



leeh        2005/05/08 22:37:18 UTC	(20050508_0)

  Modified files:        (Branch: RATBOX_2_1)
    src                  send.c 
  Log:
  - fix problems with amd64 and the way we do va_list
  
  Revision   Changes    Path
  7.286.4.1  +35 -21    ircd-ratbox/src/send.c



leeh        2005/05/07 13:35:57 UTC	(20050507_1)

  Modified files:        (Branch: RATBOX_2_1)
    modules              m_services.c 
  Log:
  - tidy up the kill notifications for RSFNC
  
  Revision  Changes    Path
  1.6.4.3   +9 -2      ircd-ratbox/modules/m_services.c



leeh        2005/05/07 10:35:54 UTC	(20050507_0)

  Modified files:        (Branch: RATBOX_2_1)
    include              s_serv.h 
    modules              m_services.c 
    src                  s_serv.c 
  Log:
  - some more rserv stuff:
    - add RSFNC capability
    - fix up RSFNC, kill existing clients if they exist.
  
  Revision   Changes    Path
  7.97.4.1   +3 -1      ircd-ratbox/include/s_serv.h
  1.6.4.2    +24 -13    ircd-ratbox/modules/m_services.c
  7.426.4.1  +1 -0      ircd-ratbox/src/s_serv.c



leeh        2005/05/06 23:50:29 UTC	(20050506_0)

  Modified files:        (Branch: RATBOX_2_1)
    modules              m_services.c 
  Log:
  - first stab at a FNC implementation for rserv
  
  Revision  Changes    Path
  1.6.4.1   +86 -2     ircd-ratbox/modules/m_services.c



leeh        2005/05/03 09:30:51 UTC	(20050503_0)

  Modified files:        (Branch: RATBOX_2_1)
    help/opers           umode 
  Log:
  - remove a tab
  
  Revision  Changes    Path
  1.5.4.2   +1 -1      ircd-ratbox/help/opers/umode



leeh        2005/05/02 22:46:52 UTC	(20050502_0)

  Modified files:        (Branch: RATBOX_2_1)
    src                  newconf.c 
  Log:
  - add links_delay back
  
  Revision   Changes    Path
  7.202.4.1  +15 -0     ircd-ratbox/src/newconf.c



leeh        2005/04/27 21:50:30 UTC	(20050427_1)

  Modified files:        (Branch: RATBOX_2_1)
    help/opers           umode 
    help/users           umode 
  Log:
  - swap tabs for spaces
  
  Revision  Changes    Path
  1.5.4.1   +1 -1      ircd-ratbox/help/opers/umode
  1.2.4.1   +1 -1      ircd-ratbox/help/users/umode



leeh        2005/04/27 21:38:20 UTC	(20050427_0)

  Modified files:        (Branch: RATBOX_2_1)
    include              m_info.h 
  Log:
  - remove the CLIENT_FLOOD define from m_info.h, as the informations already
    contained in the client_flood conf option
  - remove a couple of unused defines from info
  
  Revision  Changes    Path
  7.56.4.1  +0 -20     ircd-ratbox/include/m_info.h



androsyn    2005/04/26 16:04:29 UTC	(20050426_0)

  Modified files:        (Branch: RATBOX_2_1)
    src                  s_conf.c 
  Log:
  use the correct field and swap to host byte order when displaying the Unauthorised connection message
  
  Revision   Changes    Path
  7.511.4.1  +2 -2      ircd-ratbox/src/s_conf.c



leeh        2005/04/17 13:31:34 UTC	(20050417_0)

  Modified files:        (Branch: RATBOX_2_1)
    doc                  example.conf example.efnet.conf 
  Log:
  - fix missing closing comment tag
  
  Revision   Changes    Path
  7.261.4.1  +1 -1      ircd-ratbox/doc/example.conf
  7.89.4.1   +1 -1      ircd-ratbox/doc/example.efnet.conf



leeh        2005/04/12 18:44:21 UTC	(20050412_2)

  Modified files:        (Branch: RATBOX_2_1)
    .                    RELNOTES 
    include              patchlevel.h 
  Log:
  - revved patchlevel to 2.1.1
  
  Revision   Changes    Path
  1.114.2.1  +11 -0     ircd-ratbox/RELNOTES
  7.73.2.1   +1 -1      ircd-ratbox/include/patchlevel.h



leeh        2005/04/12 18:36:31 UTC	(20050412_1)

  Modified files:        (Branch: RATBOX_2_1)
    modules              m_kline.c 
  Log:
  - sync up remote kline reasons, so theyre consistent with what happens
    when we add local klines - notably the "Temporary K-line x min" and
    date added to reason.
  
  Revision   Changes    Path
  1.200.4.1  +14 -5     ircd-ratbox/modules/m_kline.c



leeh        2005/04/12 01:52:06 UTC	(20050412_0)

  Modified files:        (Branch: RATBOX_2_1)
    doc                  monitor.txt 
  Log:
  - force the monitor spec to state RPL_MONONLINE must give n!u@h
  
  Revision  Changes    Path
  1.3.4.2   +1 -4      ircd-ratbox/doc/monitor.txt



androsyn    2005/04/08 22:00:05 UTC	(20050408_0)

  Modified files:        (Branch: RATBOX_2_1)
    src                  commio.c 
  Log:
  used the data pointer we saved, not what just got nulled
  
  Revision  Changes    Path
  1.27.4.1  +1 -1      ircd-ratbox/src/commio.c



leeh        2005/04/05 12:14:32 UTC	(20050405_0)

  Modified files:        (Branch: RATBOX_2_1)
    modules              m_resv.c m_xline.c 
  Log:
  - fix broken propagation of xline/resv
  
  Revision  Changes    Path
  1.74.4.1  +2 -2      ircd-ratbox/modules/m_resv.c
  1.67.4.1  +2 -2      ircd-ratbox/modules/m_xline.c



leeh        2005/04/04 18:32:37 UTC	(20050404_1)

  Modified files:        (Branch: RATBOX_2_1)
    src                  s_auth.c 
  Log:
  - properly increment bad auth count for stats T when we timeout an auth
  
  Revision   Changes    Path
  7.192.4.2  +1 -0      ircd-ratbox/src/s_auth.c



leeh        2005/04/04 17:24:14 UTC	(20050404_0)

  Modified files:        (Branch: RATBOX_2_1)
    doc                  monitor.txt 
    include              client.h 
    modules/core         m_nick.c 
  Log:
  - fix a bit that didnt make sense in monitor.txt
  - make HOSTIPLEN always v6 sized, so we can always store a v6 clients ip
  
  Revision   Changes    Path
  1.3.4.1    +1 -1      ircd-ratbox/doc/monitor.txt
  7.266.4.1  +2 -4      ircd-ratbox/include/client.h
  1.161.4.2  +2 -13     ircd-ratbox/modules/core/m_nick.c



androsyn    2005/03/28 21:55:44 UTC	(20050328_1)

  Modified files:        (Branch: RATBOX_2_1)
    src                  s_auth.c 
  Log:
  removing dlink nodes from auth_poll_list twice is bad
  
  Revision   Changes    Path
  7.192.4.1  +0 -1      ircd-ratbox/src/s_auth.c



leeh        2005/03/28 02:17:38 UTC	(20050328_0)

  Modified files:        (Branch: RATBOX_2_1)
    modules              m_stats.c 
  Log:
  - move stats L back to RPL_STATSLINKINFO, im not quite sure why this got
    changed to RPL_STATSDEBUG
  
  Revision   Changes    Path
  1.243.4.1  +4 -4      ircd-ratbox/modules/m_stats.c



leeh        2005/03/27 02:19:04 UTC	(20050327_0)

  Added files:           (Branch: RATBOX_2_1)
    doc                  tgchange.txt 
  Log:
  - add some documentation about target change
  
  Revision  Changes    Path
  1.1.2.1   +38 -0     ircd-ratbox/doc/tgchange.txt (new)



leeh        2005/03/25 16:46:29 UTC	(20050325_1)

  Modified files:        (Branch: RATBOX_2_1)
    include              supported.h 
    modules/core         m_message.c 
  Log:
  - remove extra argument to 005
  - disallow messaging of UIDs
  
  Revision   Changes    Path
  7.5.4.2    +1 -1      ircd-ratbox/include/supported.h
  1.162.4.2  +11 -3     ircd-ratbox/modules/core/m_message.c



leeh        2005/03/25 14:20:13 UTC	(20050325_0)

  Modified files:        (Branch: RATBOX_2_1)
    src                  parse.c 
  Log:
  - fix a longstanding parser bug with wrong limit checking, causing us to
    accept one less parameter than we're allowed to accept.
  
  Revision   Changes    Path
  7.187.4.1  +7 -4      ircd-ratbox/src/parse.c



leeh        2005/03/24 13:41:45 UTC	(20050324_0)

  Modified files:        (Branch: RATBOX_2_1)
    modules/core         m_message.c 
  Log:
  - exempt users messaging themselves from target change
  
  Revision   Changes    Path
  1.162.4.1  +5 -1      ircd-ratbox/modules/core/m_message.c



leeh        2005/03/22 13:15:53 UTC	(20050322_0)

  Modified files:        (Branch: RATBOX_2_1)
    include              supported.h 
  Log:
  - stop violating MAXPARA on 005.
  
  Revision  Changes    Path
  7.5.4.1   +3 -4      ircd-ratbox/include/supported.h



leeh        2005/03/20 17:41:00 UTC	(20050320_1)

  Modified files:        (Branch: RATBOX_2_1)
    modules/core         m_nick.c 
  Log:
  - dont store an ipv6 sockhost if we're not compiled with v6 support
  
  Revision   Changes    Path
  1.161.4.1  +13 -2     ircd-ratbox/modules/core/m_nick.c



leeh        2005/03/20 00:32:04 UTC	(20050320_0)

  Modified files:        (Branch: RATBOX_2_1)
    include              stdinc.h 
  Log:
  - remove some vms includes
  
  Revision  Changes    Path
  1.19.4.1  +0 -46     ircd-ratbox/include/stdinc.h



leeh        2005/03/18 16:47:38 UTC	(20050318_1)

  Modified files:        (Branch: RATBOX_2_1)
    .                    ChangeLog 
    include              serno.h 
  Log:
  - force commit for new branch
  
  Revision    Changes    Path
  1.1694.2.1  +0 -0      ircd-ratbox/ChangeLog
  7.5463.2.1  +0 -0      ircd-ratbox/include/serno.h



leeh        2005/03/18 16:44:47 UTC	(20050318_0)

  Modified files:
    .                    RELNOTES configure configure.ac 
    include              patchlevel.h 
  Log:
  - revved patchlevel to 2.1.0
  
  Revision  Changes    Path
  1.114     +6 -2      ircd-ratbox/RELNOTES
  7.249     +11 -11    ircd-ratbox/configure
  7.63      +3 -3      ircd-ratbox/configure.ac
  7.73      +1 -1      ircd-ratbox/include/patchlevel.h



leeh        2005/03/04 13:31:32 EST	(20050304_2)

  Modified files:
    .                    RELNOTES 
    include              patchlevel.h 
  Log:
  - update RELNOTES
  - revved patchlevel to 2.1.0beta2
  
  Revision  Changes    Path
  1.113     +12 -0     ircd-ratbox/RELNOTES
  7.72      +1 -1      ircd-ratbox/include/patchlevel.h



leeh        2005/03/04 13:27:05 EST	(20050304_1)

  Modified files:
    doc                  whats-new-2.1.txt 
    src                  channel.c 
  Log:
  - update whats-new-2.1
  - when we're handling global NAMES, dont output channels if there are no
    members within them we can show.
  
  Revision  Changes    Path
  7.3       +9 -2      ircd-ratbox/doc/whats-new-2.1.txt
  7.436     +12 -2     ircd-ratbox/src/channel.c



androsyn    2005/03/04 12:38:07 EST	(20050304_0)

  Modified files:
    src                  patricia.c 
  Log:
  That would be a node_heap not a prefix_heap..oops
  
  Revision  Changes    Path
  7.30      +1 -1      ircd-ratbox/src/patricia.c



androsyn    2005/02/26 19:38:35 EST	(20050227_4)

  Modified files:
    include              stdinc.h 
  Log:
  sort out some alloca related stupidness.  if we have gcc just use the builtin for it
  otherwise..the other macros might work????
  
  Revision  Changes    Path
  1.19      +15 -6     ircd-ratbox/include/stdinc.h



androsyn    2005/02/26 19:26:04 EST	(20050227_3)

  Modified files:
    .                    configure configure.ac 
  Log:
  i hate autoconf
  
  Revision  Changes    Path
  7.248     +5 -5      ircd-ratbox/configure
  7.62      +5 -5      ircd-ratbox/configure.ac



androsyn    2005/02/26 19:15:55 EST	(20050227_2)

  Modified files:
    .                    configure configure.ac 
  Log:
  i hate autoconf
  
  Revision  Changes    Path
  7.247     +3 -2      ircd-ratbox/configure
  7.61      +3 -2      ircd-ratbox/configure.ac



androsyn    2005/02/26 19:13:45 EST	(20050227_1)

  Modified files:
    .                    configure configure.ac 
  Log:
  doh
  
  Revision  Changes    Path
  7.246     +6 -6      ircd-ratbox/configure
  7.60      +4 -4      ircd-ratbox/configure.ac



androsyn    2005/02/26 19:10:17 EST	(20050227_0)

  Modified files:
    .                    configure configure.ac 
    include              stdinc.h 
  Log:
  Doh these changes got put on RATBOX_2_0 when they were meant for
  head..oops...
  Also merged in the monitor heap size stuff, not that i think monitor has
  been moved to head
  
  Revision  Changes    Path
  7.245     +12 -3     ircd-ratbox/configure
  7.59      +11 -3     ircd-ratbox/configure.ac
  1.18      +57 -20    ircd-ratbox/include/stdinc.h



androsyn    2005/02/26 18:52:24 EST	(20050226_0)

  Modified files:
    include              stdinc.h 
  Log:
  Add more robust alloca checking
  
  Revision  Changes    Path
  1.17      +20 -11    ircd-ratbox/include/stdinc.h



leeh        2005/02/24 15:27:17 EST	(20050224_9)

  Modified files:
    contrib              m_42.c 
  Log:
  - fix the copyright on m_42.c :p
  
  Revision  Changes    Path
  1.4       +2 -2      ircd-ratbox/contrib/m_42.c



leeh        2005/02/24 15:22:53 EST	(20050224_8)

  Modified files:
    include              supported.h 
    modules              m_dline.c 
  Log:
  - fix a core in undline on bad masks
  - remove an unwanted space from beginning of second 005 numeric
  
  Revision  Changes    Path
  7.5       +1 -1      ircd-ratbox/include/supported.h
  1.49      +8 -1      ircd-ratbox/modules/m_dline.c



leeh        2005/02/24 15:18:59 EST	(20050224_7)

  Modified files:
    modules              m_monitor.c 
  Log:
  - use max_monitor when adding nicknames
  - add in monitor s
    that should be everything now..
  
  Revision  Changes    Path
  1.3       +90 -1     ircd-ratbox/modules/m_monitor.c



androsyn    2005/02/24 15:13:52 EST	(20050224_6)

  Modified files:
    contrib              m_42.c 
  Log:
  42
  
  Revision  Changes    Path
  1.3       +1 -1      ircd-ratbox/contrib/m_42.c



androsyn    2005/02/24 15:13:06 EST	(20050224_5)

  Modified files:
    contrib              m_42.c 
  Log:
  42
  
  Revision  Changes    Path
  1.2       +1 -1      ircd-ratbox/contrib/m_42.c



androsyn    2005/02/24 15:12:12 EST	(20050224_4)

  Added files:
    contrib              m_42.c 
  Log:
  The Answer to Life, the Universe, and Everything
  
  Revision  Changes    Path
  1.1       +35 -0     ircd-ratbox/contrib/m_42.c (new)



leeh        2005/02/24 14:53:04 EST	(20050224_3)

  Modified files:
    include              monitor.h 
    modules              m_monitor.c 
    src                  ircd.c monitor.c 
  Log:
  - call init_monitor() on startup
  - add in support for adding/deleting/listing monitor entries
  
  Revision  Changes    Path
  7.2       +3 -1      ircd-ratbox/include/monitor.h
  1.2       +155 -1    ircd-ratbox/modules/m_monitor.c
  7.374     +2 -0      ircd-ratbox/src/ircd.c
  7.3       +15 -4     ircd-ratbox/src/monitor.c



leeh        2005/02/23 21:20:10 EST	(20050224_2)

  Modified files:
    doc                  example.conf example.efnet.conf 
    include              s_conf.h supported.h 
    modules              Makefile.in 
    src                  client.c newconf.c s_conf.c 
  Added files:
    modules              m_monitor.c 
  Log:
  - add the max_monitor config option
  - advertise MONITOR=%d in 005
  - clear a local clients monitor list on exit
  - add the framework for the MONITOR command
  - bed.
  
  Revision  Changes    Path
  7.261     +5 -0      ircd-ratbox/doc/example.conf
  7.89      +5 -0      ircd-ratbox/doc/example.efnet.conf
  7.315     +1 -0      ircd-ratbox/include/s_conf.h
  7.4       +4 -2      ircd-ratbox/include/supported.h
  1.119     +1 -0      ircd-ratbox/modules/Makefile.in
  1.1       +95 -0     ircd-ratbox/modules/m_monitor.c (new)
  7.492     +1 -0      ircd-ratbox/src/client.c
  7.202     +1 -0      ircd-ratbox/src/newconf.c
  7.511     +1 -0      ircd-ratbox/src/s_conf.c



leeh        2005/02/23 20:57:51 EST	(20050224_1)

  Modified files:
    .                    configure configure.ac 
    include              setup.h.in 
    src                  monitor.c 
  Log:
  - move MONITOR_HEAP_SIZE over to configure
  
  Revision  Changes    Path
  7.244                ircd-ratbox/configure
  7.58      +4 -2      ircd-ratbox/configure.ac
  7.95      +3 -0      ircd-ratbox/include/setup.h.in
  7.2       +0 -2      ircd-ratbox/src/monitor.c



leeh        2005/02/23 20:48:08 EST	(20050224_0)

  Modified files:
    doc                  monitor.txt 
    include              client.h numeric.h 
    modules/core         m_nick.c 
    src                  Makefile.in client.c messages.tab 
                         s_user.c 
  Added files:
    include              monitor.h 
    src                  monitor.c 
  Log:
  - first half of my server-side notify list implementation..
  
  Revision  Changes    Path
  1.3       +2 -2      ircd-ratbox/doc/monitor.txt
  7.266     +3 -0      ircd-ratbox/include/client.h
  7.1       +30 -0     ircd-ratbox/include/monitor.h (new)
  7.58      +6 -0      ircd-ratbox/include/numeric.h
  1.161     +17 -3     ircd-ratbox/modules/core/m_nick.c
  7.155     +1 -0      ircd-ratbox/src/Makefile.in
  7.491     +3 -0      ircd-ratbox/src/client.c
  7.126     +5 -5      ircd-ratbox/src/messages.tab
  7.1       +182 -0    ircd-ratbox/src/monitor.c (new)
  7.342     +2 -0      ircd-ratbox/src/s_user.c



leeh        2005/02/23 18:42:59 EST	(20050223_0)

  Modified files:
    include              hash.h 
  Log:
  - double the size of the client and channel hashtables (64k -> 128k and
    32k -> 64k).  The improvements are quite significant..
  
  Revision  Changes    Path
  7.54      +4 -4      ircd-ratbox/include/hash.h



leeh        2005/02/22 14:55:56 EST	(20050222_1)

  Modified files:
    doc                  monitor.txt 
    modules              m_services.c 
  Log:
  - remove a couple of unused vars
  - update monitor.txt
  
  Revision  Changes    Path
  1.2       +14 -0     ircd-ratbox/doc/monitor.txt
  1.6       +1 -4      ircd-ratbox/modules/m_services.c



leeh        2005/02/21 19:47:24 EST	(20050222_0)

  Added files:
    doc                  monitor.txt 
  Log:
  - add in my documentation on the upcoming MONITOR command
  
  Revision  Changes    Path
  1.1       +100 -0    ircd-ratbox/doc/monitor.txt (new)



leeh        2005/02/21 12:09:34 EST	(20050221_0)

  Modified files:
    .                    configure configure.ac 
    doc                  whats-new-2.1.txt 
    tools                README.mkpasswd 
  Removed files:
    src                  crypt.c 
  Log:
  - update whats-new-2.1.txt some more
  - we dont have vms mkpasswd anymore
  - remove the unused crypt.c
  
  Revision  Changes    Path
  7.243     +3 -6      ircd-ratbox/configure
  7.57      +2 -4      ircd-ratbox/configure.ac
  7.2       +2 -0      ircd-ratbox/doc/whats-new-2.1.txt
  7.13      +0 -504    ircd-ratbox/src/crypt.c (dead)
  1.9       +0 -3      ircd-ratbox/tools/README.mkpasswd



leeh        2005/02/19 12:38:09 EST	(20050219_3)

  Modified files:
    doc                  example.conf example.efnet.conf 
    include              ircd.h 
    modules              m_pong.c 
    src                  channel.c client.c ircd.c s_conf.c 
  Log:
  - rework the splitcode, splitservers is now how many servers we've marked as
    EOB, rather than how many are linked.  Thus pull ourselves out of
    splitmode immediately once this is satisfied
  
  Revision  Changes    Path
  7.260     +8 -9      ircd-ratbox/doc/example.conf
  7.88      +10 -11    ircd-ratbox/doc/example.efnet.conf
  7.83      +1 -0      ircd-ratbox/include/ircd.h
  1.60      +2 -1      ircd-ratbox/modules/m_pong.c
  7.435     +16 -36    ircd-ratbox/src/channel.c
  7.490     +2 -0      ircd-ratbox/src/client.c
  7.373     +2 -1      ircd-ratbox/src/ircd.c
  7.510     +11 -3     ircd-ratbox/src/s_conf.c



leeh        2005/02/19 09:02:34 EST	(20050219_2)

  Modified files:
    doc                  example.conf example.efnet.conf 
    include              ircd.h s_conf.h 
    modules              m_set.c 
    src                  channel.c ircd.c newconf.c s_conf.c 
  Log:
  - remove split_delay
  
  Revision  Changes    Path
  7.259     +0 -5      ircd-ratbox/doc/example.conf
  7.87      +0 -5      ircd-ratbox/doc/example.efnet.conf
  7.82      +0 -1      ircd-ratbox/include/ircd.h
  7.314     +0 -1      ircd-ratbox/include/s_conf.h
  1.81      +1 -20     ircd-ratbox/modules/m_set.c
  7.434     +2 -7      ircd-ratbox/src/channel.c
  7.372     +0 -1      ircd-ratbox/src/ircd.c
  7.201     +0 -1      ircd-ratbox/src/newconf.c
  7.509     +0 -1      ircd-ratbox/src/s_conf.c



leeh        2005/02/19 08:48:05 EST	(20050219_1)

  Modified files:
    include              client.h 
    modules              m_cap.c m_who.c 
    src                  channel.c 
  Log:
  - implemented multi-prefix client capability, which allows stacking of @+ in
    names and who
  
  Revision  Changes    Path
  7.265     +1 -1      ircd-ratbox/include/client.h
  1.6       +6 -15     ircd-ratbox/modules/m_cap.c
  1.115     +4 -3      ircd-ratbox/modules/m_who.c
  7.433     +4 -6      ircd-ratbox/src/channel.c



leeh        2005/02/19 06:27:58 EST	(20050219_0)

  Modified files:
    modules              m_etrace.c 
    src                  newconf.c s_conf.c s_newconf.c 
  Log:
  - removed some unused vars/functions
  
  Revision  Changes    Path
  1.15      +1 -2      ircd-ratbox/modules/m_etrace.c
  7.200     +0 -15     ircd-ratbox/src/newconf.c
  7.508     +0 -1      ircd-ratbox/src/s_conf.c
  7.67      +0 -1      ircd-ratbox/src/s_newconf.c



leeh        2005/02/16 12:58:24 EST	(20050216_2)

  Modified files:
    .                    RELNOTES configure configure.ac 
    include              patchlevel.h 
  Log:
  - update configure to reflect this is 'devel'
  - update RELNOTES
  - revved patchlevel to 2.1.0beta1
  
  Revision  Changes    Path
  1.112     +9 -1      ircd-ratbox/RELNOTES
  7.242     +11 -11    ircd-ratbox/configure
  7.56      +3 -3      ircd-ratbox/configure.ac
  7.71      +1 -1      ircd-ratbox/include/patchlevel.h



leeh        2005/02/16 12:46:30 EST	(20050216_1)

  Modified files:
    .                    configure configure.ac 
    include              client.h numeric.h s_conf.h setup.h.in 
                         supported.h 
    modules              Makefile.in 
    modules/core         m_nick.c 
    src                  Makefile.in client.c ircd.c messages.tab 
                         newconf.c s_conf.c s_user.c 
  Removed files:
    include              watch.h 
    modules              m_watch.c 
    src                  watch.c 
  Log:
  - remove watch, the protocol for this sucks so hard I just dont want it
    here ;-)
  
  Revision  Changes    Path
  7.241     +2 -12     ircd-ratbox/configure
  7.55      +2 -4      ircd-ratbox/configure.ac
  7.264     +0 -2      ircd-ratbox/include/client.h
  7.57      +0 -11     ircd-ratbox/include/numeric.h
  7.313     +0 -1      ircd-ratbox/include/s_conf.h
  7.94      +0 -3      ircd-ratbox/include/setup.h.in
  7.3       +2 -3      ircd-ratbox/include/supported.h
  7.4       +0 -53     ircd-ratbox/include/watch.h (dead)
  1.118     +0 -1      ircd-ratbox/modules/Makefile.in
  1.160     +1 -16     ircd-ratbox/modules/core/m_nick.c
  1.8       +0 -272    ircd-ratbox/modules/m_watch.c (dead)
  7.154     +0 -1      ircd-ratbox/src/Makefile.in
  7.489     +0 -3      ircd-ratbox/src/client.c
  7.371     +0 -2      ircd-ratbox/src/ircd.c
  7.125     +9 -9      ircd-ratbox/src/messages.tab
  7.199     +0 -1      ircd-ratbox/src/newconf.c
  7.507     +0 -1      ircd-ratbox/src/s_conf.c
  7.341     +0 -2      ircd-ratbox/src/s_user.c
  1.7       +0 -239    ircd-ratbox/src/watch.c (dead)



leeh        2005/02/15 19:13:31 EST	(20050216_0)

  Modified files:
    include              stdinc.h 
    src                  event.c ircd_lexer.l ircd_signal.c 
                         modules.c 
  Removed files:
    servlink             descrip.mms 
  Log:
  - remove a few vms bits
  
  Revision  Changes    Path
  1.16      +0 -46     ircd-ratbox/include/stdinc.h
  1.4       +0 -15     ircd-ratbox/servlink/descrip.mms (dead)
  7.47      +0 -54     ircd-ratbox/src/event.c
  1.168     +1 -5      ircd-ratbox/src/ircd_lexer.l
  7.27      +0 -25     ircd-ratbox/src/ircd_signal.c
  7.152     +0 -3      ircd-ratbox/src/modules.c



leeh        2005/02/15 18:53:32 EST	(20050215_0)

  Modified files:
    include              hostmask.h ircd.h s_conf.h s_newconf.h 
    modules              m_dline.c m_kline.c m_rehash.c m_resv.c 
                         m_xline.c 
    src                  hostmask.c ircd.c ircd_signal.c s_conf.c 
                         s_newconf.c 
  Log:
  - we now no longer rehash kline.conf etc on rehash, only ircd.conf
  - SIGUSR2 or /rehash bans will now reread kline.conf etc.
  
  Revision  Changes    Path
  1.42      +1 -0      ircd-ratbox/include/hostmask.h
  7.81      +1 -0      ircd-ratbox/include/ircd.h
  7.312     +1 -0      ircd-ratbox/include/s_conf.h
  7.46      +1 -0      ircd-ratbox/include/s_newconf.h
  1.48      +2 -2      ircd-ratbox/modules/m_dline.c
  1.200     +2 -2      ircd-ratbox/modules/m_kline.c
  1.89      +11 -1     ircd-ratbox/modules/m_rehash.c
  1.74      +2 -2      ircd-ratbox/modules/m_resv.c
  1.67      +2 -2      ircd-ratbox/modules/m_xline.c
  7.106     +35 -1     ircd-ratbox/src/hostmask.c
  7.370     +7 -0      ircd-ratbox/src/ircd.c
  7.26      +10 -0     ircd-ratbox/src/ircd_signal.c
  7.506     +59 -47    ircd-ratbox/src/s_conf.c
  7.66      +7 -0      ircd-ratbox/src/s_newconf.c



leeh        2005/02/13 10:21:41 EST	(20050213_4)

  Modified files:
    doc                  services.txt 
  Added files:
    doc                  whats-new-2.0.txt whats-new-2.1.txt 
  Removed files:
    doc                  whats-new.txt 
  Log:
  - move whats-new.txt to whats-new-2.0.txt
  - add in whats-new-2.1.txt
  - update services.txt with the whois for logged in users
  
  Revision  Changes    Path
  7.2       +5 -0      ircd-ratbox/doc/services.txt
  7.1       +113 -0    ircd-ratbox/doc/whats-new-2.0.txt (new)
  7.1       +60 -0     ircd-ratbox/doc/whats-new-2.1.txt (new)
  7.51      +0 -113    ircd-ratbox/doc/whats-new.txt (dead)



leeh        2005/02/13 09:20:37 EST	(20050213_3)

  Modified files:
    include              supported.h 
    modules/core         m_message.c 
  Log:
  - fix a compile error in m_message.c
  - update 005 to the spec and add CPRIVMSG/CNOTICE
  
  Revision  Changes    Path
  7.2       +31 -37    ircd-ratbox/include/supported.h
  1.162     +2 -2      ircd-ratbox/modules/core/m_message.c



leeh        2005/02/13 09:14:12 EST	(20050213_2)

  Modified files:
    src                  channel.c 
  Log:
  - fix the membership memleak
  
  Revision  Changes    Path
  7.432     +0 -3      ircd-ratbox/src/channel.c



leeh        2005/02/12 21:51:56 EST	(20050213_1)

  Modified files:
    include              client.h 
    modules/core         m_message.c 
  Log:
  - add a bitmask to track when they send their first message, only allowing
    clearing stuff after that.
  
  Revision  Changes    Path
  7.263     +4 -0      ircd-ratbox/include/client.h
  1.161     +13 -2     ircd-ratbox/modules/core/m_message.c



leeh        2005/02/12 21:17:52 EST	(20050213_0)

  Modified files:
    include              patricia.h s_newconf.h 
    modules/core         m_message.c 
    src                  patricia.c s_newconf.c s_user.c 
  Log:
  - add in the patricia for tracking who fills up targets, give them a reduced
    count on connect
  
  Revision  Changes    Path
  7.20      +1 -1      ircd-ratbox/include/patricia.h
  7.45      +17 -0     ircd-ratbox/include/s_newconf.h
  1.160     +43 -4     ircd-ratbox/modules/core/m_message.c
  7.29      +1 -1      ircd-ratbox/src/patricia.c
  7.65      +36 -0     ircd-ratbox/src/s_newconf.c
  7.340     +4 -0      ircd-ratbox/src/s_user.c



leeh        2005/02/12 18:35:10 EST	(20050212_0)

  Modified files:
    include              ircd_defs.h 
    src                  class.c reject.c 
  Log:
  - add a PATRICIA_BITS define, make calls to New_Patricia() use it.
  
  Revision  Changes    Path
  7.55      +5 -0      ircd-ratbox/include/ircd_defs.h
  7.68      +1 -5      ircd-ratbox/src/class.c
  1.33      +1 -5      ircd-ratbox/src/reject.c



androsyn    2005/02/11 17:11:57 EST	(20050211_1)

  Modified files:
    modules              m_watch.c 
  Log:
  remove stupid memory leak
  
  Revision  Changes    Path
  1.7       +1 -2      ircd-ratbox/modules/m_watch.c



leeh        2005/02/11 06:42:48 EST	(20050211_0)

  Modified files:
    modules              m_gline.c 
  Log:
  - workaround hyb6 allowing empty gline reasons
  
  Revision  Changes    Path
  1.150     +10 -2     ircd-ratbox/modules/m_gline.c



leeh        2005/02/09 14:39:13 EST	(20050209_2)

  Modified files:
    include              s_conf.h 
    modules              m_dline.c m_kline.c m_rehash.c m_stats.c 
    src                  ircd.c s_conf.c 
  Log:
  - move temp dlines and temp klines over to an array, rather than completely
    seperate dlinks.
  
  Revision  Changes    Path
  7.311     +11 -20    ircd-ratbox/include/s_conf.h
  1.47      +4 -15     ircd-ratbox/modules/m_dline.c
  1.199     +4 -15     ircd-ratbox/modules/m_kline.c
  1.88      +42 -26    ircd-ratbox/modules/m_rehash.c
  1.243     +22 -31    ircd-ratbox/modules/m_stats.c
  7.369     +0 -5      ircd-ratbox/src/ircd.c
  7.505     +78 -104   ircd-ratbox/src/s_conf.c



leeh        2005/02/09 14:02:13 EST	(20050209_1)

  Modified files:
    include              s_user.h 
    modules              m_cap.c m_pong.c m_user.c 
    modules/core         m_nick.c 
    src                  s_user.c 
  Log:
  - remove 'nick' param from register_local_user(), its not needed.
  
  Revision  Changes    Path
  7.35      +1 -1      ircd-ratbox/include/s_user.h
  1.159     +2 -2      ircd-ratbox/modules/core/m_nick.c
  1.5       +2 -2      ircd-ratbox/modules/m_cap.c
  1.59      +2 -3      ircd-ratbox/modules/m_pong.c
  1.46      +2 -2      ircd-ratbox/modules/m_user.c
  7.339     +6 -6      ircd-ratbox/src/s_user.c



leeh        2005/02/09 13:12:53 EST	(20050209_0)

  Modified files:
    modules              m_cmessage.c 
  Log:
  - dont send numerics when we're dealing with CNOTICE
  - add in checking for +g, and resetting idle
  
  Revision  Changes    Path
  1.2       +41 -7     ircd-ratbox/modules/m_cmessage.c



leeh        2005/02/08 11:37:50 EST	(20050208_2)

  Modified files:
    src                  s_newconf.c 
  Log:
  - fix operator blocks to work on ip spoofs
  
  Revision  Changes    Path
  7.64      +9 -8      ircd-ratbox/src/s_newconf.c



leeh        2005/02/07 19:23:22 EST	(20050208_1)

  Modified files:
    doc                  example.conf example.efnet.conf 
    src                  newconf.c 
  Log:
  - removed ability to set klines/dlines/xlines/resvs in ircd.conf
  
  Revision  Changes    Path
  7.258     +0 -39     ircd-ratbox/doc/example.conf
  7.86      +0 -42     ircd-ratbox/doc/example.efnet.conf
  7.198     +0 -272    ircd-ratbox/src/newconf.c



leeh        2005/02/07 19:19:32 EST	(20050208_0)

  Modified files:
    src                  s_conf.c 
  Log:
  - added support for kline.conf.perm et al, these take the same formats
    as their non-permanent partners, but you cant remove them via the ircd.
  
  Revision  Changes    Path
  7.504     +33 -67    ircd-ratbox/src/s_conf.c



leeh        2005/02/02 19:18:59 EST	(20050203_1)

  Modified files:
    help                 Makefile.in 
    help/opers           index 
    help/users           index 
  Added files:
    help/opers           cnotice cprivmsg 
  Log:
  - added help files for cprivmsg/cnotice
  
  Revision  Changes    Path
  1.23      +3 -2      ircd-ratbox/help/Makefile.in
  1.1       +5 -0      ircd-ratbox/help/opers/cnotice (new)
  1.1       +5 -0      ircd-ratbox/help/opers/cprivmsg (new)
  1.10      +19 -19    ircd-ratbox/help/opers/index
  1.7       +10 -9     ircd-ratbox/help/users/index



leeh        2005/02/02 19:14:25 EST	(20050203_0)

  Modified files:
    include              numeric.h 
    modules              Makefile.in 
    src                  messages.tab 
  Added files:
    modules              m_cmessage.c 
  Log:
  - implemented CPRIVMSG/CNOTICE, stolen from undernet.  Take the form:
    CPRIVMSG <nick> <channel> :<text>.  Work if sender is +ov in channel, and
    nick is a member.  These bypass any target change limitations.
  - added ERR_VOICENEEDED, numeric 489.
  
  Revision  Changes    Path
  7.56      +2 -0      ircd-ratbox/include/numeric.h
  1.117     +1 -0      ircd-ratbox/modules/Makefile.in
  1.1       +122 -0    ircd-ratbox/modules/m_cmessage.c (new)
  7.124     +1 -1      ircd-ratbox/src/messages.tab



leeh        2005/02/02 16:58:16 EST	(20050202_4)

  Modified files:
    help/opers           etrace 
  Log:
  - update etrace help
  
  Revision  Changes    Path
  1.3       +7 -1      ircd-ratbox/help/opers/etrace



leeh        2005/02/02 16:55:04 EST	(20050202_3)

  Modified files:
    modules              m_etrace.c 
  Log:
  - tidy up etrace slightly, stop showing fullcaps for spoofed users as mirc
    can put its external ip address in there..
  
  Revision  Changes    Path
  1.14      +31 -41    ircd-ratbox/modules/m_etrace.c



leeh        2005/02/02 16:41:06 EST	(20050202_2)

  Modified files:
    modules              m_etrace.c 
  Log:
  - patch via nenolod, allows ETRACE <nick>, gets sent remotely over ENCAP
    if its a non-local client.  These will just get "lost" if the remote
    server doesnt support this..
  
  Revision  Changes    Path
  1.13      +66 -4     ircd-ratbox/modules/m_etrace.c



leeh        2005/02/02 16:12:12 EST	(20050202_1)

  Modified files:
    include              client.h numeric.h s_conf.h 
    modules/core         m_message.c 
    src                  messages.tab newconf.c s_conf.c 
  Log:
  - first part of the target change code, add the storage of targets for
    localuser, throttle messages when they fill all the available slots
  
  Revision  Changes    Path
  7.262     +5 -1      ircd-ratbox/include/client.h
  7.55      +2 -0      ircd-ratbox/include/numeric.h
  7.310     +1 -0      ircd-ratbox/include/s_conf.h
  1.159     +65 -1     ircd-ratbox/modules/core/m_message.c
  7.123     +1 -1      ircd-ratbox/src/messages.tab
  7.197     +1 -0      ircd-ratbox/src/newconf.c
  7.503     +1 -0      ircd-ratbox/src/s_conf.c



leeh        2005/02/02 13:28:10 EST	(20050202_0)

  Modified files:
    modules              m_resv.c m_stats.c m_testline.c 
    modules/core         m_join.c 
    src                  hash.c kdparse.c messages.tab s_newconf.c 
  Log:
  - patch via nenolod, <nenolod -at- noderebellion.net> to add counter
    tracking of when resvs get hit
  
  Revision  Changes    Path
  1.164     +7 -1      ircd-ratbox/modules/core/m_join.c
  1.73      +3 -1      ircd-ratbox/modules/m_resv.c
  1.242     +5 -5      ircd-ratbox/modules/m_stats.c
  1.55      +6 -1      ircd-ratbox/modules/m_testline.c
  7.114     +3 -0      ircd-ratbox/src/hash.c
  7.43      +2 -0      ircd-ratbox/src/kdparse.c
  7.122     +1 -1      ircd-ratbox/src/messages.tab
  7.63      +3 -0      ircd-ratbox/src/s_newconf.c



leeh        2005/01/31 09:04:10 EST	(20050131_2)

  Modified files:
    src                  s_log.c 
  Log:
  - fflush() logfiles
  
  Revision  Changes    Path
  7.79      +2 -0      ircd-ratbox/src/s_log.c



leeh        2005/01/31 08:59:09 EST	(20050131_1)

  Modified files:
    src                  commio.c 
  Log:
  - rename fd_dump() to comm_dump()
  
  Revision  Changes    Path
  1.27      +2 -2      ircd-ratbox/src/commio.c



leeh        2005/01/30 19:16:08 EST	(20050131_0)

  Modified files:
    doc                  hooks.txt 
    include              hook.h 
    modules              m_services.c 
    modules/core         m_server.c 
    src                  hook.c s_serv.c 
  Log:
  - added hook for server_introduced
  - fixed up services support for hooks
  
  Revision  Changes    Path
  1.4       +10 -0     ircd-ratbox/doc/hooks.txt
  1.31      +1 -0      ircd-ratbox/include/hook.h
  1.152     +6 -1      ircd-ratbox/modules/core/m_server.c
  1.5       +8 -22     ircd-ratbox/modules/m_services.c
  7.36      +2 -0      ircd-ratbox/src/hook.c
  7.426     +5 -0      ircd-ratbox/src/s_serv.c



androsyn    2005/01/29 20:18:12 EST	(20050130_1)

  Modified files:
    src                  commio.c 
  Log:
  Add back in the comm_fd_hack thing for solaris
  
  Revision  Changes    Path
  1.26      +26 -1     ircd-ratbox/src/commio.c



androsyn    2005/01/29 19:59:17 EST	(20050130_0)

  Modified files:
    adns                 adns.h 
    include              commio.h s_conf.h watch.h 
    modules              m_dline.c m_kline.c m_resv.c m_stats.c 
                         m_watch.c m_xline.c 
    modules/core         m_nick.c 
    src                  balloc.c cache.c client.c commio.c 
                         epoll.c ircd.c ircd_lexer.l kdparse.c 
                         listener.c s_auth.c s_conf.c s_log.c 
                         s_serv.c watch.c 
  Log:
  Do the fb* to f* mangle and then fix watch to prevent stupid crap
  
  Revision  Changes    Path
  1.18      +0 -2      ircd-ratbox/adns/adns.h
  1.14      +6 -37     ircd-ratbox/include/commio.h
  7.309     +6 -6      ircd-ratbox/include/s_conf.h
  7.3       +2 -2      ircd-ratbox/include/watch.h
  1.158     +3 -3      ircd-ratbox/modules/core/m_nick.c
  1.46      +13 -13    ircd-ratbox/modules/m_dline.c
  1.198     +12 -12    ircd-ratbox/modules/m_kline.c
  1.72      +11 -11    ircd-ratbox/modules/m_resv.c
  1.241     +3 -3      ircd-ratbox/modules/m_stats.c
  1.6       +60 -21    ircd-ratbox/modules/m_watch.c
  1.66      +16 -16    ircd-ratbox/modules/m_xline.c
  7.85      +1 -1      ircd-ratbox/src/balloc.c
  1.24      +5 -5      ircd-ratbox/src/cache.c
  7.488     +4 -4      ircd-ratbox/src/client.c
  1.25      +10 -280   ircd-ratbox/src/commio.c
  1.33      +1 -1      ircd-ratbox/src/epoll.c
  7.368     +4 -4      ircd-ratbox/src/ircd.c
  1.167     +6 -6      ircd-ratbox/src/ircd_lexer.l
  7.42      +8 -8      ircd-ratbox/src/kdparse.c
  7.125     +8 -8      ircd-ratbox/src/listener.c
  7.192     +6 -6      ircd-ratbox/src/s_auth.c
  7.502     +21 -21    ircd-ratbox/src/s_conf.c
  7.78      +20 -20    ircd-ratbox/src/s_log.c
  7.425     +8 -8      ircd-ratbox/src/s_serv.c
  1.6       +22 -15    ircd-ratbox/src/watch.c



androsyn    2005/01/29 12:18:38 EST	(20050129_0)

  Modified files:
    modules/core         m_mode.c 
  Log:
  remove two unused variables
  
  Revision  Changes    Path
  1.121     +1 -3      ircd-ratbox/modules/core/m_mode.c



leeh        2005/01/28 15:31:40 EST	(20050128_1)

  Modified files:
    modules              m_kline.c 
    src                  s_conf.c 
  Log:
  - mo_kline() needs minpara of 3, not 2
  - drop ms_kline() minpara to 5, to counter a bug in 1.5-3
  - require me.info is never blank
  
  Revision  Changes    Path
  1.197     +9 -2      ircd-ratbox/modules/m_kline.c
  7.501     +2 -2      ircd-ratbox/src/s_conf.c



leeh        2005/01/28 15:26:28 EST	(20050128_0)

  Modified files:
    modules/core         m_mode.c m_sjoin.c 
  Log:
  - patch via jilles to fix +eI lists being shown to lusers when handling
    protocol stuff over TS6
  
  Revision  Changes    Path
  1.120     +7 -3      ircd-ratbox/modules/core/m_mode.c
  1.205     +8 -8      ircd-ratbox/modules/core/m_sjoin.c



leeh        2005/01/25 19:47:38 EST	(20050126_0)

  Modified files:
    include              channel.h 
    modules/core         m_join.c m_mode.c m_sjoin.c 
    src                  channel.c messages.tab s_serv.c 
  Log:
  - remove loc_channel_modes(), made channel_modes() handle IsMe() and make
    an operspy call with &me
  - remove modebuf/parabuf params from channel_modes(), we now generate a
    buffer internally which we return.
  
  Revision  Changes    Path
  7.163     +1 -1      ircd-ratbox/include/channel.h
  1.163     +12 -14    ircd-ratbox/modules/core/m_join.c
  1.119     +4 -47     ircd-ratbox/modules/core/m_mode.c
  1.204     +9 -12     ircd-ratbox/modules/core/m_sjoin.c
  7.431     +25 -18    ircd-ratbox/src/channel.c
  7.121     +1 -1      ircd-ratbox/src/messages.tab
  7.424     +6 -14     ircd-ratbox/src/s_serv.c



alz         2005/01/25 18:09:18 EST	(20050125_5)

  Modified files:
    doc                  example.conf example.efnet.conf 
    include              s_conf.h 
    modules              m_info.c 
    src                  listener.c newconf.c s_conf.c 
  Log:
  Added dline_with_reason config option (default yes):
  
  /* dline reason: show the user the dline reason when they connect
   * and are dlined.
   */
  dline_with_reason = yes;
  
  Revision  Changes    Path
  7.257     +6 -1      ircd-ratbox/doc/example.conf
  7.85      +6 -1      ircd-ratbox/doc/example.efnet.conf
  7.308     +1 -0      ircd-ratbox/include/s_conf.h
  1.122     +7 -1      ircd-ratbox/modules/m_info.c
  7.124     +1 -1      ircd-ratbox/src/listener.c
  7.196     +1 -0      ircd-ratbox/src/newconf.c
  7.500     +1 -0      ircd-ratbox/src/s_conf.c



leeh        2005/01/25 13:21:17 EST	(20050125_4)

  Modified files:
    src                  newconf.c 
  Log:
  - make conf_set_generic_string() test len exists before it uses it.
  
  Revision  Changes    Path
  7.195     +1 -1      ircd-ratbox/src/newconf.c



leeh        2005/01/25 13:10:56 EST	(20050125_3)

  Modified files:
    doc                  example.conf 
    src                  newconf.c 
  Log:
  - rename 'type' to 'flags' in cluster {};
  - add stacking of servers in cluster {}; documented in example.conf
  
  Revision  Changes    Path
  7.256     +18 -10    ircd-ratbox/doc/example.conf
  7.194     +39 -7     ircd-ratbox/src/newconf.c



alz         2005/01/25 12:48:54 EST	(20050125_2)

  Modified files:
    include              s_conf.h 
    src                  listener.c s_conf.c 
  Log:
  Added dline reasons, connecting/banned clients now see ban reason.
  
  Revision  Changes    Path
  7.307     +1 -1      ircd-ratbox/include/s_conf.h
  7.123     +17 -4     ircd-ratbox/src/listener.c
  7.499     +5 -5      ircd-ratbox/src/s_conf.c



leeh        2005/01/25 07:44:37 EST	(20050125_1)

  Modified files:
    doc                  example.conf example.efnet.conf 
    src                  newconf.c 
  Log:
  - implement stacking of shared {}; blocks, documented in example.conf
  
  Revision  Changes    Path
  7.255     +26 -13    ircd-ratbox/doc/example.conf
  7.84      +27 -14    ircd-ratbox/doc/example.efnet.conf
  7.193     +51 -36    ircd-ratbox/src/newconf.c



leeh        2005/01/24 19:08:29 EST	(20050125_0)

  Modified files:
    doc                  example.conf 
    include              client.h s_conf.h 
    modules/core         m_join.c 
    src                  newconf.c s_user.c 
  Log:
  - added jupe_exempt to auth {};, exempts the user from generating warnings
    when they attempt to join juped channels.
  
  Revision  Changes    Path
  7.254     +2 -0      ircd-ratbox/doc/example.conf
  7.261     +3 -0      ircd-ratbox/include/client.h
  7.306     +2 -0      ircd-ratbox/include/s_conf.h
  1.162     +5 -2      ircd-ratbox/modules/core/m_join.c
  7.192     +1 -0      ircd-ratbox/src/newconf.c
  7.338     +8 -0      ircd-ratbox/src/s_user.c



leeh        2005/01/24 18:57:02 EST	(20050124_6)

  Modified files:
    src                  newconf.c 
  Log:
  - rework shared {};, the format is now:
    shared {
        oper = "flame@*.leeh.co.uk", "*.lan";
        flags = kline;
    };
  
    With no privs:
    shared {
        oper = "flame@*.leeh.co.uk", "*.lan";
        flags = none;
    };
  
  Revision  Changes    Path
  7.191     +55 -23    ircd-ratbox/src/newconf.c



leeh        2005/01/24 17:25:58 EST	(20050124_5)

  Modified files:
    include              modules.h 
  Log:
  - fix the prototype on load_static_modules()
  
  Revision  Changes    Path
  7.61      +1 -1      ircd-ratbox/include/modules.h



leeh        2005/01/24 16:00:30 EST	(20050124_4)

  Modified files:
    modules              m_cap.c 
  Log:
  - have cap end call register_local_user() with its own copy of
    source_p->username so its safe for unidented users..
  
  Revision  Changes    Path
  1.4       +6 -2      ircd-ratbox/modules/m_cap.c



leeh        2005/01/24 15:48:09 EST	(20050124_3)

  Modified files:
    include              newconf.h s_conf.h 
    modules              m_info.c 
    src                  newconf.c s_conf.c s_log.c 
  Log:
  - move the conf parser over to a table based structure, with generic setting
    of integers/strings
  
  Revision  Changes    Path
  7.34      +9 -8      ircd-ratbox/include/newconf.h
  7.305     +13 -13    ircd-ratbox/include/s_conf.h
  1.121     +13 -16    ircd-ratbox/modules/m_info.c
  7.190     +264 -808  ircd-ratbox/src/newconf.c
  7.498     +11 -13    ircd-ratbox/src/s_conf.c
  7.77      +13 -13    ircd-ratbox/src/s_log.c



leeh        2005/01/24 13:11:30 EST	(20050124_2)

  Modified files:
    doc                  example.conf 
    src                  newconf.c 
  Log:
  - added stacking of ips in exempt {};
  
  Revision  Changes    Path
  7.253     +4 -0      ircd-ratbox/doc/example.conf
  7.189     +11 -30    ircd-ratbox/src/newconf.c



leeh        2005/01/24 12:59:57 EST	(20050124_1)

  Modified files:
    include              tools.h 
    src                  channel.c client.c hash.c hook.c 
                         newconf.c s_user.c watch.c 
  Log:
  - moved dlinkFind*() to be (node, list) rather than (list, node) so its
    consistent with the rest of the dlink code.
  
  Revision  Changes    Path
  1.54      +7 -7      ircd-ratbox/include/tools.h
  7.430     +2 -2      ircd-ratbox/src/channel.c
  7.487     +6 -6      ircd-ratbox/src/client.c
  7.113     +5 -5      ircd-ratbox/src/hash.c
  7.35      +1 -1      ircd-ratbox/src/hook.c
  7.188     +2 -2      ircd-ratbox/src/newconf.c
  7.337     +1 -1      ircd-ratbox/src/s_user.c
  1.5       +4 -4      ircd-ratbox/src/watch.c



leeh        2005/01/24 12:47:13 EST	(20050124_0)

  Modified files:
    modules              m_cap.c 
  Log:
  - cheap hack on sticky capabs..
  
  Revision  Changes    Path
  1.3       +4 -2      ircd-ratbox/modules/m_cap.c



leeh        2005/01/22 11:36:54 EST	(20050122_0)

  Modified files:
    modules              m_cap.c 
  Log:
  - updated my clicap implementation to match the spec so far..
  
  Revision  Changes    Path
  1.2       +84 -11    ircd-ratbox/modules/m_cap.c



leeh        2005/01/21 07:14:43 EST	(20050121_2)

  Modified files:
    doc                  hooks.txt 
    include              hook.h 
    modules              m_services.c 
    src                  hook.c s_serv.c 
  Log:
  - added hooks for when we're sending a burst
  - rewrote hooks.txt
  - fix up the hooks ive already done in services compatibility, ill add the
    hooks for server/client introductions in a bit.
  
  Revision  Changes    Path
  1.3       +71 -33    ircd-ratbox/doc/hooks.txt
  1.30      +4 -0      ircd-ratbox/include/hook.h
  1.4       +24 -35    ircd-ratbox/modules/m_services.c
  7.34      +7 -0      ircd-ratbox/src/hook.c
  7.423     +26 -2     ircd-ratbox/src/s_serv.c



leeh        2005/01/21 06:34:03 EST	(20050121_1)

  Modified files:
    contrib              example_module.c spy_admin_notice.c 
                         spy_info_notice.c spy_links_notice.c 
                         spy_motd_notice.c spy_stats_notice.c 
                         spy_stats_p_notice.c spy_trace_notice.c 
                         spy_whois_notice.c 
                         spy_whois_notice_global.c 
    include              hook.h 
    modules              m_admin.c m_info.c m_links.c m_motd.c 
                         m_services.c m_stats.c m_trace.c 
                         m_whois.c static_modules.c.SH 
    modules/core         m_server.c 
    src                  client.c hook.c ircd.c modules.c packet.c 
                         s_auth.c s_serv.c s_user.c send.c 
  Log:
  - add a better implementation of the hook system, its now a slow leaking
    array and events are created whenever we try adding a hook for it, or
    theyre registered for the caller.
  
    Ive temporarily fucked services support and removed most of the other
    hooks.. I shall fix this soon.
  
  Revision  Changes    Path
  1.13      +6 -7      ircd-ratbox/contrib/example_module.c
  1.14      +6 -8      ircd-ratbox/contrib/spy_admin_notice.c
  1.14      +6 -8      ircd-ratbox/contrib/spy_info_notice.c
  1.20      +8 -8      ircd-ratbox/contrib/spy_links_notice.c
  1.14      +6 -8      ircd-ratbox/contrib/spy_motd_notice.c
  1.21      +22 -22    ircd-ratbox/contrib/spy_stats_notice.c
  1.13      +6 -8      ircd-ratbox/contrib/spy_stats_p_notice.c
  1.15      +10 -12    ircd-ratbox/contrib/spy_trace_notice.c
  1.20      +15 -14    ircd-ratbox/contrib/spy_whois_notice.c
  1.9       +14 -14    ircd-ratbox/contrib/spy_whois_notice_global.c
  1.29      +34 -70    ircd-ratbox/include/hook.h
  1.151     +1 -3      ircd-ratbox/modules/core/m_server.c
  1.62      +5 -6      ircd-ratbox/modules/m_admin.c
  1.120     +5 -6      ircd-ratbox/modules/m_info.c
  1.70      +6 -6      ircd-ratbox/modules/m_links.c
  1.58      +5 -6      ircd-ratbox/modules/m_motd.c
  1.3       +13 -1     ircd-ratbox/modules/m_services.c
  1.240     +10 -11    ircd-ratbox/modules/m_stats.c
  1.107     +8 -9      ircd-ratbox/modules/m_trace.c
  1.147     +8 -8      ircd-ratbox/modules/m_whois.c
  1.10      +2 -2      ircd-ratbox/modules/static_modules.c.SH
  7.486     +1 -28     ircd-ratbox/src/client.c
  7.33      +131 -137  ircd-ratbox/src/hook.c
  7.367     +1 -1      ircd-ratbox/src/ircd.c
  7.151     +6 -10     ircd-ratbox/src/modules.c
  7.138     +10 -14    ircd-ratbox/src/packet.c
  7.191     +0 -3      ircd-ratbox/src/s_auth.c
  7.422     +0 -16     ircd-ratbox/src/s_serv.c
  7.336     +0 -6      ircd-ratbox/src/s_user.c
  7.286     +8 -6      ircd-ratbox/src/send.c



leeh        2005/01/20 19:19:20 EST	(20050121_0)

  Modified files:
    include              hostmask.h 
  Log:
  - remove an unused struct
  
  Revision  Changes    Path
  1.41      +0 -9      ircd-ratbox/include/hostmask.h



leeh        2005/01/20 13:38:39 EST	(20050120_1)

  Modified files:
    .                    configure configure.ac 
    include              client.h numeric.h patchlevel.h 
    modules              Makefile.in 
    src                  messages.tab s_user.c 
  Added files:
    modules              m_cap.c 
  Log:
  - drop back to -O0, fix patchlevel.h
  - first stab at client capabilities.. this still needs work.
  
  Revision  Changes    Path
  7.240     +3 -3      ircd-ratbox/configure
  7.54      +3 -3      ircd-ratbox/configure.ac
  7.260     +3 -0      ircd-ratbox/include/client.h
  7.54      +2 -0      ircd-ratbox/include/numeric.h
  7.70      +1 -3      ircd-ratbox/include/patchlevel.h
  1.116     +1 -0      ircd-ratbox/modules/Makefile.in
  1.1       +405 -0    ircd-ratbox/modules/m_cap.c (new)
  7.120     +1 -1      ircd-ratbox/src/messages.tab
  7.335     +3 -0      ircd-ratbox/src/s_user.c



leeh        2005/01/20 06:04:41 EST	(20050120_0)

  Modified files:
    .                    ChangeLog RELNOTES 
    include              config.h config.h.dist memory.h 
                         patchlevel.h 
    modules              m_stats.c 
    src                  commio.c crypt.c getopt.c ircd.c s_serv.c 
  Removed files:
    .                    README.VMS clean.com make.com 
    include              setup.h_vms 
    modules              descrip.mms static_modules_c.com 
    modules/core         descrip.mms 
    src                  descrip.mms qio.c version.com 
    tools                descrip.mms mkpasswd_vms.c 
  Log:
  - clean changelog, relnotes
  - mark patchlevel as 2.1.0beta
  - remove VMS support
  
  Revision  Changes    Path
  1.1613    +0 -27165  ircd-ratbox/ChangeLog
  7.2       +0 -46     ircd-ratbox/README.VMS (dead)
  1.111     +1 -348    ircd-ratbox/RELNOTES
  7.2       +0 -10     ircd-ratbox/clean.com (dead)
  7.182     +0 -42     ircd-ratbox/include/config.h
  7.79      +0 -42     ircd-ratbox/include/config.h.dist
  7.50      +0 -4      ircd-ratbox/include/memory.h
  7.69      +1 -6      ircd-ratbox/include/patchlevel.h
  7.16      +0 -124    ircd-ratbox/include/setup.h_vms (dead)
  7.2       +0 -58     ircd-ratbox/make.com (dead)
  1.5       +0 -24     ircd-ratbox/modules/core/descrip.mms (dead)
  1.10      +0 -33     ircd-ratbox/modules/descrip.mms (dead)
  1.239     +1 -10     ircd-ratbox/modules/m_stats.c
  1.6       +0 -125    ircd-ratbox/modules/static_modules_c.com (dead)
  1.24      +7 -30     ircd-ratbox/src/commio.c
  7.12      +0 -4      ircd-ratbox/src/crypt.c
  7.15      +0 -44     ircd-ratbox/src/descrip.mms (dead)
  7.24      +0 -4      ircd-ratbox/src/getopt.c
  7.366     +4 -19     ircd-ratbox/src/ircd.c
  7.8       +0 -221    ircd-ratbox/src/qio.c (dead)
  7.421     +1 -8      ircd-ratbox/src/s_serv.c
  7.8       +0 -101    ircd-ratbox/src/version.com (dead)
  7.9       +0 -25     ircd-ratbox/tools/descrip.mms (dead)
  7.4       +0 -458    ircd-ratbox/tools/mkpasswd_vms.c (dead)



androsyn    2005/01/18 11:55:13 EST	(20050118_7)

  Modified files:
    include              watch.h 
    src                  watch.c 
  Log:
  not using the return values on a few watch functions so make them void
  
  Revision  Changes    Path
  7.2       +5 -5      ircd-ratbox/include/watch.h
  1.4       +19 -28    ircd-ratbox/src/watch.c


androsyn    2005/01/14 13:10:41 EST	(20050114_5)

  Modified files:
    modules              m_watch.c 
  Log:
  Make watch throttle, don't accept letter commands stacked
  
  Revision  Changes    Path
  1.5       +126 -122  ircd-ratbox/modules/m_watch.c



androsyn    2005/01/14 13:06:06 EST	(20050114_4)

  Modified files:
    modules              m_gline.c 
  Log:
  fix merge error
  
  Revision  Changes    Path
  1.149     +1 -1      ircd-ratbox/modules/m_gline.c



androsyn    2005/01/14 12:12:37 EST	(20050114_3)

  Modified files:
    .                    ChangeLog README.FIRST RELNOTES configure 
                         configure.ac 
    adns                 adns.h internal.h parse.c transmit.c 
                         types.c 
    contrib              example_module.c spy_admin_notice.c 
                         spy_info_notice.c spy_links_notice.c 
                         spy_motd_notice.c spy_stats_notice.c 
                         spy_stats_p_notice.c spy_trace_notice.c 
                         spy_whois_notice.c 
                         spy_whois_notice_global.c 
    doc                  example.conf example.efnet.conf ircd.motd 
                         server-version-info whats-new.txt 
    help/opers           umode xline 
    help/users           umode 
    include              cache.h channel.h class.h client.h 
                         commio.h config.h config.h.dist hash.h 
                         hook.h hostmask.h irc_string.h ircd.h 
                         ircd_defs.h m_info.h memory.h msg.h 
                         newconf.h numeric.h packet.h patchlevel.h 
                         patricia.h s_conf.h s_gline.h s_newconf.h 
                         s_serv.h s_user.h scache.h serno.h 
                         setup.h.in sprintf_irc.h stdinc.h tools.h 
    modules              .depend Makefile.in m_admin.c m_away.c 
                         m_dline.c m_encap.c m_gline.c m_info.c 
                         m_kline.c m_links.c m_list.c m_lusers.c 
                         m_motd.c m_oper.c m_operspy.c m_rehash.c 
                         m_restart.c m_resv.c m_set.c m_stats.c 
                         m_svinfo.c m_testline.c m_testmask.c 
                         m_topic.c m_trace.c m_watch.c m_who.c 
                         m_whois.c m_whowas.c m_xline.c 
                         static_modules.c.SH 
    modules/core         m_error.c m_message.c m_mode.c m_quit.c 
                         m_server.c m_squit.c 
    src                  .depend Makefile.in adns.c balloc.c 
                         cache.c channel.c class.c client.c 
                         commio.c crypt.c devpoll.c epoll.c 
                         event.c getopt.c hash.c hook.c hostmask.c 
                         irc_string.c ircd.c ircd_lexer.l 
                         ircd_parser.y ircd_signal.c listener.c 
                         modules.c newconf.c numeric.c packet.c 
                         parse.c patricia.c poll.c reject.c 
                         restart.c s_auth.c s_conf.c s_log.c 
                         s_newconf.c s_serv.c s_user.c scache.c 
                         select.c send.c snprintf.c tools.c 
                         version.c.SH watch.c whowas.c 
    tools                README.mkpasswd mkpasswd.c 
  Added files:
    .                    README.VMS clean.com make.com 
    doc                  services.txt 
    include              common.h s_stats.h setup.h_vms 
                         supported.h 
    modules              descrip.mms m_challenge.c m_etrace.c 
                         m_invite.c m_names.c m_pass.c m_ping.c 
                         m_pong.c m_services.c m_tb.c m_user.c 
                         m_users.c m_version.c 
                         static_modules_c.com 
    modules/core         descrip.mms m_join.c m_kick.c m_nick.c 
                         m_part.c m_sjoin.c 
    servlink             descrip.mms 
    src                  descrip.mms kdparse.c messages.tab qio.c 
                         s_gline.c s_stats.c version.com 
    tools                descrip.mms mkpasswd_vms.c 
  Removed files:
    doc                  005.txt 
    include              banconf.h 
    modules/core         channels.c users.c 
    src                  banconf.c 
  Log:
  merge from RATBOX_2_0
  
  Revision  Changes       Path
  1.1601    +25853 -1906  ircd-ratbox/ChangeLog
  7.40      +1 -0         ircd-ratbox/README.FIRST
  7.1       +46 -0        ircd-ratbox/README.VMS (new)
  1.110     +114 -6       ircd-ratbox/RELNOTES
  1.17      +4 -0         ircd-ratbox/adns/adns.h
  1.17      +4 -4         ircd-ratbox/adns/internal.h
  1.12      +38 -38       ircd-ratbox/adns/parse.c
  1.15      +3 -3         ircd-ratbox/adns/transmit.c
  1.19      +13 -13       ircd-ratbox/adns/types.c
  7.1       +10 -0        ircd-ratbox/clean.com (new)
  7.239     +47 -29       ircd-ratbox/configure
  7.53      +40 -32       ircd-ratbox/configure.ac
  1.12      +7 -6         ircd-ratbox/contrib/example_module.c
  1.13      +9 -7         ircd-ratbox/contrib/spy_admin_notice.c
  1.13      +9 -7         ircd-ratbox/contrib/spy_info_notice.c
  1.19      +9 -9         ircd-ratbox/contrib/spy_links_notice.c
  1.13      +9 -7         ircd-ratbox/contrib/spy_motd_notice.c
  1.20      +22 -22       ircd-ratbox/contrib/spy_stats_notice.c
  1.12      +8 -6         ircd-ratbox/contrib/spy_stats_p_notice.c
  1.14      +12 -12       ircd-ratbox/contrib/spy_trace_notice.c
  1.19      +14 -15       ircd-ratbox/contrib/spy_whois_notice.c
  1.8       +14 -14       ircd-ratbox/contrib/spy_whois_notice_global.c
  1.2       +0 -46        ircd-ratbox/doc/005.txt (dead)
  7.252     +68 -22       ircd-ratbox/doc/example.conf
  7.83      +70 -19       ircd-ratbox/doc/example.efnet.conf
  7.4       +2 -2         ircd-ratbox/doc/ircd.motd
  7.18      +2 -0         ircd-ratbox/doc/server-version-info
  7.1       +37 -0        ircd-ratbox/doc/services.txt (new)
  7.50      +21 -3        ircd-ratbox/doc/whats-new.txt
  1.5       +2 -1         ircd-ratbox/help/opers/umode
  1.7       +1 -1         ircd-ratbox/help/opers/xline
  1.2       +1 -0         ircd-ratbox/help/users/umode
  7.3       +0 -15        ircd-ratbox/include/banconf.h (dead)
  1.7       +8 -0         ircd-ratbox/include/cache.h
  7.162     +18 -16       ircd-ratbox/include/channel.h
  7.25      +4 -0         ircd-ratbox/include/class.h
  7.259     +34 -28       ircd-ratbox/include/client.h
  1.13      +45 -7        ircd-ratbox/include/commio.h
  7.9       +68 -0        ircd-ratbox/include/common.h (new)
  7.181     +74 -16       ircd-ratbox/include/config.h
  7.78      +74 -16       ircd-ratbox/include/config.h.dist
  7.53      +2 -0         ircd-ratbox/include/hash.h
  1.28      +73 -27       ircd-ratbox/include/hook.h
  1.40      +15 -2        ircd-ratbox/include/hostmask.h
  7.61      +7 -1         ircd-ratbox/include/irc_string.h
  7.80      +6 -31        ircd-ratbox/include/ircd.h
  7.54      +4 -0         ircd-ratbox/include/ircd_defs.h
  7.56      +14 -8        ircd-ratbox/include/m_info.h
  7.49      +4 -0         ircd-ratbox/include/memory.h
  7.53      +2 -0         ircd-ratbox/include/msg.h
  7.33      +9 -9         ircd-ratbox/include/newconf.h
  7.53      +12 -8        ircd-ratbox/include/numeric.h
  7.27      +1 -1         ircd-ratbox/include/packet.h
  7.68      +7 -1         ircd-ratbox/include/patchlevel.h
  7.19      +25 -1        ircd-ratbox/include/patricia.h
  7.304     +80 -25       ircd-ratbox/include/s_conf.h
  7.20      +12 -0        ircd-ratbox/include/s_gline.h
  7.44      +1 -48        ircd-ratbox/include/s_newconf.h
  7.97      +7 -1         ircd-ratbox/include/s_serv.h
  7.20      +80 -0        ircd-ratbox/include/s_stats.h (new)
  7.34      +13 -9        ircd-ratbox/include/s_user.h
  7.15      +1 -1         ircd-ratbox/include/scache.h
  7.5366    +1 -1         ircd-ratbox/include/serno.h
  7.93      +3 -0         ircd-ratbox/include/setup.h.in
  7.15      +124 -0       ircd-ratbox/include/setup.h_vms (new)
  7.18      +2 -7         ircd-ratbox/include/sprintf_irc.h
  1.15      +47 -47       ircd-ratbox/include/stdinc.h
  7.1       +124 -0       ircd-ratbox/include/supported.h (new)
  1.53      +10 -10       ircd-ratbox/include/tools.h
  7.1       +58 -0        ircd-ratbox/make.com (new)
  1.45      +338 -182     ircd-ratbox/modules/.depend
  1.115     +20 -4        ircd-ratbox/modules/Makefile.in
  1.14      +0 -1963      ircd-ratbox/modules/core/channels.c (dead)
  1.4       +24 -0        ircd-ratbox/modules/core/descrip.mms (new)
  1.11      +2 -1         ircd-ratbox/modules/core/m_error.c
  1.161     +747 -0       ircd-ratbox/modules/core/m_join.c (new)
  1.81      +201 -0       ircd-ratbox/modules/core/m_kick.c (new)
  1.158     +6 -186       ircd-ratbox/modules/core/m_message.c
  1.118     +97 -195      ircd-ratbox/modules/core/m_mode.c
  1.157     +1026 -0      ircd-ratbox/modules/core/m_nick.c (new)
  1.94      +155 -0       ircd-ratbox/modules/core/m_part.c (new)
  1.50      +5 -2         ircd-ratbox/modules/core/m_quit.c
  1.150     +10 -987      ircd-ratbox/modules/core/m_server.c
  1.203     +759 -0       ircd-ratbox/modules/core/m_sjoin.c (new)
  1.82      +3 -2         ircd-ratbox/modules/core/m_squit.c
  1.26      +0 -2316      ircd-ratbox/modules/core/users.c (dead)
  1.9       +33 -0        ircd-ratbox/modules/descrip.mms (new)
  1.61      +6 -5         ircd-ratbox/modules/m_admin.c
  1.59      +3 -3         ircd-ratbox/modules/m_away.c
  1.72      +273 -0       ircd-ratbox/modules/m_challenge.c (new)
  1.45      +229 -44      ircd-ratbox/modules/m_dline.c
  1.21      +2 -1         ircd-ratbox/modules/m_encap.c
  1.12      +154 -0       ircd-ratbox/modules/m_etrace.c (new)
  1.148     +29 -82       ircd-ratbox/modules/m_gline.c
  1.119     +50 -42       ircd-ratbox/modules/m_info.c
  1.83      +203 -0       ircd-ratbox/modules/m_invite.c (new)
  1.196     +154 -5       ircd-ratbox/modules/m_kline.c
  1.69      +8 -64        ircd-ratbox/modules/m_links.c
  1.80      +4 -4         ircd-ratbox/modules/m_list.c
  1.46      +2 -37        ircd-ratbox/modules/m_lusers.c
  1.57      +6 -5         ircd-ratbox/modules/m_motd.c
  1.81      +193 -0       ircd-ratbox/modules/m_names.c (new)
  1.90      +4 -299       ircd-ratbox/modules/m_oper.c
  1.6       +2 -1         ircd-ratbox/modules/m_operspy.c
  1.49      +101 -0       ircd-ratbox/modules/m_pass.c (new)
  1.58      +115 -0       ircd-ratbox/modules/m_ping.c (new)
  1.58      +134 -0       ircd-ratbox/modules/m_pong.c (new)
  1.87      +34 -60       ircd-ratbox/modules/m_rehash.c
  1.46      +2 -1         ircd-ratbox/modules/m_restart.c
  1.71      +98 -3        ircd-ratbox/modules/m_resv.c
  1.2       +172 -0       ircd-ratbox/modules/m_services.c (new)
  1.80      +31 -1        ircd-ratbox/modules/m_set.c
  1.238     +173 -570     ircd-ratbox/modules/m_stats.c
  1.63      +2 -1         ircd-ratbox/modules/m_svinfo.c
  1.9       +115 -0       ircd-ratbox/modules/m_tb.c (new)
  1.54      +7 -6         ircd-ratbox/modules/m_testline.c
  1.4       +2 -1         ircd-ratbox/modules/m_testmask.c
  1.90      +2 -127       ircd-ratbox/modules/m_topic.c
  1.106     +12 -105      ircd-ratbox/modules/m_trace.c
  1.45      +107 -0       ircd-ratbox/modules/m_user.c (new)
  1.45      +72 -0        ircd-ratbox/modules/m_users.c (new)
  1.68      +157 -0       ircd-ratbox/modules/m_version.c (new)
  1.4       +1 -2         ircd-ratbox/modules/m_watch.c
  1.114     +2 -1         ircd-ratbox/modules/m_who.c
  1.146     +14 -11       ircd-ratbox/modules/m_whois.c
  1.51      +2 -1         ircd-ratbox/modules/m_whowas.c
  1.65      +105 -13      ircd-ratbox/modules/m_xline.c
  1.9       +2 -2         ircd-ratbox/modules/static_modules.c.SH
  1.5       +125 -0       ircd-ratbox/modules/static_modules_c.com (new)
  1.3       +15 -0        ircd-ratbox/servlink/descrip.mms (new)
  7.48      +162 -119     ircd-ratbox/src/.depend
  7.153     +3 -1         ircd-ratbox/src/Makefile.in
  7.75      +5 -5         ircd-ratbox/src/adns.c
  7.84      +1 -1         ircd-ratbox/src/balloc.c
  7.7       +0 -355       ircd-ratbox/src/banconf.c (dead)
  1.23      +75 -7        ircd-ratbox/src/cache.c
  7.429     +342 -79      ircd-ratbox/src/channel.c
  7.67      +42 -2        ircd-ratbox/src/class.c
  7.485     +245 -85      ircd-ratbox/src/client.c
  1.23      +349 -43      ircd-ratbox/src/commio.c
  7.11      +4 -0         ircd-ratbox/src/crypt.c
  7.14      +44 -0        ircd-ratbox/src/descrip.mms (new)
  7.36      +3 -1         ircd-ratbox/src/devpoll.c
  1.32      +4 -8         ircd-ratbox/src/epoll.c
  7.46      +63 -6        ircd-ratbox/src/event.c
  7.23      +4 -0         ircd-ratbox/src/getopt.c
  7.112     +8 -7         ircd-ratbox/src/hash.c
  7.32      +135 -133     ircd-ratbox/src/hook.c
  7.105     +117 -17      ircd-ratbox/src/hostmask.c
  7.76      +79 -26       ircd-ratbox/src/irc_string.c
  7.365     +56 -48       ircd-ratbox/src/ircd.c
  1.166     +11 -7        ircd-ratbox/src/ircd_lexer.l
  1.275     +1 -0         ircd-ratbox/src/ircd_parser.y
  7.25      +25 -10       ircd-ratbox/src/ircd_signal.c
  7.41      +309 -0       ircd-ratbox/src/kdparse.c (new)
  7.122     +14 -13       ircd-ratbox/src/listener.c
  7.119     +1025 -0      ircd-ratbox/src/messages.tab (new)
  7.150     +17 -8        ircd-ratbox/src/modules.c
  7.187     +1196 -344    ircd-ratbox/src/newconf.c
  7.35      +34 -1003     ircd-ratbox/src/numeric.c
  7.137     +55 -42       ircd-ratbox/src/packet.c
  7.187     +8 -15        ircd-ratbox/src/parse.c
  7.28      +2 -4         ircd-ratbox/src/patricia.c
  7.82      +3 -1         ircd-ratbox/src/poll.c
  7.7       +221 -0       ircd-ratbox/src/qio.c (new)
  1.32      +8 -3         ircd-ratbox/src/reject.c
  7.34      +1 -0         ircd-ratbox/src/restart.c
  7.190     +60 -52       ircd-ratbox/src/s_auth.c
  7.497     +892 -156     ircd-ratbox/src/s_conf.c
  7.1       +167 -0       ircd-ratbox/src/s_gline.c (new)
  7.76      +32 -35       ircd-ratbox/src/s_log.c
  7.62      +10 -329      ircd-ratbox/src/s_newconf.c
  7.420     +999 -4       ircd-ratbox/src/s_serv.c
  7.40      +385 -0       ircd-ratbox/src/s_stats.c (new)
  7.334     +773 -2       ircd-ratbox/src/s_user.c
  7.27      +2 -1         ircd-ratbox/src/scache.c
  7.44      +2 -0         ircd-ratbox/src/select.c
  7.285     +12 -12       ircd-ratbox/src/send.c
  1.16      +0 -58        ircd-ratbox/src/snprintf.c
  7.46      +0 -1         ircd-ratbox/src/tools.c
  7.28      +4 -1         ircd-ratbox/src/version.c.SH
  7.7       +101 -0       ircd-ratbox/src/version.com (new)
  1.3       +4 -4         ircd-ratbox/src/watch.c
  7.32      +1 -0         ircd-ratbox/src/whowas.c
  1.8       +5 -0         ircd-ratbox/tools/README.mkpasswd
  7.8       +25 -0        ircd-ratbox/tools/descrip.mms (new)
  7.16      +2 -30        ircd-ratbox/tools/mkpasswd.c
  7.3       +458 -0       ircd-ratbox/tools/mkpasswd_vms.c (new)



androsyn    2005/01/13 22:17:53 EST	(20050114_2)

  Modified files:        (Branch: RATBOX_2_0)
    src                  client.c 
  Log:
  a remote client is never going to have a watch list..duh
  
  Revision    Changes    Path
  7.463.2.13  +0 -1      ircd-ratbox/src/client.c



androsyn    2005/01/13 20:49:55 EST	(20050114_1)

  Added files:           (Branch: RATBOX_2_0)
    modules              m_watch.c 
  Log:
  get that one too
  
  Revision  Changes    Path
  1.3.2.1   +231 -0    ircd-ratbox/modules/m_watch.c (new)



androsyn    2005/01/13 20:39:28 EST	(20050114_0)

  Added files:           (Branch: RATBOX_2_0)
    include              watch.h 
    src                  watch.c 
  Log:
  helps if we actually include the .c/.h files
  
  Revision  Changes    Path
  7.1.2.1   +53 -0     ircd-ratbox/include/watch.h (new)
  1.2.2.1   +241 -0    ircd-ratbox/src/watch.c (new)



androsyn    2005/01/13 13:57:16 EST	(20050113_0)

  Modified files:        (Branch: RATBOX_2_0)
    .                    configure configure.ac 
    include              client.h numeric.h s_conf.h setup.h.in 
                         supported.h 
    modules              Makefile.in 
    modules/core         m_nick.c 
    src                  Makefile.in client.c ircd.c messages.tab 
                         newconf.c s_conf.c s_user.c 
  Log:
  backport watch from devel
  
  Revision    Changes    Path
  7.229.2.10  +12 -2     ircd-ratbox/configure
  7.43.2.10   +4 -2      ircd-ratbox/configure.ac
  7.246.2.12  +4 -0      ircd-ratbox/include/client.h
  7.46.2.5    +10 -0     ircd-ratbox/include/numeric.h
  7.278.2.9   +1 -0      ircd-ratbox/include/s_conf.h
  7.89.2.3    +3 -0      ircd-ratbox/include/setup.h.in
  1.41.2.3    +4 -2      ircd-ratbox/include/supported.h
  1.98.2.3    +1 -0      ircd-ratbox/modules/Makefile.in
  1.152.2.5   +24 -5     ircd-ratbox/modules/core/m_nick.c
  7.148.2.1   +1 -0      ircd-ratbox/src/Makefile.in
  7.463.2.12  +4 -0      ircd-ratbox/src/client.c
  7.343.2.3   +2 -0      ircd-ratbox/src/ircd.c
  7.114.2.9   +10 -10    ircd-ratbox/src/messages.tab
  7.156.2.16  +7 -0      ircd-ratbox/src/newconf.c
  7.470.2.8   +1 -0      ircd-ratbox/src/s_conf.c
  7.323.2.10  +2 -0      ircd-ratbox/src/s_user.c



leeh        2005/01/12 10:12:40 EST	(20050112_1)

  Modified files:        (Branch: RATBOX_2_0)
    include              numeric.h 
    modules              m_services.c m_whois.c 
    src                  messages.tab 
  Log:
  - add RPL_WHOISLOGGEDIN, make m_services.c hook into whois and output this
    when the user is logged in
  
  Revision   Changes    Path
  7.46.2.4   +1 -0      ircd-ratbox/include/numeric.h
  1.1.2.3    +18 -1     ircd-ratbox/modules/m_services.c
  1.140.2.3  +4 -1      ircd-ratbox/modules/m_whois.c
  7.114.2.8  +2 -2      ircd-ratbox/src/messages.tab



leeh        2005/01/11 19:47:14 EST	(20050112_0)

  Modified files:        (Branch: RATBOX_2_0)
    include              supported.h 
  Added files:           (Branch: RATBOX_2_0)
    doc                  services.txt 
  Log:
  - add +r to 005
  - added doc/services.txt, outlining the compatibility code
  
  Revision  Changes    Path
  1.1.2.1   +37 -0     ircd-ratbox/doc/services.txt (new)
  1.41.2.2  +9 -2      ircd-ratbox/include/supported.h



leeh        2005/01/11 18:38:10 EST	(20050111_5)

  Modified files:        (Branch: RATBOX_2_0)
    include              client.h hook.h 
    modules              m_services.c 
    modules/core         m_server.c 
    src                  hook.c s_serv.c 
  Log:
  - more services compatibility code:
    - hook into a server being linked, mark it FLAGS_SERVICE if we find an
      appropriate service {}; entry, only accept SU from these.
    - hook into us finishing nick burst, and have services burst a list of
      logged in users
  
  Revision    Changes    Path
  7.246.2.11  +1 -0      ircd-ratbox/include/client.h
  1.25.2.1    +2 -0      ircd-ratbox/include/hook.h
  1.133.2.1   +4 -1      ircd-ratbox/modules/core/m_server.c
  1.1.2.2     +52 -5     ircd-ratbox/modules/m_services.c
  7.30.2.1    +6 -0      ircd-ratbox/src/hook.c
  7.406.2.9   +7 -1      ircd-ratbox/src/s_serv.c



leeh        2005/01/11 17:32:42 EST	(20050111_4)

  Modified files:        (Branch: RATBOX_2_0)
    .                    configure configure.ac 
    include              client.h 
    modules              Makefile.in 
    src                  channel.c 
  Added files:           (Branch: RATBOX_2_0)
    modules              m_services.c 
  Log:
  - more services compatibility code:
    - encap handlers for SU (services marking client as logged in)
    - and for LOGIN (servers bursting logged in status)
    - move suser from Client -> User
  
  Revision    Changes    Path
  7.229.2.9   +9 -3      ircd-ratbox/configure
  7.43.2.9    +7 -2      ircd-ratbox/configure.ac
  7.246.2.10  +5 -4      ircd-ratbox/include/client.h
  1.98.2.2    +3 -1      ircd-ratbox/modules/Makefile.in
  1.1.2.1     +108 -0    ircd-ratbox/modules/m_services.c (new)
  7.417.2.5   +1 -1      ircd-ratbox/src/channel.c



leeh        2005/01/11 16:46:34 EST	(20050111_3)

  Modified files:        (Branch: RATBOX_2_0)
    include              ircd_defs.h 
  Log:
  - whoops, missing #endif
  
  Revision  Changes    Path
  7.50.4.7  +1 -0      ircd-ratbox/include/ircd_defs.h



leeh        2005/01/11 15:56:57 EST	(20050111_2)

  Modified files:        (Branch: RATBOX_2_0)
    include              ircd_defs.h 
  Log:
  - cygwin doesnt have struct sockaddr_in6, so make GET_SS_LEN() when we dont
    have ipv6 just report sizeof(struct sockaddr_in)
  
  Revision  Changes    Path
  7.50.4.6  +3 -0      ircd-ratbox/include/ircd_defs.h



leeh        2005/01/10 20:19:35 EST	(20050111_1)

  Modified files:        (Branch: RATBOX_2_0)
    src                  newconf.c 
  Log:
  - fix a gcc warning
  
  Revision    Changes    Path
  7.156.2.15  +3 -2      ircd-ratbox/src/newconf.c



leeh        2005/01/10 20:10:35 EST	(20050111_0)

  Modified files:        (Branch: RATBOX_2_0)
    adns                 internal.h parse.c transmit.c types.c 
  Log:
  - fbsd5.3 has introduced fls(), so rename fls -> flstate in adns to avoid
    conflict
  
  Revision   Changes    Path
  1.12.14.4  +4 -4      ircd-ratbox/adns/internal.h
  1.9.6.4    +38 -38    ircd-ratbox/adns/parse.c
  1.13.6.3   +3 -3      ircd-ratbox/adns/transmit.c
  1.14.6.4   +13 -13    ircd-ratbox/adns/types.c



leeh        2005/01/10 17:48:48 EST	(20050110_3)

  Modified files:        (Branch: RATBOX_2_0)
    modules              m_xline.c 
  Log:
  - send out the reformatted xline to opers (\s -> ' ')
  
  Revision  Changes    Path
  1.52.2.6  +3 -3      ircd-ratbox/modules/m_xline.c



leeh        2005/01/10 16:18:53 EST	(20050110_2)

  Modified files:        (Branch: RATBOX_2_0)
    help/opers           umode 
    help/users           umode 
    include              client.h supported.h 
    src                  messages.tab s_user.c send.c 
  Log:
  - alzs diff to add usermode +D, "deaf", which shields a user from seeing
    channel privmsgs.
  
  Revision   Changes    Path
  1.3.6.2    +1 -0      ircd-ratbox/help/opers/umode
  1.1.22.1   +1 -0      ircd-ratbox/help/users/umode
  7.246.2.9  +5 -2      ircd-ratbox/include/client.h
  1.41.2.1   +9 -9      ircd-ratbox/include/supported.h
  7.114.2.7  +1 -1      ircd-ratbox/src/messages.tab
  7.323.2.9  +2 -1      ircd-ratbox/src/s_user.c
  7.280.2.2  +3 -0      ircd-ratbox/src/send.c



leeh        2005/01/10 14:50:47 EST	(20050110_1)

  Modified files:        (Branch: RATBOX_2_0)
    doc                  example.conf example.efnet.conf 
  Log:
  - I dont remember ts6 desyncing on bans, so im not sure why the example
    confs say so.
  
  Revision   Changes    Path
  7.243.2.9  +1 -2      ircd-ratbox/doc/example.conf
  7.75.2.10  +1 -2      ircd-ratbox/doc/example.efnet.conf



leeh        2005/01/10 13:31:10 EST	(20050110_0)

  Modified files:        (Branch: RATBOX_2_0)
    .                    configure configure.ac 
    include              channel.h client.h numeric.h s_conf.h 
                         s_serv.h setup.h.in 
    modules/core         m_join.c m_kick.c m_mode.c m_nick.c 
                         m_sjoin.c 
    src                  channel.c messages.tab newconf.c s_conf.c 
                         s_serv.c s_user.c 
  Log:
  - added --enable-services to configure, which enables some ratbox-services
    compatibility code:
      - chanmode +r, registered users only
      - usermode +S, prevents deop/kick of a service
      - service { }; block in conf for the above umode
  
  Revision    Changes    Path
  7.229.2.8   +28 -16    ircd-ratbox/configure
  7.43.2.8    +19 -16    ircd-ratbox/configure.ac
  7.152.4.5   +4 -3      ircd-ratbox/include/channel.h
  7.246.2.8   +10 -4     ircd-ratbox/include/client.h
  7.46.2.3    +2 -1      ircd-ratbox/include/numeric.h
  7.278.2.8   +4 -0      ircd-ratbox/include/s_conf.h
  7.94.2.1    +2 -1      ircd-ratbox/include/s_serv.h
  7.89.2.2    +3 -0      ircd-ratbox/include/setup.h.in
  1.156.2.1   +9 -1      ircd-ratbox/modules/core/m_join.c
  1.79.2.1    +11 -1     ircd-ratbox/modules/core/m_kick.c
  1.112.2.4   +56 -1     ircd-ratbox/modules/core/m_mode.c
  1.152.2.4   +24 -1     ircd-ratbox/modules/core/m_nick.c
  1.201.2.4   +9 -1      ircd-ratbox/modules/core/m_sjoin.c
  7.417.2.4   +14 -1     ircd-ratbox/src/channel.c
  7.114.2.6   +2 -2      ircd-ratbox/src/messages.tab
  7.156.2.14  +35 -0     ircd-ratbox/src/newconf.c
  7.470.2.7   +15 -0     ircd-ratbox/src/s_conf.c
  7.406.2.8   +3 -0      ircd-ratbox/src/s_serv.c
  7.323.2.8   +12 -0     ircd-ratbox/src/s_user.c



leeh        2005/01/09 08:23:30 EST	(20050109_0)

  Modified files:        (Branch: RATBOX_2_0)
    help/opers           umode 
  Log:
  - remove a tab, and add +C to opers umode help
  
  Revision  Changes    Path
  1.3.6.1   +1 -0      ircd-ratbox/help/opers/umode

